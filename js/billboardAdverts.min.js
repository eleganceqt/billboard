(function(c,b,a){c(function(){const d={$wrapper:c("#adverts-wrapper"),dom:{$partnersDropdown:c(".partners-dropdown"),$citiesDropdown:c(".cities-dropdown"),$categoriesDropdown:c(".categories-dropdown"),$modalPlaceholder:c(".modal-placeholder")},selector:{toggleChildren:".toggle-children"},privates:{jqXHR:{abort:function(){}}},appBackendUrl:"/webasyst/billboard/",initialize:function(){this.initializeSemanticUI();this.addDirectEventListeners();this.addDelegatedEventListeners()},initializeSemanticUI:function(){this.initDropdownComponent();this.initializeCheckboxComponent()},initDropdownComponent:function(){this.initPartnersDropdown();this.initCitiesDropdown();this.initCategoriesDropdown()},initializeCheckboxComponent:function(){this.$wrapper.find(".ui.checkbox").checkbox({enableEnterKey:false})},initPartnersDropdown:function(){this.dom.$partnersDropdown.dropdown({clearable:true,selectOnKeydown:false,forceSelection:false,useLabels:false,showOnFocus:false,allowTab:false,fullTextSearch:true,message:{count:"{count} выбрано",noResults:"Результатов не найдено."},onChange:function(f,g,e){let $dropdown=c(this);if(typeof e==="object"){e.find(".ui.checkbox").checkbox("uncheck")}if(typeof e==="string"){$dropdown.find('.items-menu .item[data-value="'+g+'"] .ui.checkbox').checkbox("check")}if(typeof e==="undefined"){$dropdown.find(".ui.checkbox.checked").checkbox("uncheck")}}})},initCitiesDropdown:function(){this.dom.$citiesDropdown.dropdown({clearable:true,selectOnKeydown:false,forceSelection:false,useLabels:false,showOnFocus:false,allowTab:false,fullTextSearch:true,message:{count:"{count} выбрано",noResults:"Результатов не найдено."},onChange:function(f,g,e){let $dropdown=c(this);if(typeof e==="object"){e.find(".ui.checkbox").checkbox("uncheck")}if(typeof e==="string"){$dropdown.find('.items-menu .item[data-value="'+g+'"] .ui.checkbox').checkbox("check")}if(typeof e==="undefined"){$dropdown.find(".ui.checkbox.checked").checkbox("uncheck")}}})},initCategoriesDropdown:function(){this.dom.$categoriesDropdown.dropdown({clearable:true,selectOnKeydown:false,forceSelection:false,useLabels:false,showOnFocus:false,allowTab:false,fullTextSearch:true,message:{count:"{count} выбрано",noResults:"Результатов не найдено."},onChange:function(f,g,e){console.log("__onChange__");let $dropdown=c(this);if(typeof e==="object"){e.find(".ui.checkbox").checkbox("uncheck")}if(typeof e==="string"){$dropdown.find('.items-menu .item[data-value="'+g+'"] .ui.checkbox').checkbox("check")}if(typeof e==="undefined"){$dropdown.find(".ui.checkbox.checked").checkbox("uncheck")}}})},addDirectEventListeners:function(){c(this.selector.toggleChildren).on("click",c.proxy(this.onChildrenToggle,this));c(".class").on("click",function(e){})},addDelegatedEventListeners:function(){this.$wrapper.on("input",".search-input",c.proxy(this.onSearch,this)).on("click",".toggle-filters",c.proxy(this.onFilterToggle,this)).on("click",".open-modal:not(.loading)",c.proxy(this.onModalOpen,this))},onSearch:function(e){let that=this;let $target=c(e.target);console.log(e)},onFilterToggle:function(e){this.$wrapper.find(".filter-row").transition("fade down")},onChildrenToggle:function(e){e.preventDefault();e.stopPropagation();let $this=c(e.target);$this.toggleClass("left down")},onModalOpen:function(e){let that=this;let $button=c(e.currentTarget);$button.addClass("loading");c.ajax({url:that.appBackendUrl+"adverts/fetchModal/",method:"POST",data:{},async:true,cache:false,processData:true,dataType:"json",error:function(f,h,g){},success:function(f,h,g){if(f.status==="ok"){that.buildUpModal(f.data.modalContent)}if(f.status==="fail"){}},complete:function(f,g){$button.removeClass("loading")}})},buildUpModal:function(e){let that=this;let $modal=that.$wrapper.find(".modal-placeholder").html(e).find(".ui.modal");that.prepareModal($modal);$modal.modal({autofocus:false,centered:true,restoreFocus:false,observeChanges:false,keyboardShortcuts:false,closable:false,duration:350,onHidden:function(){$modal.remove()}}).modal("show")},prepareModal:function(e){e.find(".ui.dropdown").dropdown();e.find(".city-dropdown").dropdown({clearable:true,selectOnKeydown:false,forceSelection:false,useLabels:false,showOnFocus:false,allowTab:false,fullTextSearch:true,message:{count:"{count} выбрано",noResults:"Результатов не найдено."}});e.find(".category-dropdown").dropdown({clearable:true,selectOnKeydown:false,forceSelection:false,useLabels:false,showOnFocus:false,allowTab:false,fullTextSearch:true,message:{count:"{count} выбрано",noResults:"Результатов не найдено."}})},sendSearchAjax:function(){}};d.initialize()})}(jQuery,window,document));