!function(e,d,c,a){e.site=e.fn.site=function(x){var D,p,q=(new Date).getTime(),h=[],C=x,j="string"==typeof C,z=[].slice.call(arguments,1),B=e.isPlainObject(x)?e.extend(!0,{},e.site.settings,x):e.extend({},e.site.settings),A=B.namespace,y=B.error,b="module-"+A,w=e(c),k=this,v=w.data(b);return D={initialize:function(){D.instantiate()},instantiate:function(){D.verbose("Storing instance of site",D),v=D,w.data(b,D)},normalize:function(){D.fix.console(),D.fix.requestAnimationFrame()},fix:{console:function(){D.debug("Normalizing window.console"),console!==a&&console.log!==a||(D.verbose("Console not available, normalizing events"),D.disable.console()),void 0!==console.group&&void 0!==console.groupEnd&&void 0!==console.groupCollapsed||(D.verbose("Console group not available, normalizing events"),d.console.group=function(){},d.console.groupEnd=function(){},d.console.groupCollapsed=function(){}),void 0===console.markTimeline&&(D.verbose("Mark timeline not available, normalizing events"),d.console.markTimeline=function(){})},consoleClear:function(){D.debug("Disabling programmatic console clearing"),d.console.clear=function(){}},requestAnimationFrame:function(){D.debug("Normalizing requestAnimationFrame"),d.requestAnimationFrame===a&&(D.debug("RequestAnimationFrame not available, normalizing event"),d.requestAnimationFrame=d.requestAnimationFrame||d.mozRequestAnimationFrame||d.webkitRequestAnimationFrame||d.msRequestAnimationFrame||function(f){setTimeout(f,0)})}},moduleExists:function(f){return e.fn[f]!==a&&e.fn[f].settings!==a},enabled:{modules:function(f){var g=[];return f=f||B.modules,e.each(f,function(l,i){D.moduleExists(i)&&g.push(i)}),g}},disabled:{modules:function(f){var g=[];return f=f||B.modules,e.each(f,function(l,i){D.moduleExists(i)||g.push(i)}),g}},change:{setting:function(l,f,i,g){i="string"==typeof i?"all"===i?B.modules:[i]:i||B.modules,g=g===a||g,e.each(i,function(r,o){var s,m=!D.moduleExists(o)||(e.fn[o].settings.namespace||!1);D.moduleExists(o)&&(D.verbose("Changing default setting",l,f,o),e.fn[o].settings[l]=f,g&&m&&0<(s=e(":data(module-"+m+")")).length&&(D.verbose("Modifying existing settings",s),s[o]("setting",l,f)))})},settings:function(f,g,l){g="string"==typeof g?[g]:g||B.modules,l=l===a||l,e.each(g,function(m,i){var o;D.moduleExists(i)&&(D.verbose("Changing default setting",f,i),e.extend(!0,e.fn[i].settings,f),l&&A&&0<(o=e(":data(module-"+A+")")).length&&(D.verbose("Modifying existing settings",o),o[i]("setting",f)))})}},enable:{console:function(){D.console(!0)},debug:function(g,f){g=g||B.modules,D.debug("Enabling debug for modules",g),D.change.setting("debug",!0,g,f)},verbose:function(g,f){g=g||B.modules,D.debug("Enabling verbose debug for modules",g),D.change.setting("verbose",!0,g,f)}},disable:{console:function(){D.console(!1)},debug:function(g,f){g=g||B.modules,D.debug("Disabling debug for modules",g),D.change.setting("debug",!1,g,f)},verbose:function(g,f){g=g||B.modules,D.debug("Disabling verbose debug for modules",g),D.change.setting("verbose",!1,g,f)}},console:function(f){if(f){if(v.cache.console===a){return void D.error(y.console)}D.debug("Restoring console function"),d.console=v.cache.console}else{D.debug("Disabling console function"),v.cache.console=d.console,d.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}}},destroy:function(){D.verbose("Destroying previous site for",w),w.removeData(b)},cache:{},setting:function(g,f){if(e.isPlainObject(g)){e.extend(!0,B,g)}else{if(f===a){return B[g]}B[g]=f}},internal:function(g,f){if(e.isPlainObject(g)){e.extend(!0,D,g)}else{if(f===a){return D[g]}D[g]=f}},debug:function(){B.debug&&(B.performance?D.performance.log(arguments):(D.debug=Function.prototype.bind.call(console.info,console,B.name+":"),D.debug.apply(console,arguments)))},verbose:function(){B.verbose&&B.debug&&(B.performance?D.performance.log(arguments):(D.verbose=Function.prototype.bind.call(console.info,console,B.name+":"),D.verbose.apply(console,arguments)))},error:function(){D.error=Function.prototype.bind.call(console.error,console,B.name+":"),D.error.apply(console,arguments)},performance:{log:function(g){var f,i;B.performance&&(i=(f=(new Date).getTime())-(q||f),q=f,h.push({Element:k,Name:g[0],Arguments:[].slice.call(g,1)||"","Execution Time":i})),clearTimeout(D.performance.timer),D.performance.timer=setTimeout(D.performance.display,500)},display:function(){var f=B.name+":",g=0;q=!1,clearTimeout(D.performance.timer),e.each(h,function(l,i){g+=i["Execution Time"]}),f+=" "+g+"ms",(console.group!==a||console.table!==a)&&0<h.length&&(console.groupCollapsed(f),console.table?console.table(h):e.each(h,function(l,i){console.log(i.Name+": "+i["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(l,s,g){var u,f,E,m=v;return s=s||z,g=k||g,"string"==typeof l&&m!==a&&(l=l.split(/[\. ]/),u=l.length-1,e.each(l,function(o,i){var r=o!=u?i+l[o+1].charAt(0).toUpperCase()+l[o+1].slice(1):l;if(e.isPlainObject(m[r])&&o!=u){m=m[r]}else{if(m[r]!==a){return f=m[r],!1}if(!e.isPlainObject(m[i])||o==u){return m[i]!==a?f=m[i]:D.error(y.method,l),!1}m=m[i]}})),e.isFunction(f)?E=f.apply(g,s):f!==a&&(E=f),e.isArray(p)?p.push(E):p!==a?p=[p,E]:E!==a&&(p=E),f}},j?(v===a&&D.initialize(),D.invoke(C)):(v!==a&&D.destroy(),D.initialize()),p!==a?p:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(b){return function(f){return !!e.data(f,b)}}):function(f,b,g){return !!e.data(f,g[3])}})}(jQuery,window,document),function(a,d,c,b){d=void 0!==d&&d.Math==Math?d:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),a.fn.form=function(m){var e,n=a(this),i=n.selector||"",h=(new Date).getTime(),g=[],f=m,j=arguments[1],l="string"==typeof f,o=[].slice.call(arguments,1);return n.each(function(){var D,F,x,K,L,M,w,J,E,G,z,C,O,I,B,H,A=a(this),q=this,N=[],k=!1;(H={initialize:function(){H.get.settings(),l?(B===b&&H.instantiate(),H.invoke(f)):(B!==b&&B.invoke("destroy"),H.verbose("Initializing form validation",A,L),H.bindEvents(),H.set.defaults(),H.instantiate())},instantiate:function(){H.verbose("Storing instance of module",H),B=H,A.data(O,H)},destroy:function(){H.verbose("Destroying previous module",B),H.removeEvents(),A.removeData(O)},refresh:function(){H.verbose("Refreshing selector cache"),D=A.find(J.field),F=A.find(J.group),x=A.find(J.message),A.find(J.prompt),K=A.find(J.submit),A.find(J.clear),A.find(J.reset)},submit:function(){H.verbose("Submitting form",A),A.submit()},attachEvents:function(r,p){p=p||"submit",a(r).on("click"+I,function(s){H[p](),s.preventDefault()})},bindEvents:function(){H.verbose("Attaching form events"),A.on("submit"+I,H.validate.form).on("blur"+I,J.field,H.event.field.blur).on("click"+I,J.submit,H.submit).on("click"+I,J.reset,H.reset).on("click"+I,J.clear,H.clear),L.keyboardShortcuts&&A.on("keydown"+I,J.field,H.event.field.keydown),D.each(function(){var r=a(this),p=r.prop("type"),s=H.get.changeEvent(p,r);a(this).on(s+I,H.event.field.change)})},clear:function(){D.each(function(){var y=a(this),u=y.parent(),Q=y.closest(F),s=Q.find(J.prompt),P=y.data(w.defaultValue)||"",p=u.is(J.uiCheckbox),v=u.is(J.uiDropdown);Q.hasClass(E.error)&&(H.verbose("Resetting error on field",Q),Q.removeClass(E.error),s.remove()),v?(H.verbose("Resetting dropdown value",u,P),u.dropdown("clear")):p?y.prop("checked",!1):(H.verbose("Resetting field value",y,P),y.val(""))})},reset:function(){D.each(function(){var Q=a(this),v=Q.parent(),S=Q.closest(F),u=S.find(J.prompt),R=Q.data(w.defaultValue),p=v.is(J.uiCheckbox),P=v.is(J.uiDropdown),y=S.hasClass(E.error);R!==b&&(y&&(H.verbose("Resetting error on field",S),S.removeClass(E.error),u.remove()),P?(H.verbose("Resetting dropdown value",v,R),v.dropdown("restore defaults")):p?(H.verbose("Resetting checkbox value",v,R),Q.prop("checked",R)):(H.verbose("Resetting field value",Q,R),Q.val(R)))})},determine:{isValid:function(){var p=!0;return a.each(M,function(s,r){H.validate.field(r,s,!0)||(p=!1)}),p}},is:{bracketedRule:function(p){return p.type&&p.type.match(L.regExp.bracket)},shorthandFields:function(r){var p=r[Object.keys(r)[0]];return H.is.shorthandRules(p)},shorthandRules:function(p){return"string"==typeof p||a.isArray(p)},empty:function(p){return !p||0===p.length||(p.is('input[type="checkbox"]')?!p.is(":checked"):H.is.blank(p))},blank:function(p){return""===a.trim(p.val())},valid:function(p){var r=!0;return p?(H.verbose("Checking if field is valid",p),H.validate.field(M[p],p,!1)):(H.verbose("Checking if form is valid"),a.each(M,function(u,s){H.is.valid(u)||(r=!1)}),r)}},removeEvents:function(){A.off(I),D.off(I),K.off(I),D.off(I)},event:{field:{keydown:function(y){var u=a(this),Q=y.which,s=u.is(J.input),P=u.is(J.checkbox),p=0<u.closest(J.uiDropdown).length,v=13;Q==27&&(H.verbose("Escape key pressed blurring field"),u.blur()),y.ctrlKey||Q!=v||!s||p||P||(k||(u.one("keyup"+I,H.event.field.keyup),H.submit(),H.debug("Enter pressed on input submitting form")),k=!0)},keyup:function(){k=!1},blur:function(s){var r=a(this),u=r.closest(F),p=H.get.validation(r);u.hasClass(E.error)?(H.debug("Revalidating field",r,p),p&&H.validate.field(p)):"blur"==L.on&&p&&H.validate.field(p)},change:function(s){var r=a(this),u=r.closest(F),p=H.get.validation(r);p&&("change"==L.on||u.hasClass(E.error)&&L.revalidate)&&(clearTimeout(H.timer),H.timer=setTimeout(function(){H.debug("Revalidating field",r,H.get.validation(r)),H.validate.field(p)},L.delay))}}},get:{ancillaryValue:function(p){return !(!p.type||!p.value&&!H.is.bracketedRule(p))&&(p.value!==b?p.value:p.type.match(L.regExp.bracket)[1]+"")},ruleName:function(p){return H.is.bracketedRule(p)?p.type.replace(p.type.match(L.regExp.bracket)[0],""):p.type},changeEvent:function(r,p){return"checkbox"==r||"radio"==r||"hidden"==r||p.is("select")?"change":H.get.inputEvent()},inputEvent:function(){return c.createElement("input").oninput!==b?"input":c.createElement("input").onpropertychange!==b?"propertychange":"keyup"},fieldsFromShorthand:function(r){var p={};return a.each(r,function(t,s){"string"==typeof s&&(s=[s]),p[t]={rules:[]},a.each(s,function(v,u){p[t].rules.push({type:u})})}),p},prompt:function(R,V){var y,Q,v=H.get.ruleName(R),T=H.get.ancillaryValue(R),p=H.get.field(V.identifier),W=p.val(),P=a.isFunction(R.prompt)?R.prompt(W):R.prompt||L.prompt[v]||L.text.unspecifiedRule,S=-1!==P.search("{value}"),U=-1!==P.search("{name}");return S&&(P=P.replace("{value}",p.val())),U&&(Q=1==(y=p.closest(J.group).find("label").eq(0)).length?y.text():p.prop("placeholder")||L.text.unspecifiedField,P=P.replace("{name}",Q)),P=(P=P.replace("{identifier}",V.identifier)).replace("{ruleValue}",T),R.prompt||H.verbose("Using default validation prompt for type",P,v),P},settings:function(){if(a.isPlainObject(m)){var p=Object.keys(m);0<p.length&&(m[p[0]].identifier!==b&&m[p[0]].rules!==b)?(L=a.extend(!0,{},a.fn.form.settings,j),M=a.extend({},a.fn.form.settings.defaults,m),H.error(L.error.oldSyntax,q),H.verbose("Extending settings from legacy parameters",M,L)):(m.fields&&H.is.shorthandFields(m.fields)&&(m.fields=H.get.fieldsFromShorthand(m.fields)),L=a.extend(!0,{},a.fn.form.settings,m),M=a.extend({},a.fn.form.settings.defaults,L.fields),H.verbose("Extending settings",M,L))}else{L=a.fn.form.settings,M=a.fn.form.settings.defaults,H.verbose("Using default form validation",M,L)}C=L.namespace,w=L.metadata,J=L.selector,E=L.className,G=L.regExp,z=L.error,O="module-"+C,I="."+C,B=A.data(O),H.refresh()},field:function(p){return H.verbose("Finding field with identifier",p),p=H.escape.string(p),0<D.filter("#"+p).length?D.filter("#"+p):0<D.filter('[name="'+p+'"]').length?D.filter('[name="'+p+'"]'):0<D.filter('[name="'+p+'[]"]').length?D.filter('[name="'+p+'[]"]'):0<D.filter("[data-"+w.validate+'="'+p+'"]').length?D.filter("[data-"+w.validate+'="'+p+'"]'):a("<input/>")},fields:function(p){var r=a();return a.each(p,function(u,s){r=r.add(H.get.field(s))}),r},validation:function(s){var p,r;return !!M&&(a.each(M,function(v,u){r=u.identifier||v,H.get.field(r)[0]==s[0]&&(u.identifier=r,p=u)}),p||!1)},value:function(r){var p=[];return p.push(r),H.get.values.call(q,p)[r]},values:function(r){var p=a.isArray(r)?H.get.fields(r):D,s={};return p.each(function(R,T){var y=a(T),Q=(y.prop("type"),y.prop("name")),v=y.val(),S=y.is(J.checkbox),u=y.is(J.radio),U=-1!==Q.indexOf("[]"),P=!!S&&y.is(":checked");Q&&(U?(Q=Q.replace("[]",""),s[Q]||(s[Q]=[]),S?P?s[Q].push(v||!0):s[Q].push(!1):s[Q].push(v)):u?s[Q]!==b&&0!=s[Q]||(s[Q]=!!P&&(v||!0)):s[Q]=S?!!P&&(v||!0):v)}),s}},has:{field:function(p){return H.verbose("Checking for existence of a field with identifier",p),"string"!=typeof(p=H.escape.string(p))&&H.error(z.identifier,p),0<D.filter("#"+p).length||(0<D.filter('[name="'+p+'"]').length||0<D.filter("[data-"+w.validate+'="'+p+'"]').length)}},escape:{string:function(p){return(p=String(p)).replace(G.escape,"\\$&")}},add:{rule:function(r,p){H.add.field(r,p)},field:function(s,r){var p={};H.is.shorthandRules(r)?(r=a.isArray(r)?r:[r],p[s]={rules:[]},a.each(r,function(v,u){p[s].rules.push({type:u})})):p[s]=r,M=a.extend({},M,p),H.debug("Adding rules",p,M)},fields:function(r){var p;p=r&&H.is.shorthandFields(r)?H.get.fieldsFromShorthand(r):r,M=a.extend({},M,p)},prompt:function(s,r){var v=H.get.field(s).closest(F),p=v.children(J.prompt),u=0!==p.length;r="string"==typeof r?[r]:r,H.verbose("Adding field error state",s),v.addClass(E.error),L.inline&&(u||(p=L.templates.prompt(r)).appendTo(v),p.html(r[0]),u?H.verbose("Inline errors are disabled, no inline error added",s):L.transition&&a.fn.transition!==b&&A.transition("is supported")?(H.verbose("Displaying error with css transition",L.transition),p.transition(L.transition+" in",L.duration)):(H.verbose("Displaying error with fallback javascript animation"),p.fadeIn(L.duration)))},errors:function(p){H.debug("Adding form error messages",p),H.set.error(),x.html(L.templates.error(p))}},remove:{rule:function(s,r){var p=a.isArray(r)?r:[r];if(r==b){return H.debug("Removed all rules"),void (M[s].rules=[])}M[s]!=b&&a.isArray(M[s].rules)&&a.each(M[s].rules,function(v,u){-1!==p.indexOf(u.type)&&(H.debug("Removed rule",u.type),M[s].rules.splice(v,1))})},field:function(r){var p=a.isArray(r)?r:[r];a.each(p,function(u,s){H.remove.rule(s)})},rules:function(p,r){a.isArray(p)?a.each(fields,function(u,s){H.remove.rule(s,r)}):H.remove.rule(p,r)},fields:function(p){H.remove.field(p)},prompt:function(r){var p=H.get.field(r).closest(F),s=p.children(J.prompt);p.removeClass(E.error),L.inline&&s.is(":visible")&&(H.verbose("Removing prompt for field",r),L.transition&&a.fn.transition!==b&&A.transition("is supported")?s.transition(L.transition+" out",L.duration,function(){s.remove()}):s.fadeOut(L.duration,function(){s.remove()}))}},set:{success:function(){A.removeClass(E.error).addClass(E.success)},defaults:function(){D.each(function(){var r=a(this),p=0<r.filter(J.checkbox).length?r.is(":checked"):r.val();r.data(w.defaultValue,p)})},error:function(){A.removeClass(E.success).addClass(E.error)},value:function(r,p){var s={};return s[r]=p,H.set.values.call(q,s)},values:function(p){a.isEmptyObject(p)||a.each(p,function(R,T){var y,Q=H.get.field(R),v=Q.parent(),S=a.isArray(T),u=v.is(J.uiCheckbox),U=v.is(J.uiDropdown),P=Q.is(J.radio)&&u;0<Q.length&&(S&&u?(H.verbose("Selecting multiple",T,Q),v.checkbox("uncheck"),a.each(T,function(s,r){y=Q.filter('[value="'+r+'"]'),v=y.parent(),0<y.length&&v.checkbox("check")})):P?(H.verbose("Selecting radio value",T,Q),Q.filter('[value="'+T+'"]').parent(J.uiCheckbox).checkbox("check")):u?(H.verbose("Setting checkbox value",T,v),!0===T?v.checkbox("check"):v.checkbox("uncheck")):U?(H.verbose("Setting dropdown value",T,v),v.dropdown("set selected",T)):(H.verbose("Setting field value",T,Q),Q.val(T)))})}},validate:{form:function(r,p){var s=H.get.values();if(k){return !1}if(N=[],H.determine.isValid()){if(H.debug("Form has no validation errors, submitting"),H.set.success(),!0!==p){return L.onSuccess.call(q,r,s)}}else{if(H.debug("Form has errors"),H.set.error(),L.inline||H.add.errors(N),A.data("moduleApi")!==b&&r.stopImmediatePropagation(),!0!==p){return L.onFailure.call(q,N,s)}}},field:function(S,Q,v){v=v===b||v,"string"==typeof S&&(H.verbose("Validating field",S),S=M[Q=S]);var u=S.identifier||Q,R=H.get.field(u),p=!!S.depends&&H.get.field(S.depends),P=!0,y=[];return S.identifier||(H.debug("Using field name as identifier",u),S.identifier=u),R.prop("disabled")?(H.debug("Field is disabled. Skipping",u),P=!0):S.optional&&H.is.blank(R)?(H.debug("Field is optional and blank. Skipping",u),P=!0):S.depends&&H.is.empty(p)?(H.debug("Field depends on another value that is not present or empty. Skipping",p),P=!0):S.rules!==b&&a.each(S.rules,function(s,r){H.has.field(u)&&!H.validate.rule(S,r)&&(H.debug("Field is invalid",u,r.type),y.push(H.get.prompt(r,S)),P=!1)}),P?(v&&(H.remove.prompt(u,y),L.onValid.call(R)),!0):(v&&(N=N.concat(y),H.add.prompt(u,y),L.onInvalid.call(R,y)),!1)},rule:function(y,u){var Q=H.get.field(y.identifier),s=(u.type,Q.val()),P=H.get.ancillaryValue(u),p=H.get.ruleName(u),v=L.rules[p];if(a.isFunction(v)){return s=s===b||""===s||null===s?"":a.trim(s+""),v.call(Q,s,P)}H.error(z.noRule,p)}},setting:function(r,p){if(a.isPlainObject(r)){a.extend(!0,L,r)}else{if(p===b){return L[r]}L[r]=p}},internal:function(r,p){if(a.isPlainObject(r)){a.extend(!0,H,r)}else{if(p===b){return H[r]}H[r]=p}},debug:function(){!L.silent&&L.debug&&(L.performance?H.performance.log(arguments):(H.debug=Function.prototype.bind.call(console.info,console,L.name+":"),H.debug.apply(console,arguments)))},verbose:function(){!L.silent&&L.verbose&&L.debug&&(L.performance?H.performance.log(arguments):(H.verbose=Function.prototype.bind.call(console.info,console,L.name+":"),H.verbose.apply(console,arguments)))},error:function(){L.silent||(H.error=Function.prototype.bind.call(console.error,console,L.name+":"),H.error.apply(console,arguments))},performance:{log:function(r){var p,s;L.performance&&(s=(p=(new Date).getTime())-(h||p),h=p,g.push({Name:r[0],Arguments:[].slice.call(r,1)||"",Element:q,"Execution Time":s})),clearTimeout(H.performance.timer),H.performance.timer=setTimeout(H.performance.display,500)},display:function(){var p=L.name+":",r=0;h=!1,clearTimeout(H.performance.timer),a.each(g,function(u,s){r+=s["Execution Time"]}),p+=" "+r+"ms",i&&(p+=" '"+i+"'"),1<n.length&&(p+=" ("+n.length+")"),(console.group!==b||console.table!==b)&&0<g.length&&(console.groupCollapsed(p),console.table?console.table(g):a.each(g,function(u,s){console.log(s.Name+": "+s["Execution Time"]+"ms")}),console.groupEnd()),g=[]}},invoke:function(u,y,s){var P,p,Q,v=B;return y=y||o,s=q||s,"string"==typeof u&&v!==b&&(u=u.split(/[\. ]/),P=u.length-1,a.each(u,function(R,r){var S=R!=P?r+u[R+1].charAt(0).toUpperCase()+u[R+1].slice(1):u;if(a.isPlainObject(v[S])&&R!=P){v=v[S]}else{if(v[S]!==b){return p=v[S],!1}if(!a.isPlainObject(v[r])||R==P){return v[r]!==b&&(p=v[r]),!1}v=v[r]}})),a.isFunction(p)?Q=p.apply(s,y):p!==b&&(Q=p),a.isArray(e)?e.push(Q):e!==b?e=[e,Q]:Q!==b&&(e=Q),p}}).initialize()}),e!==b?e:this},a.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return !0},onFailure:function(){return !1},metadata:{defaultValue:"default",validate:"validate"},regExp:{htmlID:/^[a-zA-Z][\w:.-]*$/g,bracket:/\[(.*)\]/i,decimal:/^\d+\.?\d*$/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} must contain "{ruleValue}"',containExactly:'{name} must contain exactly "{ruleValue}"',doesntContain:'{name} cannot contain  "{ruleValue}"',doesntContainExactly:'{name} cannot contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(f){var g='<ul class="list">';return a.each(f,function(i,h){g+="<li>"+h+"</li>"}),a(g+="</ul>")},prompt:function(f){return a("<div/>").addClass("ui basic red pointing prompt label").html(f[0])}},rules:{empty:function(f){return !(f===b||""===f||a.isArray(f)&&0===f.length)},checked:function(){return 0<a(this).filter(":checked").length},email:function(f){return a.fn.form.settings.regExp.email.test(f)},url:function(f){return a.fn.form.settings.regExp.url.test(f)},regExp:function(h,g){if(g instanceof RegExp){return h.match(g)}var j,f=g.match(a.fn.form.settings.regExp.flags);return f&&(g=2<=f.length?f[1]:g,j=3<=f.length?f[2]:""),h.match(new RegExp(g,j))},integer:function(j,h){var l,g,k,f=a.fn.form.settings.regExp.integer;return h&&-1===["",".."].indexOf(h)&&(-1==h.indexOf("..")?f.test(h)&&(l=g=h-0):(k=h.split("..",2),f.test(k[0])&&(l=k[0]-0),f.test(k[1])&&(g=k[1]-0))),f.test(j)&&(l===b||l<=j)&&(g===b||j<=g)},decimal:function(f){return a.fn.form.settings.regExp.decimal.test(f)},number:function(f){return a.fn.form.settings.regExp.number.test(f)},is:function(g,f){return f="string"==typeof f?f.toLowerCase():f,(g="string"==typeof g?g.toLowerCase():g)==f},isExactly:function(g,f){return g==f},not:function(g,f){return(g="string"==typeof g?g.toLowerCase():g)!=(f="string"==typeof f?f.toLowerCase():f)},notExactly:function(g,f){return g!=f},contains:function(g,f){return f=f.replace(a.fn.form.settings.regExp.escape,"\\$&"),-1!==g.search(new RegExp(f,"i"))},containsExactly:function(g,f){return f=f.replace(a.fn.form.settings.regExp.escape,"\\$&"),-1!==g.search(new RegExp(f))},doesntContain:function(g,f){return f=f.replace(a.fn.form.settings.regExp.escape,"\\$&"),-1===g.search(new RegExp(f,"i"))},doesntContainExactly:function(g,f){return f=f.replace(a.fn.form.settings.regExp.escape,"\\$&"),-1===g.search(new RegExp(f))},minLength:function(g,f){return g!==b&&g.length>=f},length:function(g,f){return g!==b&&g.length>=f},exactLength:function(g,f){return g!==b&&g.length==f},maxLength:function(g,f){return g!==b&&g.length<=f},match:function(g,f){var h;a(this);return 0<a('[data-validate="'+f+'"]').length?h=a('[data-validate="'+f+'"]').val():0<a("#"+f).length?h=a("#"+f).val():0<a('[name="'+f+'"]').length?h=a('[name="'+f+'"]').val():0<a('[name="'+f+'[]"]').length&&(h=a('[name="'+f+'[]"]')),h!==b&&g.toString()==h.toString()},different:function(g,f){var h;a(this);return 0<a('[data-validate="'+f+'"]').length?h=a('[data-validate="'+f+'"]').val():0<a("#"+f).length?h=a("#"+f).val():0<a('[name="'+f+'"]').length?h=a('[name="'+f+'"]').val():0<a('[name="'+f+'[]"]').length&&(h=a('[name="'+f+'[]"]')),h!==b&&g.toString()!==h.toString()},creditCard:function(h,m){var x,k,g={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},v={},f=!1,y="string"==typeof m&&m.split(",");if("string"==typeof h&&0!==h.length){if(h=h.replace(/[\-]/g,""),y&&(a.each(y,function(l,i){(k=g[i])&&(v={length:-1!==a.inArray(h.length,k.length),pattern:-1!==h.search(k.pattern)}).length&&v.pattern&&(f=!0)}),!f)){return !1}if((x={number:-1!==a.inArray(h.length,g.unionPay.length),pattern:-1!==h.search(g.unionPay.pattern)}).number&&x.pattern){return !0}for(var j=h.length,q=0,w=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],p=0;j--;){p+=w[q][parseInt(h.charAt(j),10)],q^=1}return p%10==0&&0<p}},minCount:function(g,f){return 0==f||(1==f?""!==g:g.split(",").length>=f)},exactCount:function(g,f){return 0==f?""===g:1==f?""!==g&&-1===g.search(","):g.split(",").length==f},maxCount:function(g,f){return 0!=f&&(1==f?-1===g.search(","):g.split(",").length<=f)}}}}(jQuery,window,document),function(c,a,d,b){a=void 0!==a&&a.Math==Math?a:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.accordion=function(h){var i,j=c(this),f=(new Date).getTime(),l=[],e=h,k="string"==typeof e,g=[].slice.call(arguments,1);a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame;return j.each(function(){var C,E,F=c.isPlainObject(h)?c.extend(!0,{},c.fn.accordion.settings,h):c.extend({},c.fn.accordion.settings),D=F.className,G=F.namespace,B=F.selector,H=F.error,v="."+G,y="module-"+G,r=j.selector||"",w=c(this),A=w.find(B.title),q=w.find(B.content),x=this,z=w.data(y);E={initialize:function(){E.debug("Initializing",w),E.bind.events(),F.observeChanges&&E.observeChanges(),E.instantiate()},instantiate:function(){z=E,w.data(y,E)},destroy:function(){E.debug("Destroying previous instance",w),w.off(v).removeData(y)},refresh:function(){A=w.find(B.title),q=w.find(B.content)},observeChanges:function(){"MutationObserver" in a&&((C=new MutationObserver(function(m){E.debug("DOM tree modified, updating selector cache"),E.refresh()})).observe(x,{childList:!0,subtree:!0}),E.debug("Setting up mutation observer",C))},bind:{events:function(){E.debug("Binding delegated events"),w.on(F.on+v,B.trigger,E.event.click)}},event:{click:function(){E.toggle.call(this)}},toggle:function(I){var s=I!==b?"number"==typeof I?A.eq(I):c(I).closest(B.title):c(this).closest(B.title),K=s.next(q),p=K.hasClass(D.animating),J=K.hasClass(D.active),m=J&&!p,u=!J&&p;E.debug("Toggling visibility of content",s),m||u?F.collapsible?E.close.call(s):E.debug("Cannot close accordion content collapsing is disabled"):E.open.call(s)},open:function(p){var o=p!==b?"number"==typeof p?A.eq(p):c(p).closest(B.title):c(this).closest(B.title),s=o.next(q),m=s.hasClass(D.animating);s.hasClass(D.active)||m?E.debug("Accordion already open, skipping",s):(E.debug("Opening accordion content",o),F.onOpening.call(s),F.onChanging.call(s),F.exclusive&&E.closeOthers.call(o),o.addClass(D.active),s.stop(!0,!0).addClass(D.animating),F.animateChildren&&(c.fn.transition!==b&&w.transition("is supported")?s.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:F.debug,verbose:F.verbose,duration:F.duration}):s.children().stop(!0,!0).animate({opacity:1},F.duration,E.resetOpacity)),s.slideDown(F.duration,F.easing,function(){s.removeClass(D.animating).addClass(D.active),E.reset.display.call(this),F.onOpen.call(this),F.onChange.call(this)}))},close:function(s){var p=s!==b?"number"==typeof s?A.eq(s):c(s).closest(B.title):c(this).closest(B.title),I=p.next(q),m=I.hasClass(D.animating),u=I.hasClass(D.active);!u&&!(!u&&m)||u&&m||(E.debug("Closing accordion content",I),F.onClosing.call(I),F.onChanging.call(I),p.removeClass(D.active),I.stop(!0,!0).addClass(D.animating),F.animateChildren&&(c.fn.transition!==b&&w.transition("is supported")?I.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:F.debug,verbose:F.verbose,duration:F.duration}):I.children().stop(!0,!0).animate({opacity:0},F.duration,E.resetOpacity)),I.slideUp(F.duration,F.easing,function(){I.removeClass(D.animating).removeClass(D.active),E.reset.display.call(this),F.onClose.call(this),F.onChange.call(this)}))},closeOthers:function(K){var M,u,J,p=K!==b?A.eq(K):c(this).closest(B.title),L=p.parents(B.content).prev(B.title),m=p.closest(B.accordion),N=B.title+"."+D.active+":visible",I=B.content+"."+D.active+":visible";J=F.closeNested?(M=m.find(N).not(L)).next(q):(M=m.find(N).not(L),u=m.find(I).find(N).not(L),(M=M.not(u)).next(q)),0<M.length&&(E.debug("Exclusive enabled, closing other content",M),M.removeClass(D.active),J.removeClass(D.animating).stop(!0,!0),F.animateChildren&&(c.fn.transition!==b&&w.transition("is supported")?J.children().transition({animation:"fade out",useFailSafe:!0,debug:F.debug,verbose:F.verbose,duration:F.duration}):J.children().stop(!0,!0).animate({opacity:0},F.duration,E.resetOpacity)),J.slideUp(F.duration,F.easing,function(){c(this).removeClass(D.active),E.reset.display.call(this)}))},reset:{display:function(){E.verbose("Removing inline display from element",this),c(this).css("display",""),""===c(this).attr("style")&&c(this).attr("style","").removeAttr("style")},opacity:function(){E.verbose("Removing inline opacity from element",this),c(this).css("opacity",""),""===c(this).attr("style")&&c(this).attr("style","").removeAttr("style")}},setting:function(n,m){if(E.debug("Changing setting",n,m),c.isPlainObject(n)){c.extend(!0,F,n)}else{if(m===b){return F[n]}c.isPlainObject(F[n])?c.extend(!0,F[n],m):F[n]=m}},internal:function(n,m){if(E.debug("Changing internal",n,m),m===b){return E[n]}c.isPlainObject(n)?c.extend(!0,E,n):E[n]=m},debug:function(){!F.silent&&F.debug&&(F.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,F.name+":"),E.debug.apply(console,arguments)))},verbose:function(){!F.silent&&F.verbose&&F.debug&&(F.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,F.name+":"),E.verbose.apply(console,arguments)))},error:function(){F.silent||(E.error=Function.prototype.bind.call(console.error,console,F.name+":"),E.error.apply(console,arguments))},performance:{log:function(o){var m,p;F.performance&&(p=(m=(new Date).getTime())-(f||m),f=m,l.push({Name:o[0],Arguments:[].slice.call(o,1)||"",Element:x,"Execution Time":p})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,500)},display:function(){var m=F.name+":",o=0;f=!1,clearTimeout(E.performance.timer),c.each(l,function(p,n){o+=n["Execution Time"]}),m+=" "+o+"ms",r&&(m+=" '"+r+"'"),(console.group!==b||console.table!==b)&&0<l.length&&(console.groupCollapsed(m),console.table?console.table(l):c.each(l,function(p,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(s,I,p){var J,m,K,u=z;return I=I||g,p=x||p,"string"==typeof s&&u!==b&&(s=s.split(/[\. ]/),J=s.length-1,c.each(s,function(L,o){var M=L!=J?o+s[L+1].charAt(0).toUpperCase()+s[L+1].slice(1):s;if(c.isPlainObject(u[M])&&L!=J){u=u[M]}else{if(u[M]!==b){return m=u[M],!1}if(!c.isPlainObject(u[o])||L==J){return u[o]!==b?m=u[o]:E.error(H.method,s),!1}u=u[o]}})),c.isFunction(m)?K=m.apply(p,I):m!==b&&(K=m),c.isArray(i)?i.push(K):i!==b?i=[i,K]:K!==b&&(i=K),m}},k?(z===b&&E.initialize(),E.invoke(e)):(z!==b&&z.invoke("destroy"),E.initialize())}),i!==b?i:this},c.fn.accordion.settings={name:"Accordion",namespace:"accordion",silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onClosing:function(){},onChanging:function(){},onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},c.extend(c.easing,{easeOutQuad:function(h,g,k,f,j){return -f*(g/=j)*(g-2)+k}})}(jQuery,window,document),function(b,a,c,d){a=void 0!==a&&a.Math==Math?a:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),b.fn.checkbox=function(o){var l,i=b(this),j=i.selector||"",m=(new Date).getTime(),f=[],n=o,h="string"==typeof n,g=[].slice.call(arguments,1);return i.each(function(){var D,J,z=b.extend(!0,{},b.fn.checkbox.settings,o),I=z.className,w=z.namespace,v=z.selector,y=z.error,G="."+w,k="module-"+w,F=b(this),H=b(this).children(v.label),E=b(this).children(v.input),C=E[0],x=!1,B=!1,q=F.data(k),A=this;J={initialize:function(){J.verbose("Initializing checkbox",z),J.create.label(),J.bind.events(),J.set.tabbable(),J.hide.input(),J.observeChanges(),J.instantiate(),J.setup()},instantiate:function(){J.verbose("Storing instance of module",J),q=J,F.data(k,J)},destroy:function(){J.verbose("Destroying module"),J.unbind.events(),J.show.input(),F.removeData(k)},fix:{reference:function(){F.is(v.input)&&(J.debug("Behavior called on <input> adjusting invoked element"),F=F.closest(v.checkbox),J.refresh())}},setup:function(){J.set.initialLoad(),J.is.indeterminate()?(J.debug("Initial value is indeterminate"),J.indeterminate()):J.is.checked()?(J.debug("Initial value is checked"),J.check()):(J.debug("Initial value is unchecked"),J.uncheck()),J.remove.initialLoad()},refresh:function(){H=F.children(v.label),E=F.children(v.input),C=E[0]},hide:{input:function(){J.verbose("Modifying <input> z-index to be unselectable"),E.addClass(I.hidden)}},show:{input:function(){J.verbose("Modifying <input> z-index to be selectable"),E.removeClass(I.hidden)}},observeChanges:function(){"MutationObserver" in a&&((D=new MutationObserver(function(p){J.debug("DOM tree modified, updating selector cache"),J.refresh()})).observe(A,{childList:!0,subtree:!0}),J.debug("Setting up mutation observer",D))},attachEvents:function(r,p){var s=b(r);p=b.isFunction(J[p])?J[p]:J.toggle,0<s.length?(J.debug("Attaching checkbox events to element",r,p),s.on("click"+G,p)):J.error(y.notFound)},event:{click:function(r){var p=b(r.target);p.is(v.input)?J.verbose("Using default check action on initialized checkbox"):p.is(v.link)?J.debug("Clicking link inside checkbox, skipping toggle"):(J.toggle(),E.focus(),r.preventDefault())},keydown:function(s){var r=s.which,u=13,p=32;B=r==27?(J.verbose("Escape key pressed blurring field"),E.blur(),!0):!(s.ctrlKey||r!=p&&r!=u)&&(J.verbose("Enter/space key pressed, toggling checkbox"),J.toggle(),!0)},keyup:function(p){B&&p.preventDefault()}},check:function(){J.should.allowCheck()&&(J.debug("Checking checkbox",E),J.set.checked(),J.should.ignoreCallbacks()||(z.onChecked.call(C),z.onChange.call(C)))},uncheck:function(){J.should.allowUncheck()&&(J.debug("Unchecking checkbox"),J.set.unchecked(),J.should.ignoreCallbacks()||(z.onUnchecked.call(C),z.onChange.call(C)))},indeterminate:function(){J.should.allowIndeterminate()?J.debug("Checkbox is already indeterminate"):(J.debug("Making checkbox indeterminate"),J.set.indeterminate(),J.should.ignoreCallbacks()||(z.onIndeterminate.call(C),z.onChange.call(C)))},determinate:function(){J.should.allowDeterminate()?J.debug("Checkbox is already determinate"):(J.debug("Making checkbox determinate"),J.set.determinate(),J.should.ignoreCallbacks()||(z.onDeterminate.call(C),z.onChange.call(C)))},enable:function(){J.is.enabled()?J.debug("Checkbox is already enabled"):(J.debug("Enabling checkbox"),J.set.enabled(),z.onEnable.call(C),z.onEnabled.call(C))},disable:function(){J.is.disabled()?J.debug("Checkbox is already disabled"):(J.debug("Disabling checkbox"),J.set.disabled(),z.onDisable.call(C),z.onDisabled.call(C))},get:{radios:function(){var p=J.get.name();return b('input[name="'+p+'"]').closest(v.checkbox)},otherRadios:function(){return J.get.radios().not(F)},name:function(){return E.attr("name")}},is:{initialLoad:function(){return x},radio:function(){return E.hasClass(I.radio)||"radio"==E.attr("type")},indeterminate:function(){return E.prop("indeterminate")!==d&&E.prop("indeterminate")},checked:function(){return E.prop("checked")!==d&&E.prop("checked")},disabled:function(){return E.prop("disabled")!==d&&E.prop("disabled")},enabled:function(){return !J.is.disabled()},determinate:function(){return !J.is.indeterminate()},unchecked:function(){return !J.is.checked()}},should:{allowCheck:function(){return J.is.determinate()&&J.is.checked()&&!J.should.forceCallbacks()?(J.debug("Should not allow check, checkbox is already checked"),!1):!1!==z.beforeChecked.apply(C)||(J.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return J.is.determinate()&&J.is.unchecked()&&!J.should.forceCallbacks()?(J.debug("Should not allow uncheck, checkbox is already unchecked"),!1):!1!==z.beforeUnchecked.apply(C)||(J.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return J.is.indeterminate()&&!J.should.forceCallbacks()?(J.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):!1!==z.beforeIndeterminate.apply(C)||(J.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return J.is.determinate()&&!J.should.forceCallbacks()?(J.debug("Should not allow determinate, checkbox is already determinate"),!1):!1!==z.beforeDeterminate.apply(C)||(J.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},forceCallbacks:function(){return J.is.initialLoad()&&z.fireOnInit},ignoreCallbacks:function(){return x&&!z.fireOnInit}},can:{change:function(){return !(F.hasClass(I.disabled)||F.hasClass(I.readOnly)||E.prop("disabled")||E.prop("readonly"))},uncheck:function(){return"boolean"==typeof z.uncheckable?z.uncheckable:!J.is.radio()}},set:{initialLoad:function(){x=!0},checked:function(){J.verbose("Setting class to checked"),F.removeClass(I.indeterminate).addClass(I.checked),J.is.radio()&&J.uncheckOthers(),J.is.indeterminate()||!J.is.checked()?(J.verbose("Setting state to checked",C),E.prop("indeterminate",!1).prop("checked",!0),J.trigger.change()):J.debug("Input is already checked, skipping input property change")},unchecked:function(){J.verbose("Removing checked class"),F.removeClass(I.indeterminate).removeClass(I.checked),J.is.indeterminate()||!J.is.unchecked()?(J.debug("Setting state to unchecked"),E.prop("indeterminate",!1).prop("checked",!1),J.trigger.change()):J.debug("Input is already unchecked")},indeterminate:function(){J.verbose("Setting class to indeterminate"),F.addClass(I.indeterminate),J.is.indeterminate()?J.debug("Input is already indeterminate, skipping input property change"):(J.debug("Setting state to indeterminate"),E.prop("indeterminate",!0),J.trigger.change())},determinate:function(){J.verbose("Removing indeterminate class"),F.removeClass(I.indeterminate),J.is.determinate()?J.debug("Input is already determinate, skipping input property change"):(J.debug("Setting state to determinate"),E.prop("indeterminate",!1))},disabled:function(){J.verbose("Setting class to disabled"),F.addClass(I.disabled),J.is.disabled()?J.debug("Input is already disabled, skipping input property change"):(J.debug("Setting state to disabled"),E.prop("disabled","disabled"),J.trigger.change())},enabled:function(){J.verbose("Removing disabled class"),F.removeClass(I.disabled),J.is.enabled()?J.debug("Input is already enabled, skipping input property change"):(J.debug("Setting state to enabled"),E.prop("disabled",!1),J.trigger.change())},tabbable:function(){J.verbose("Adding tabindex to checkbox"),E.attr("tabindex")===d&&E.attr("tabindex",0)}},remove:{initialLoad:function(){x=!1}},trigger:{change:function(){var r=c.createEvent("HTMLEvents"),p=E[0];p&&(J.verbose("Triggering native change event"),r.initEvent("change",!0,!1),p.dispatchEvent(r))}},create:{label:function(){0<E.prevAll(v.label).length?(E.prev(v.label).detach().insertAfter(E),J.debug("Moving existing label",H)):J.has.label()||(H=b("<label>").insertAfter(E),J.debug("Creating label",H))}},has:{label:function(){return 0<H.length}},bind:{events:function(){J.verbose("Attaching checkbox events"),F.on("click"+G,J.event.click).on("keydown"+G,v.input,J.event.keydown).on("keyup"+G,v.input,J.event.keyup)}},unbind:{events:function(){J.debug("Removing events"),F.off(G)}},uncheckOthers:function(){var p=J.get.otherRadios();J.debug("Unchecking other radios",p),p.removeClass(I.checked)},toggle:function(){J.can.change()?J.is.indeterminate()||J.is.unchecked()?(J.debug("Currently unchecked"),J.check()):J.is.checked()&&J.can.uncheck()&&(J.debug("Currently checked"),J.uncheck()):J.is.radio()||J.debug("Checkbox is read-only or disabled, ignoring toggle")},setting:function(r,p){if(J.debug("Changing setting",r,p),b.isPlainObject(r)){b.extend(!0,z,r)}else{if(p===d){return z[r]}b.isPlainObject(z[r])?b.extend(!0,z[r],p):z[r]=p}},internal:function(r,p){if(b.isPlainObject(r)){b.extend(!0,J,r)}else{if(p===d){return J[r]}J[r]=p}},debug:function(){!z.silent&&z.debug&&(z.performance?J.performance.log(arguments):(J.debug=Function.prototype.bind.call(console.info,console,z.name+":"),J.debug.apply(console,arguments)))},verbose:function(){!z.silent&&z.verbose&&z.debug&&(z.performance?J.performance.log(arguments):(J.verbose=Function.prototype.bind.call(console.info,console,z.name+":"),J.verbose.apply(console,arguments)))},error:function(){z.silent||(J.error=Function.prototype.bind.call(console.error,console,z.name+":"),J.error.apply(console,arguments))},performance:{log:function(r){var p,s;z.performance&&(s=(p=(new Date).getTime())-(m||p),m=p,f.push({Name:r[0],Arguments:[].slice.call(r,1)||"",Element:A,"Execution Time":s})),clearTimeout(J.performance.timer),J.performance.timer=setTimeout(J.performance.display,500)},display:function(){var p=z.name+":",r=0;m=!1,clearTimeout(J.performance.timer),b.each(f,function(u,s){r+=s["Execution Time"]}),p+=" "+r+"ms",j&&(p+=" '"+j+"'"),(console.group!==d||console.table!==d)&&0<f.length&&(console.groupCollapsed(p),console.table?console.table(f):b.each(f,function(u,s){console.log(s.Name+": "+s["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(u,L,s){var M,p,N,K=q;return L=L||g,s=A||s,"string"==typeof u&&K!==d&&(u=u.split(/[\. ]/),M=u.length-1,b.each(u,function(O,r){var P=O!=M?r+u[O+1].charAt(0).toUpperCase()+u[O+1].slice(1):u;if(b.isPlainObject(K[P])&&O!=M){K=K[P]}else{if(K[P]!==d){return p=K[P],!1}if(!b.isPlainObject(K[r])||O==M){return K[r]!==d?p=K[r]:J.error(y.method,u),!1}K=K[r]}})),b.isFunction(p)?N=p.apply(s,L):p!==d&&(N=p),b.isArray(l)?l.push(N):l!==d?l=[l,N]:N!==d&&(l=N),p}},h?(q===d&&J.initialize(),J.invoke(n)):(q!==d&&q.invoke("destroy"),J.initialize())}),l!==d?l:this},b.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(c,d,a,b){d=void 0!==d&&d.Math==Math?d:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.dimmer=function(k){var j,i=c(this),f=(new Date).getTime(),m=[],e=k,l="string"==typeof e,g=[].slice.call(arguments,1);return i.each(function(){var D,F,G,h=c.isPlainObject(k)?c.extend(!0,{},c.fn.dimmer.settings,k):c.extend({},c.fn.dimmer.settings),q=h.selector,A=h.namespace,x=h.className,w=h.error,p="."+A,C="module-"+A,E=i.selector||"",B="ontouchstart" in a.documentElement?"touchstart":"click",z=c(this),v=this,y=z.data(C);(G={preinitialize:function(){D=G.is.dimmer()?(F=z.parent(),z):(F=z,G.has.dimmer()?h.dimmerName?F.find(q.dimmer).filter("."+h.dimmerName):F.find(q.dimmer):G.create())},initialize:function(){G.debug("Initializing dimmer",h),G.bind.events(),G.set.dimmable(),G.instantiate()},instantiate:function(){G.verbose("Storing instance of module",G),y=G,z.data(C,y)},destroy:function(){G.verbose("Destroying previous module",D),G.unbind.events(),G.remove.variation(),F.off(p)},bind:{events:function(){"hover"==h.on?F.on("mouseenter"+p,G.show).on("mouseleave"+p,G.hide):"click"==h.on&&F.on(B+p,G.toggle),G.is.page()&&(G.debug("Setting as a page dimmer",F),G.set.pageDimmer()),G.is.closable()&&(G.verbose("Adding dimmer close event",D),F.on(B+p,q.dimmer,G.event.click))}},unbind:{events:function(){z.removeData(C),F.off(p)}},event:{click:function(n){G.verbose("Determining if event occured on dimmer",n),(0===D.find(n.target).length||c(n.target).is(q.content))&&(G.hide(),n.stopImmediatePropagation())}},addContent:function(o){var n=c(o);G.debug("Add content to dimmer",n),n.parent()[0]!==D[0]&&n.detach().appendTo(D)},create:function(){var n=c(h.template.dimmer());return h.dimmerName&&(G.debug("Creating named dimmer",h.dimmerName),n.addClass(h.dimmerName)),n.appendTo(F),n},show:function(n){n=c.isFunction(n)?n:function(){},G.debug("Showing dimmer",D,h),G.set.variation(),G.is.dimmed()&&!G.is.animating()||!G.is.enabled()?G.debug("Dimmer is already shown or disabled"):(G.animate.show(n),h.onShow.call(v),h.onChange.call(v))},hide:function(n){n=c.isFunction(n)?n:function(){},G.is.dimmed()||G.is.animating()?(G.debug("Hiding dimmer",D),G.animate.hide(n),h.onHide.call(v),h.onChange.call(v)):G.debug("Dimmer is not visible")},toggle:function(){G.verbose("Toggling dimmer visibility",D),G.is.dimmed()?G.hide():G.show()},animate:{show:function(n){n=c.isFunction(n)?n:function(){},h.useCSS&&c.fn.transition!==b&&D.transition("is supported")?(h.useFlex?(G.debug("Using flex dimmer"),G.remove.legacy()):(G.debug("Using legacy non-flex dimmer"),G.set.legacy()),"auto"!==h.opacity&&G.set.opacity(),D.transition({displayType:h.useFlex?"flex":"block",animation:h.transition+" in",queue:!1,duration:G.get.duration(),useFailSafe:!0,onStart:function(){G.set.dimmed()},onComplete:function(){G.set.active(),n()}})):(G.verbose("Showing dimmer animation with javascript"),G.set.dimmed(),"auto"==h.opacity&&(h.opacity=0.8),D.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(G.get.duration(),h.opacity,function(){D.removeAttr("style"),G.set.active(),n()}))},hide:function(n){n=c.isFunction(n)?n:function(){},h.useCSS&&c.fn.transition!==b&&D.transition("is supported")?(G.verbose("Hiding dimmer with css"),D.transition({displayType:h.useFlex?"flex":"block",animation:h.transition+" out",queue:!1,duration:G.get.duration(),useFailSafe:!0,onStart:function(){G.remove.dimmed()},onComplete:function(){G.remove.variation(),G.remove.active(),n()}})):(G.verbose("Hiding dimmer with javascript"),G.remove.dimmed(),D.stop().fadeOut(G.get.duration(),function(){G.remove.active(),D.removeAttr("style"),n()}))}},get:{dimmer:function(){return D},duration:function(){return"object"==typeof h.duration?G.is.active()?h.duration.hide:h.duration.show:h.duration}},has:{dimmer:function(){return h.dimmerName?0<z.find(q.dimmer).filter("."+h.dimmerName).length:0<z.find(q.dimmer).length}},is:{active:function(){return D.hasClass(x.active)},animating:function(){return D.is(":animated")||D.hasClass(x.animating)},closable:function(){return"auto"==h.closable?"hover"!=h.on:h.closable},dimmer:function(){return z.hasClass(x.dimmer)},dimmable:function(){return z.hasClass(x.dimmable)},dimmed:function(){return F.hasClass(x.dimmed)},disabled:function(){return F.hasClass(x.disabled)},enabled:function(){return !G.is.disabled()},page:function(){return F.is("body")},pageDimmer:function(){return D.hasClass(x.pageDimmer)}},can:{show:function(){return !D.hasClass(x.disabled)}},set:{opacity:function(u){var s=D.css("background-color"),I=s.split(","),r=I&&3==I.length,H=I&&4==I.length;u=0===h.opacity?0:h.opacity||u,s=r||H?(I[3]=u+")",I.join(",")):"rgba(0, 0, 0, "+u+")",G.debug("Setting opacity to",u),D.css("background-color",s)},legacy:function(){D.addClass(x.legacy)},active:function(){D.addClass(x.active)},dimmable:function(){F.addClass(x.dimmable)},dimmed:function(){F.addClass(x.dimmed)},pageDimmer:function(){D.addClass(x.pageDimmer)},disabled:function(){D.addClass(x.disabled)},variation:function(n){(n=n||h.variation)&&D.addClass(n)}},remove:{active:function(){D.removeClass(x.active)},legacy:function(){D.removeClass(x.legacy)},dimmed:function(){F.removeClass(x.dimmed)},disabled:function(){D.removeClass(x.disabled)},variation:function(n){(n=n||h.variation)&&D.removeClass(n)}},setting:function(o,n){if(G.debug("Changing setting",o,n),c.isPlainObject(o)){c.extend(!0,h,o)}else{if(n===b){return h[o]}c.isPlainObject(h[o])?c.extend(!0,h[o],n):h[o]=n}},internal:function(o,n){if(c.isPlainObject(o)){c.extend(!0,G,o)}else{if(n===b){return G[o]}G[o]=n}},debug:function(){!h.silent&&h.debug&&(h.performance?G.performance.log(arguments):(G.debug=Function.prototype.bind.call(console.info,console,h.name+":"),G.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?G.performance.log(arguments):(G.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),G.verbose.apply(console,arguments)))},error:function(){h.silent||(G.error=Function.prototype.bind.call(console.error,console,h.name+":"),G.error.apply(console,arguments))},performance:{log:function(r){var o,s;h.performance&&(s=(o=(new Date).getTime())-(f||o),f=o,m.push({Name:r[0],Arguments:[].slice.call(r,1)||"",Element:v,"Execution Time":s})),clearTimeout(G.performance.timer),G.performance.timer=setTimeout(G.performance.display,500)},display:function(){var o=h.name+":",r=0;f=!1,clearTimeout(G.performance.timer),c.each(m,function(s,n){r+=n["Execution Time"]}),o+=" "+r+"ms",E&&(o+=" '"+E+"'"),1<i.length&&(o+=" ("+i.length+")"),(console.group!==b||console.table!==b)&&0<m.length&&(console.groupCollapsed(o),console.table?console.table(m):c.each(m,function(s,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(H,J,u){var K,s,L,I=y;return J=J||g,u=v||u,"string"==typeof H&&I!==b&&(H=H.split(/[\. ]/),K=H.length-1,c.each(H,function(r,o){var M=r!=K?o+H[r+1].charAt(0).toUpperCase()+H[r+1].slice(1):H;if(c.isPlainObject(I[M])&&r!=K){I=I[M]}else{if(I[M]!==b){return s=I[M],!1}if(!c.isPlainObject(I[o])||r==K){return I[o]!==b?s=I[o]:G.error(w.method,H),!1}I=I[o]}})),c.isFunction(s)?L=s.apply(u,J):s!==b&&(L=s),c.isArray(j)?j.push(L):j!==b?j=[j,L]:L!==b&&(j=L),s}}).preinitialize(),l?(y===b&&G.initialize(),G.invoke(e)):(y!==b&&y.invoke("destroy"),G.initialize())}),j!==b?j:this},c.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",silent:!1,debug:!1,verbose:!1,performance:!0,useFlex:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",legacy:"legacy",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return c("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(d,c,a,b){c=void 0!==c&&c.Math==Math?c:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),d.fn.dropdown=function(m){var n,h=d(this),l=d(a),o=h.selector||"",i="ontouchstart" in a.documentElement,g=(new Date).getTime(),e=[],k=m,f="string"==typeof k,j=[].slice.call(arguments,1);return h.each(function(ai){var ar,ac,an,ah,aw,ae,ad,ap,ag=d.isPlainObject(m)?d.extend(!0,{},d.fn.dropdown.settings,m):d.extend({},d.fn.dropdown.settings),ao=ag.className,au=ag.message,ak=ag.fields,aa=ag.keys,av=ag.metadata,ab=ag.namespace,at=ag.regExp,X=ag.selector,aq=ag.error,aj=ag.templates,Y="."+ab,U="module-"+ab,Z=d(this),G=d(ag.context),al=Z.find(X.text),B=Z.find(X.search),V=Z.find(X.sizer),H=Z.find(X.input),J=Z.find(X.icon),N=0<Z.prev().find(X.text).length?Z.prev().find(X.text):Z.prev(),M=Z.children(X.menu),K=M.find(X.item),Q=!1,af=!1,am=!1,W=this,L=Z.data(U);ap={initialize:function(){ap.debug("Initializing dropdown",ag),ap.is.alreadySetup()?ap.setup.reference():(ap.setup.layout(),ag.values&&ap.change.values(ag.values),ap.refreshData(),ap.save.defaults(),ap.restore.selected(),ap.create.id(),ap.bind.events(),ap.observeChanges(),ap.instantiate())},instantiate:function(){ap.verbose("Storing instance of dropdown",ap),L=ap,Z.data(U,ap)},destroy:function(){ap.verbose("Destroying previous dropdown",Z),ap.remove.tabbable(),Z.off(Y).removeData(U),M.off(Y),l.off(ah),ap.disconnect.menuObserver(),ap.disconnect.selectObserver()},observeChanges:function(){"MutationObserver" in c&&(ae=new MutationObserver(ap.event.select.mutation),ad=new MutationObserver(ap.event.menu.mutation),ap.debug("Setting up mutation observer",ae,ad),ap.observe.select(),ap.observe.menu())},disconnect:{menuObserver:function(){ad&&ad.disconnect()},selectObserver:function(){ae&&ae.disconnect()}},observe:{select:function(){ap.has.input()&&ae.observe(Z[0],{childList:!0,subtree:!0})},menu:function(){ap.has.menu()&&ad.observe(M[0],{childList:!0,subtree:!0})}},create:{id:function(){aw=(Math.random().toString(16)+"000000000").substr(2,8),ah="."+aw,ap.verbose("Creating unique id for element",aw)},userChoice:function(q){var s,p,r;return !!(q=q||ap.get.userValues())&&(q=d.isArray(q)?q:[q],d.each(q,function(v,u){!1===ap.get.item(u)&&(r=ag.templates.addition(ap.add.variables(au.addResult,u)),p=d("<div />").html(r).attr("data-"+av.value,u).attr("data-"+av.text,u).addClass(ao.addition).addClass(ao.item),ag.hideAdditions&&p.addClass(ao.hidden),s=s===b?p:s.add(p),ap.verbose("Creating user choices for value",u,p))}),s)},userLabels:function(q){var p=ap.get.userValues();p&&(ap.debug("Adding user labels",p),d.each(p,function(s,r){ap.verbose("Adding custom user value"),ap.add.label(r,r)}))},menu:function(){M=d("<div />").addClass(ao.menu).appendTo(Z)},sizer:function(){V=d("<span />").addClass(ao.sizer).insertAfter(B)}},search:function(p){p=p!==b?p:ap.get.query(),ap.verbose("Searching for query",p),ap.has.minCharacters(p)?ap.filter(p):ap.hide()},select:{firstUnfiltered:function(){ap.verbose("Selecting first non-filtered element"),ap.remove.selectedItem(),K.not(X.unselectable).not(X.addition+X.hidden).eq(0).addClass(ao.selected)},nextAvailable:function(q){var p=(q=q.eq(0)).nextAll(X.item).not(X.unselectable).eq(0),r=q.prevAll(X.item).not(X.unselectable).eq(0);0<p.length?(ap.verbose("Moving selection to",p),p.addClass(ao.selected)):(ap.verbose("Moving selection to",r),r.addClass(ao.selected))}},setup:{api:function(){var p={debug:ag.debug,urlData:{value:ap.get.value(),query:ap.get.query()},on:!1};ap.verbose("First request, initializing API"),Z.api(p)},layout:function(){Z.is("select")&&(ap.setup.select(),ap.setup.returnedObject()),ap.has.menu()||ap.create.menu(),ap.is.search()&&!ap.has.search()&&(ap.verbose("Adding search input"),B=d("<input />").addClass(ao.search).prop("autocomplete","off").insertBefore(al)),ap.is.multiple()&&ap.is.searchSelection()&&!ap.has.sizer()&&ap.create.sizer(),ag.allowTab&&ap.set.tabbable()},select:function(){var p=ap.get.selectValues();ap.debug("Dropdown initialized on a select",p),Z.is("select")&&(H=Z),0<H.parent(X.dropdown).length?(ap.debug("UI dropdown already exists. Creating dropdown menu only"),Z=H.closest(X.dropdown),ap.has.menu()||ap.create.menu(),M=Z.children(X.menu),ap.setup.menu(p)):(ap.debug("Creating entire dropdown from select"),Z=d("<div />").attr("class",H.attr("class")).addClass(ao.selection).addClass(ao.dropdown).html(aj.dropdown(p)).insertBefore(H),H.hasClass(ao.multiple)&&!1===H.prop("multiple")&&(ap.error(aq.missingMultiple),H.prop("multiple",!0)),H.is("[multiple]")&&ap.set.multiple(),H.prop("disabled")&&(ap.debug("Disabling dropdown"),Z.addClass(ao.disabled)),H.removeAttr("class").detach().prependTo(Z)),ap.refresh()},menu:function(p){M.html(aj.menu(p,ak)),K=M.find(X.item)},reference:function(){ap.debug("Dropdown behavior was called on select, replacing with closest dropdown"),Z=Z.parent(X.dropdown),L=Z.data(U),W=Z.get(0),ap.refresh(),ap.setup.returnedObject()},returnedObject:function(){var q=h.slice(0,ai),p=h.slice(ai+1);h=q.add(Z).add(p)}},refresh:function(){ap.refreshSelectors(),ap.refreshData()},refreshItems:function(){K=M.find(X.item)},refreshSelectors:function(){ap.verbose("Refreshing selector cache"),al=Z.find(X.text),B=Z.find(X.search),H=Z.find(X.input),J=Z.find(X.icon),N=0<Z.prev().find(X.text).length?Z.prev().find(X.text):Z.prev(),M=Z.children(X.menu),K=M.find(X.item)},refreshData:function(){ap.verbose("Refreshing cached metadata"),K.removeData(av.text).removeData(av.value)},clearData:function(){ap.verbose("Clearing metadata"),K.removeData(av.text).removeData(av.value),Z.removeData(av.defaultText).removeData(av.defaultValue).removeData(av.placeholderText)},toggle:function(){ap.verbose("Toggling menu visibility"),ap.is.active()?ap.hide():ap.show()},show:function(p){if(p=d.isFunction(p)?p:function(){},!ap.can.show()&&ap.is.remote()&&(ap.debug("No API results retrieved, searching before show"),ap.queryRemote(ap.get.query(),ap.show)),ap.can.show()&&!ap.is.active()){if(ap.debug("Showing dropdown"),!ap.has.message()||ap.has.maxSelections()||ap.has.allResultsFiltered()||ap.remove.message(),ap.is.allFiltered()){return !0}!1!==ag.onShow.call(W)&&ap.animate.show(function(){ap.can.click()&&ap.bind.intent(),ap.has.menuSearch()&&ap.focusSearch(),ap.set.visible(),p.call(W)})}},hide:function(p){p=d.isFunction(p)?p:function(){},ap.is.active()&&!ap.is.animatingOutward()&&(ap.debug("Hiding dropdown"),!1!==ag.onHide.call(W)&&ap.animate.hide(function(){ap.remove.visible(),p.call(W)}))},hideOthers:function(){ap.verbose("Finding other dropdowns to hide"),h.not(Z).has(X.menu+"."+ao.visible).dropdown("hide")},hideMenu:function(){ap.verbose("Hiding menu  instantaneously"),ap.remove.active(),ap.remove.visible(),M.transition("hide")},hideSubMenus:function(){var p=M.children(X.item).find(X.menu);ap.verbose("Hiding sub menus",p),p.transition("hide")},bind:{events:function(){i&&ap.bind.touchEvents(),ap.bind.keyboardEvents(),ap.bind.inputEvents(),ap.bind.mouseEvents()},touchEvents:function(){ap.debug("Touch device detected binding additional touch events"),ap.is.searchSelection()||ap.is.single()&&Z.on("touchstart"+Y,ap.event.test.toggle),M.on("touchstart"+Y,X.item,ap.event.item.mouseenter)},keyboardEvents:function(){ap.verbose("Binding keyboard events"),Z.on("keydown"+Y,ap.event.keydown),ap.has.search()&&Z.on(ap.get.inputEvent()+Y,X.search,ap.event.input),ap.is.multiple()&&l.on("keydown"+ah,ap.event.document.keydown)},inputEvents:function(){ap.verbose("Binding input change events"),Z.on("change"+Y,X.input,ap.event.change)},mouseEvents:function(){ap.verbose("Binding mouse events"),ap.is.multiple()&&Z.on("click"+Y,X.label,ap.event.label.click).on("click"+Y,X.remove,ap.event.remove.click),ap.is.searchSelection()?(Z.on("mousedown"+Y,ap.event.mousedown).on("mouseup"+Y,ap.event.mouseup).on("mousedown"+Y,X.menu,ap.event.menu.mousedown).on("mouseup"+Y,X.menu,ap.event.menu.mouseup).on("click"+Y,X.icon,ap.event.icon.click).on("focus"+Y,X.search,ap.event.search.focus).on("click"+Y,X.search,ap.event.search.focus).on("blur"+Y,X.search,ap.event.search.blur).on("click"+Y,X.text,ap.event.text.focus),ap.is.multiple()&&Z.on("click"+Y,ap.event.click)):("click"==ag.on?Z.on("click"+Y,ap.event.test.toggle):"hover"==ag.on?Z.on("mouseenter"+Y,ap.delay.show).on("mouseleave"+Y,ap.delay.hide):Z.on(ag.on+Y,ap.toggle),Z.on("click"+Y,X.icon,ap.event.icon.click).on("mousedown"+Y,ap.event.mousedown).on("mouseup"+Y,ap.event.mouseup).on("focus"+Y,ap.event.focus),ap.has.menuSearch()?Z.on("blur"+Y,X.search,ap.event.search.blur):Z.on("blur"+Y,ap.event.blur)),M.on("mouseenter"+Y,X.item,ap.event.item.mouseenter).on("mouseleave"+Y,X.item,ap.event.item.mouseleave).on("click"+Y,X.item,ap.event.item.click)},intent:function(){ap.verbose("Binding hide intent event to document"),i&&l.on("touchstart"+ah,ap.event.test.touch).on("touchmove"+ah,ap.event.test.touch),l.on("click"+ah,ap.event.test.hide)}},unbind:{intent:function(){ap.verbose("Removing hide intent event from document"),i&&l.off("touchstart"+ah).off("touchmove"+ah),l.off("click"+ah)}},filter:function(q){var p=q!==b?q:ap.get.query(),r=function(){ap.is.multiple()&&ap.filterActive(),(q||!q&&0==ap.get.activeItem().length)&&ap.select.firstUnfiltered(),ap.has.allResultsFiltered()?ag.onNoResults.call(W,p)?ag.allowAdditions?ag.hideAdditions&&(ap.verbose("User addition with no menu, setting empty style"),ap.set.empty(),ap.hideMenu()):(ap.verbose("All items filtered, showing message",p),ap.add.message(au.noResults)):(ap.verbose("All items filtered, hiding dropdown",p),ap.hideMenu()):(ap.remove.empty(),ap.remove.message()),ag.allowAdditions&&ap.add.userSuggestion(q),ap.is.searchSelection()&&ap.can.show()&&ap.is.focusedOnSearch()&&ap.show()};ag.useLabels&&ap.has.maxSelections()||(ag.apiSettings?ap.can.useAPI()?ap.queryRemote(p,function(){ag.filterRemoteData&&ap.filterItems(p),r()}):ap.error(aq.noAPI):(ap.filterItems(p),r()))},queryRemote:function(q,r){var p={errorDuration:!1,cache:"local",throttle:ag.throttle,urlData:{query:q},onError:function(){ap.add.message(au.serverError),r()},onFailure:function(){ap.add.message(au.serverError),r()},onSuccess:function(u){var s=u[ak.remoteValues];d.isArray(s)&&0<s.length?(ap.remove.message(),ap.setup.menu({values:u[ak.remoteValues]})):ap.add.message(au.noResults),r()}};Z.api("get request")||ap.setup.api(),p=d.extend(!0,{},p,ag.apiSettings),Z.api("setting",p).api("query")},filterItems:function(s){var r=s!==b?s:ap.get.query(),u=null,q=ap.escape.string(r),p=new RegExp("^"+q,"igm");ap.has.query()&&(u=[],ap.verbose("Searching for matching values",r),K.each(function(){var w,v,x=d(this);if("both"==ag.match||"text"==ag.match){if(-1!==(w=String(ap.get.choiceText(x,!1))).search(p)){return u.push(this),!0}if("exact"===ag.fullTextSearch&&ap.exactSearch(r,w)){return u.push(this),!0}if(!0===ag.fullTextSearch&&ap.fuzzySearch(r,w)){return u.push(this),!0}}if("both"==ag.match||"value"==ag.match){if(-1!==(v=String(ap.get.choiceValue(x,w))).search(p)){return u.push(this),!0}if("exact"===ag.fullTextSearch&&ap.exactSearch(r,v)){return u.push(this),!0}if(!0===ag.fullTextSearch&&ap.fuzzySearch(r,v)){return u.push(this),!0}}})),ap.debug("Showing only matched items",r),ap.remove.filteredItem(),u&&K.not(u).addClass(ao.filtered)},fuzzySearch:function(v,s){var x=s.length,q=v.length;if(v=v.toLowerCase(),s=s.toLowerCase(),x<q){return !1}if(q===x){return v===s}v:for(var w=0,p=0;w<q;w++){for(var u=v.charCodeAt(w);p<x;){if(s.charCodeAt(p++)===u){continue v}}return !1}return !0},exactSearch:function(q,p){return q=q.toLowerCase(),-1<(p=p.toLowerCase()).indexOf(q)},filterActive:function(){ag.useLabels&&K.filter("."+ao.active).addClass(ao.filtered)},focusSearch:function(p){ap.has.search()&&!ap.is.focusedOnSearch()&&(p?(Z.off("focus"+Y,X.search),B.focus(),Z.on("focus"+Y,X.search,ap.event.search.focus)):B.focus())},forceSelection:function(){var q=K.not(ao.filtered).filter("."+ao.selected).eq(0),p=K.not(ao.filtered).filter("."+ao.active).eq(0),r=0<q.length?q:p;if(0<r.length&&!ap.is.multiple()){return ap.debug("Forcing partial selection to selected item",r),void ap.event.item.click.call(r,{},!0)}ag.allowAdditions&&ap.set.selected(ap.get.query()),ap.remove.searchTerm()},change:{values:function(p){ag.allowAdditions||ap.clear(),ap.debug("Creating dropdown with specified values",p),ap.setup.menu({values:p}),d.each(p,function(r,q){if(1==q.selected){return ap.debug("Setting initial selection to",q.value),ap.set.selected(q.value),!0}})}},event:{change:function(){am||(ap.debug("Input changed, updating selection"),ap.set.selected())},focus:function(){ag.showOnFocus&&!Q&&ap.is.hidden()&&!ac&&ap.show()},blur:function(p){ac=a.activeElement===this,Q||ac||(ap.remove.activeLabel(),ap.hide())},mousedown:function(){ap.is.searchSelection()?an=!0:Q=!0},mouseup:function(){ap.is.searchSelection()?an=!1:Q=!1},click:function(p){d(p.target).is(Z)&&(ap.is.focusedOnSearch()?ap.show():ap.focusSearch())},search:{focus:function(){Q=!0,ap.is.multiple()&&ap.remove.activeLabel(),ag.showOnFocus&&ap.search()},blur:function(p){ac=a.activeElement===this,ap.is.searchSelection()&&!an&&(af||ac||(ag.forceSelection&&ap.forceSelection(),ap.hide())),an=!1}},icon:{click:function(p){J.hasClass(ao.clear)?ap.clear():ap.can.click()&&ap.toggle()}},text:{focus:function(p){Q=!0,ap.focusSearch()}},input:function(p){(ap.is.multiple()||ap.is.searchSelection())&&ap.set.filtered(),clearTimeout(ap.timer),ap.timer=setTimeout(ap.search,ag.delay.search)},label:{click:function(v){var s=d(this),x=Z.find(X.label),q=x.filter("."+ao.active),w=s.nextAll("."+ao.active),p=s.prevAll("."+ao.active),u=0<w.length?s.nextUntil(w).add(q).add(s):s.prevUntil(p).add(q).add(s);v.shiftKey?(q.removeClass(ao.active),u.addClass(ao.active)):v.ctrlKey?s.toggleClass(ao.active):(q.removeClass(ao.active),s.addClass(ao.active)),ag.onLabelSelect.apply(this,x.filter("."+ao.active))}},remove:{click:function(){var p=d(this).parent();p.hasClass(ao.active)?ap.remove.activeLabels():ap.remove.activeLabels(p)}},test:{toggle:function(q){var p=ap.is.multiple()?ap.show:ap.toggle;ap.is.bubbledLabelClick(q)||ap.is.bubbledIconClick(q)||ap.determine.eventOnElement(q,p)&&q.preventDefault()},touch:function(p){ap.determine.eventOnElement(p,function(){"touchstart"==p.type?ap.timer=setTimeout(function(){ap.hide()},ag.delay.touch):"touchmove"==p.type&&clearTimeout(ap.timer)}),p.stopPropagation()},hide:function(p){ap.determine.eventInModule(p,ap.hide)}},select:{mutation:function(p){ap.debug("<select> modified, recreating menu");var q=!1;d.each(p,function(s,r){if(d(r.target).is("select")||d(r.addedNodes).is("select")){return q=!0}}),q&&(ap.disconnect.selectObserver(),ap.refresh(),ap.setup.select(),ap.set.selected(),ap.observe.select())}},menu:{mutation:function(v){var s=v[0],x=s.addedNodes?d(s.addedNodes[0]):d(!1),q=s.removedNodes?d(s.removedNodes[0]):d(!1),w=x.add(q),p=w.is(X.addition)||0<w.closest(X.addition).length,u=w.is(X.message)||0<w.closest(X.message).length;p||u?(ap.debug("Updating item selector cache"),ap.refreshItems()):(ap.debug("Menu modified, updating selector cache"),ap.refresh())},mousedown:function(){af=!0},mouseup:function(){af=!1}},item:{mouseenter:function(s){var r=d(s.target),v=d(this),q=v.children(X.menu),u=v.siblings(X.item).children(X.menu),p=0<q.length;!(0<q.find(r).length)&&p&&(clearTimeout(ap.itemTimer),ap.itemTimer=setTimeout(function(){ap.verbose("Showing sub-menu",q),d.each(u,function(){ap.animate.hide(!1,d(this))}),ap.animate.show(!1,q)},ag.delay.show),s.preventDefault())},mouseleave:function(q){var p=d(this).children(X.menu);0<p.length&&(clearTimeout(ap.itemTimer),ap.itemTimer=setTimeout(function(){ap.verbose("Hiding sub-menu",p),ap.animate.hide(!1,p)},ag.delay.hide))},click:function(x,z){var u=d(this),w=d(x?x.target:""),q=u.find(X.menu),y=ap.get.choiceText(u),p=ap.get.choiceValue(u,y),A=0<q.length,v=0<q.find(w).length;ap.has.menuSearch()&&d(a.activeElement).blur(),v||A&&!ag.allowCategorySelection||(ap.is.searchSelection()&&(ag.allowAdditions&&ap.remove.userAddition(),ap.remove.searchTerm(),ap.is.focusedOnSearch()||1==z||ap.focusSearch(!0)),ag.useLabels||(ap.remove.filteredItem(),ap.set.scrollPosition(u)),ap.determine.selectAction.call(this,y,p))}},document:{keydown:function(A){var I=A.which;if(ap.is.inObject(I,aa)){var v=Z.find(X.label),y=v.filter("."+ao.active),q=(y.data(av.value),v.index(y)),E=v.length,p=0<y.length,O=1<y.length,x=0===q,D=q+1==E,F=ap.is.searchSelection(),C=ap.is.focusedOnSearch(),z=ap.is.focused(),w=C&&0===ap.get.caretPosition();if(F&&!p&&!C){return}I==aa.leftArrow?!z&&!w||p?p&&(A.shiftKey?ap.verbose("Adding previous label to selection"):(ap.verbose("Selecting previous label"),v.removeClass(ao.active)),x&&!O?y.addClass(ao.active):y.prev(X.siblingLabel).addClass(ao.active).end(),A.preventDefault()):(ap.verbose("Selecting previous label"),v.last().addClass(ao.active)):I==aa.rightArrow?(z&&!p&&v.first().addClass(ao.active),p&&(A.shiftKey?ap.verbose("Adding next label to selection"):(ap.verbose("Selecting next label"),v.removeClass(ao.active)),D?F?C?v.removeClass(ao.active):ap.focusSearch():O?y.next(X.siblingLabel).addClass(ao.active):y.addClass(ao.active):y.next(X.siblingLabel).addClass(ao.active),A.preventDefault())):I==aa.deleteKey||I==aa.backspace?p?(ap.verbose("Removing active labels"),D&&F&&!C&&ap.focusSearch(),y.last().next(X.siblingLabel).addClass(ao.active),ap.remove.activeLabels(y),A.preventDefault()):w&&!p&&I==aa.backspace&&(ap.verbose("Removing last label on input backspace"),y=v.last().addClass(ao.active),ap.remove.activeLabels(y)):y.removeClass(ao.active)}}},keydown:function(A){var I=A.which;if(ap.is.inObject(I,aa)){var v,y=K.not(X.unselectable).filter("."+ao.selected).eq(0),q=M.children("."+ao.active).eq(0),E=0<y.length?y:q,p=0<E.length?E.siblings(":not(."+ao.filtered+")").addBack():M.children(":not(."+ao.filtered+")"),O=E.children(X.menu),x=E.closest(X.menu),D=x.hasClass(ao.visible)||x.hasClass(ao.animating)||0<x.parent(X.menu).length,F=0<O.length,C=0<E.length,z=0<E.not(X.unselectable).length,w=I==aa.delimiter&&ag.allowAdditions&&ap.is.multiple();if(ag.allowAdditions&&ag.hideAdditions&&(I==aa.enter||w)&&z&&(ap.verbose("Selecting item from keyboard shortcut",E),ap.event.item.click.call(E,A),ap.is.searchSelection()&&ap.remove.searchTerm()),ap.is.visible()){if((I==aa.enter||w)&&(I==aa.enter&&C&&F&&!ag.allowCategorySelection?(ap.verbose("Pressed enter on unselectable category, opening sub menu"),I=aa.rightArrow):z&&(ap.verbose("Selecting item from keyboard shortcut",E),ap.event.item.click.call(E,A),ap.is.searchSelection()&&ap.remove.searchTerm()),A.preventDefault()),C&&(I==aa.leftArrow&&x[0]!==M[0]&&(ap.verbose("Left key pressed, closing sub-menu"),ap.animate.hide(!1,x),E.removeClass(ao.selected),x.closest(X.item).addClass(ao.selected),A.preventDefault()),I==aa.rightArrow&&F&&(ap.verbose("Right key pressed, opening sub-menu"),ap.animate.show(!1,O),E.removeClass(ao.selected),O.find(X.item).eq(0).addClass(ao.selected),A.preventDefault())),I==aa.upArrow){if(v=C&&D?E.prevAll(X.item+":not("+X.unselectable+")").eq(0):K.eq(0),p.index(v)<0){return ap.verbose("Up key pressed but reached top of current menu"),void A.preventDefault()}ap.verbose("Up key pressed, changing active item"),E.removeClass(ao.selected),v.addClass(ao.selected),ap.set.scrollPosition(v),ag.selectOnKeydown&&ap.is.single()&&ap.set.selectedItem(v),A.preventDefault()}if(I==aa.downArrow){if(0===(v=C&&D?v=E.nextAll(X.item+":not("+X.unselectable+")").eq(0):K.eq(0)).length){return ap.verbose("Down key pressed but reached bottom of current menu"),void A.preventDefault()}ap.verbose("Down key pressed, changing active item"),K.removeClass(ao.selected),v.addClass(ao.selected),ap.set.scrollPosition(v),ag.selectOnKeydown&&ap.is.single()&&ap.set.selectedItem(v),A.preventDefault()}I==aa.pageUp&&(ap.scrollPage("up"),A.preventDefault()),I==aa.pageDown&&(ap.scrollPage("down"),A.preventDefault()),I==aa.escape&&(ap.verbose("Escape key pressed, closing dropdown"),ap.hide())}else{w&&A.preventDefault(),I!=aa.downArrow||ap.is.visible()||(ap.verbose("Down key pressed, showing dropdown"),ap.show(),A.preventDefault())}}else{ap.has.search()||ap.set.selectedLetter(String.fromCharCode(I))}}},trigger:{change:function(){var q=a.createEvent("HTMLEvents"),p=H[0];p&&(ap.verbose("Triggering native change event"),q.initEvent("change",!0,!1),p.dispatchEvent(q))}},determine:{selectAction:function(q,p){ap.verbose("Determining action",ag.action),d.isFunction(ap.action[ag.action])?(ap.verbose("Triggering preset action",ag.action,q,p),ap.action[ag.action].call(W,q,p,this)):d.isFunction(ag.action)?(ap.verbose("Triggering user action",ag.action,q,p),ag.action.call(W,q,p,this)):ap.error(aq.action,ag.action)},eventInModule:function(r,q){var u=d(r.target),p=0<u.closest(a.documentElement).length,s=0<u.closest(Z).length;return q=d.isFunction(q)?q:function(){},p&&!s?(ap.verbose("Triggering event",q),q(),!0):(ap.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(v,s){var x=d(v.target),q=x.closest(X.siblingLabel),w=a.body.contains(v.target),p=0===Z.find(q).length,u=0===x.closest(M).length;return s=d.isFunction(s)?s:function(){},w&&p&&u?(ap.verbose("Triggering event",s),s(),!0):(ap.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(q,p,r){if(p=p!==b?p:q,ap.can.activate(d(r))){if(ap.set.selected(p,d(r)),ap.is.multiple()&&!ap.is.allFiltered()){return}ap.hideAndClear()}},select:function(q,p,r){if(p=p!==b?p:q,ap.can.activate(d(r))){if(ap.set.value(p,q,d(r)),ap.is.multiple()&&!ap.is.allFiltered()){return}ap.hideAndClear()}},combo:function(q,p,r){p=p!==b?p:q,ap.set.selected(p,d(r)),ap.hideAndClear()},hide:function(q,p,r){ap.set.value(p,q,d(r)),ap.hideAndClear()}},get:{id:function(){return aw},defaultText:function(){return Z.data(av.defaultText)},defaultValue:function(){return Z.data(av.defaultValue)},placeholderText:function(){return"auto"!=ag.placeholder&&"string"==typeof ag.placeholder?ag.placeholder:Z.data(av.placeholderText)||""},text:function(){return al.text()},query:function(){return d.trim(B.val())},searchWidth:function(p){return p=p!==b?p:B.val(),V.text(p),Math.ceil(V.width()+1)},selectionCount:function(){var p=ap.get.values();return ap.is.multiple()?d.isArray(p)?p.length:0:""!==ap.get.value()?1:0},transition:function(p){return"auto"==ag.transition?ap.is.upward(p)?"slide up":"slide down":ag.transition},userValues:function(){var p=ap.get.values();return !!p&&(p=d.isArray(p)?p:[p],d.grep(p,function(q){return !1===ap.get.item(q)}))},uniqueArray:function(p){return d.grep(p,function(r,q){return d.inArray(r,p)===q})},caretPosition:function(){var q,p,r=B.get(0);return"selectionStart" in r?r.selectionStart:a.selection?(r.focus(),p=(q=a.selection.createRange()).text.length,q.moveStart("character",-r.value.length),q.text.length-p):void 0},value:function(){var q=0<H.length?H.val():Z.data(av.value),p=d.isArray(q)&&1===q.length&&""===q[0];return q===b||p?"":q},values:function(){var p=ap.get.value();return""===p?"":!ap.has.selectInput()&&ap.is.multiple()?"string"==typeof p?p.split(ag.delimiter):"":p},remoteValues:function(){var q=ap.get.values(),p=!1;return q&&("string"==typeof q&&(q=[q]),d.each(q,function(s,r){var u=ap.read.remoteData(r);ap.verbose("Restoring value from session data",u,r),u&&(p||(p={}),p[r]=u)})),p},choiceText:function(q,p){if(p=p!==b?p:ag.preserveHTML,q){return 0<q.find(X.menu).length&&(ap.verbose("Retrieving text of element with sub-menu"),(q=q.clone()).find(X.menu).remove(),q.find(X.menuIcon).remove()),q.data(av.text)!==b?q.data(av.text):p?d.trim(q.html()):d.trim(q.text())}},choiceValue:function(q,p){return p=p||ap.get.choiceText(q),!!q&&(q.data(av.value)!==b?String(q.data(av.value)):"string"==typeof p?d.trim(p.toLowerCase()):String(p))},inputEvent:function(){var p=B[0];return !!p&&(p.oninput!==b?"input":p.onpropertychange!==b?"propertychange":"keyup")},selectValues:function(){var p={values:[]};return Z.find("option").each(function(){var s=d(this),r=s.html(),u=s.attr("disabled"),q=s.attr("value")!==b?s.attr("value"):r;"auto"===ag.placeholder&&""===q?p.placeholder=r:p.values.push({name:r,value:q,disabled:u})}),ag.placeholder&&"auto"!==ag.placeholder&&(ap.debug("Setting placeholder value to",ag.placeholder),p.placeholder=ag.placeholder),ag.sortSelect?(p.values.sort(function(r,q){return r.name>q.name?1:-1}),ap.debug("Retrieved and sorted values from select",p)):ap.debug("Retrieved values from select",p),p},activeItem:function(){return K.filter("."+ao.active)},selectedItem:function(){var p=K.not(X.unselectable).filter("."+ao.selected);return 0<p.length?p:K.eq(0)},itemWithAdditions:function(q){var p=ap.get.item(q),r=ap.create.userChoice(q);return r&&0<r.length&&(p=0<p.length?p.add(r):r),p},item:function(q,u){var t,p,s=!1;return q=q!==b?q:ap.get.values()!==b?ap.get.values():ap.get.text(),t=p?0<q.length:q!==b&&null!==q,p=ap.is.multiple()&&d.isArray(q),u=""===q||0===q||(u||!1),t&&K.each(function(){var v=d(this),r=ap.get.choiceText(v),w=ap.get.choiceValue(v,r);if(null!==w&&w!==b){if(p){-1===d.inArray(String(w),q)&&-1===d.inArray(r,q)||(s=s?s.add(v):v)}else{if(u){if(ap.verbose("Ambiguous dropdown value using strict type check",v,q),w===q||r===q){return s=v,!0}}else{if(String(w)==String(q)||r==q){return ap.verbose("Found select item by value",w,q),s=v,!0}}}}}),s}},check:{maxSelections:function(p){return !ag.maxSelections||((p=p!==b?p:ap.get.selectionCount())>=ag.maxSelections?(ap.debug("Maximum selection count reached"),ag.useLabels&&(K.addClass(ao.filtered),ap.add.message(au.maxSelections)),!0):(ap.verbose("No longer at maximum selection count"),ap.remove.message(),ap.remove.filteredItem(),ap.is.searchSelection()&&ap.filterItems(),!1))}},restore:{defaults:function(){ap.clear(),ap.restore.defaultText(),ap.restore.defaultValue()},defaultText:function(){var p=ap.get.defaultText();p===ap.get.placeholderText?(ap.debug("Restoring default placeholder text",p),ap.set.placeholderText(p)):(ap.debug("Restoring default text",p),ap.set.text(p))},placeholderText:function(){ap.set.placeholderText()},defaultValue:function(){var p=ap.get.defaultValue();p!==b&&(ap.debug("Restoring default value",p),""!==p?(ap.set.value(p),ap.set.selected()):(ap.remove.activeItem(),ap.remove.selectedItem()))},labels:function(){ag.allowAdditions&&(ag.useLabels||(ap.error(aq.labels),ag.useLabels=!0),ap.debug("Restoring selected values"),ap.create.userLabels()),ap.check.maxSelections()},selected:function(){ap.restore.values(),ap.is.multiple()?(ap.debug("Restoring previously selected values and labels"),ap.restore.labels()):ap.debug("Restoring previously selected values")},values:function(){ap.set.initialLoad(),ag.apiSettings&&ag.saveRemoteData&&ap.get.remoteValues()?ap.restore.remoteValues():ap.set.selected(),ap.remove.initialLoad()},remoteValues:function(){var p=ap.get.remoteValues();ap.debug("Recreating selected from session data",p),p&&(ap.is.single()?d.each(p,function(r,q){ap.set.text(q)}):d.each(p,function(r,q){ap.add.label(r,q)}))}},read:{remoteData:function(q){var p;if(c.Storage!==b){return(p=sessionStorage.getItem(q))!==b&&p}ap.error(aq.noStorage)}},save:{defaults:function(){ap.save.defaultText(),ap.save.placeholderText(),ap.save.defaultValue()},defaultValue:function(){var p=ap.get.value();ap.verbose("Saving default value as",p),Z.data(av.defaultValue,p)},defaultText:function(){var p=ap.get.text();ap.verbose("Saving default text as",p),Z.data(av.defaultText,p)},placeholderText:function(){var p;!1!==ag.placeholder&&al.hasClass(ao.placeholder)&&(p=ap.get.text(),ap.verbose("Saving placeholder text as",p),Z.data(av.placeholderText,p))},remoteData:function(q,p){c.Storage!==b?(ap.verbose("Saving remote data to session storage",p,q),sessionStorage.setItem(p,q)):ap.error(aq.noStorage)}},clear:function(){ap.is.multiple()&&ag.useLabels?ap.remove.labels():(ap.remove.activeItem(),ap.remove.selectedItem()),ap.set.placeholderText(),ap.clearValue()},clearValue:function(){ap.set.value("")},scrollPage:function(y,E){var v,x,q=E||ap.get.selectedItem(),C=q.closest(X.menu),p=C.outerHeight(),F=C.scrollTop(),w=K.eq(0).outerHeight(),A=Math.floor(p/w),D=(C.prop("scrollHeight"),"up"==y?F-w*A:F+w*A),z=K.not(X.unselectable);x="up"==y?z.index(q)-A:z.index(q)+A,0<(v=("up"==y?0<=x:x<z.length)?z.eq(x):"up"==y?z.first():z.last()).length&&(ap.debug("Scrolling page",y,v),q.removeClass(ao.selected),v.addClass(ao.selected),ag.selectOnKeydown&&ap.is.single()&&ap.set.selectedItem(v),C.scrollTop(D))},set:{filtered:function(){var v=ap.is.multiple(),s=ap.is.searchSelection(),x=v&&s,q=s?ap.get.query():"",w="string"==typeof q&&0<q.length,p=ap.get.searchWidth(),u=""!==q;v&&w&&(ap.verbose("Adjusting input width",p,ag.glyphWidth),B.css("width",p)),w||x&&u?(ap.verbose("Hiding placeholder text"),al.addClass(ao.filtered)):(!v||x&&!u)&&(ap.verbose("Showing placeholder text"),al.removeClass(ao.filtered))},empty:function(){Z.addClass(ao.empty)},loading:function(){Z.addClass(ao.loading)},placeholderText:function(p){p=p||ap.get.placeholderText(),ap.debug("Setting placeholder text",p),ap.set.text(p),al.addClass(ao.placeholder)},tabbable:function(){ap.is.searchSelection()?(ap.debug("Added tabindex to searchable dropdown"),B.val("").attr("tabindex",0),M.attr("tabindex",-1)):(ap.debug("Added tabindex to dropdown"),Z.attr("tabindex")===b&&(Z.attr("tabindex",0),M.attr("tabindex",-1)))},initialLoad:function(){ap.verbose("Setting initial load"),ar=!0},activeItem:function(p){ag.allowAdditions&&0<p.filter(X.addition).length?p.addClass(ao.filtered):p.addClass(ao.active)},partialSearch:function(q){var p=ap.get.query().length;B.val(q.substr(0,p))},scrollPosition:function(x,u){var z,q,y,p,w,v;z=(x=x||ap.get.selectedItem()).closest(X.menu),q=x&&0<x.length,u=u!==b&&u,x&&0<z.length&&q&&(x.position().top,z.addClass(ao.loading),y=(p=z.scrollTop())-z.offset().top+x.offset().top,u||(v=p+z.height()<y+5,w=y-5<p),ap.debug("Scrolling to active item",y),(u||w||v)&&z.scrollTop(y),z.removeClass(ao.loading))},text:function(p){"select"!==ag.action&&("combo"==ag.action?(ap.debug("Changing combo button text",p,N),ag.preserveHTML?N.html(p):N.text(p)):(p!==ap.get.placeholderText()&&al.removeClass(ao.placeholder),ap.debug("Changing text",p,al),al.removeClass(ao.filtered),ag.preserveHTML?al.html(p):al.text(p)))},selectedItem:function(r){var q=ap.get.choiceValue(r),s=ap.get.choiceText(r,!1),p=ap.get.choiceText(r,!0);ap.debug("Setting user selection to item",r),ap.remove.activeItem(),ap.set.partialSearch(s),ap.set.activeItem(r),ap.set.selected(q,r),ap.set.text(p)},selectedLetter:function(r){var q,u=K.filter("."+ao.selected),p=0<u.length&&ap.has.firstLetter(u,r),s=!1;p&&(q=u.nextAll(K).eq(0),ap.has.firstLetter(q,r)&&(s=q)),s||K.each(function(){if(ap.has.firstLetter(d(this),r)){return s=d(this),!1}}),s&&(ap.verbose("Scrolling to next value with letter",r),ap.set.scrollPosition(s),u.removeClass(ao.selected),s.addClass(ao.selected),ag.selectOnKeydown&&ap.is.single()&&ap.set.selectedItem(s))},direction:function(p){"auto"==ag.direction?(ap.remove.upward(),ap.can.openDownward(p)?ap.remove.upward(p):ap.set.upward(p),ap.is.leftward(p)||ap.can.openRightward(p)||ap.set.leftward(p)):"upward"==ag.direction&&ap.set.upward(p)},upward:function(p){(p||Z).addClass(ao.upward)},leftward:function(p){(p||M).addClass(ao.leftward)},value:function(v,s,x){var q=ap.escape.value(v),w=0<H.length,p=ap.get.values(),u=v!==b?String(v):v;if(w){if(!ag.allowReselection&&u==p&&(ap.verbose("Skipping value update already same value",v,p),!ap.is.initialLoad())){return}ap.is.single()&&ap.has.selectInput()&&ap.can.extendSelect()&&(ap.debug("Adding user option",v),ap.add.optionValue(v)),ap.debug("Updating input value",q,p),am=!0,H.val(q),!1===ag.fireOnInit&&ap.is.initialLoad()?ap.debug("Input native change event ignored on initial load"):ap.trigger.change(),am=!1}else{ap.verbose("Storing value in metadata",q,H),q!==p&&Z.data(av.value,u)}ap.is.single()&&ag.clearable&&(q?ap.set.clearable():ap.remove.clearable()),!1===ag.fireOnInit&&ap.is.initialLoad()?ap.verbose("No callback on initial load",ag.onChange):ag.onChange.call(W,v,s,x)},active:function(){Z.addClass(ao.active)},multiple:function(){Z.addClass(ao.multiple)},visible:function(){Z.addClass(ao.visible)},exactly:function(q,p){ap.debug("Setting selected to exact values"),ap.clear(),ap.set.selected(q,p)},selected:function(r,q){var p=ap.is.multiple();(q=ag.allowAdditions?q||ap.get.itemWithAdditions(r):q||ap.get.item(r))&&(ap.debug("Setting selected menu item to",q),ap.is.multiple()&&ap.remove.searchWidth(),ap.is.single()?(ap.remove.activeItem(),ap.remove.selectedItem()):ag.useLabels&&ap.remove.selectedItem(),q.each(function(){var x=d(this),v=ap.get.choiceText(x),z=ap.get.choiceValue(x,v),u=x.hasClass(ao.filtered),y=x.hasClass(ao.active),s=x.hasClass(ao.addition),w=p&&1==q.length;p?!y||s?(ag.apiSettings&&ag.saveRemoteData&&ap.save.remoteData(v,z),ag.useLabels?(ap.add.label(z,v,w),ap.add.value(z,v,x),ap.set.activeItem(x),ap.filterActive(),ap.select.nextAvailable(q)):(ap.add.value(z,v,x),ap.set.text(ap.add.variables(au.count)),ap.set.activeItem(x))):u||(ap.debug("Selected active value, removing label"),ap.remove.selected(z)):(ag.apiSettings&&ag.saveRemoteData&&ap.save.remoteData(v,z),ap.set.text(v),ap.set.value(z,v,x),x.addClass(ao.active).addClass(ao.selected))}))},clearable:function(){J.addClass(ao.clear)}},add:{label:function(s,r,v){var q,u=ap.is.searchSelection()?B:al,p=ap.escape.value(s);ag.ignoreCase&&(p=p.toLowerCase()),q=d("<a />").addClass(ao.label).attr("data-"+av.value,p).html(aj.label(p,r)),q=ag.onLabelCreate.call(q,p,r),ap.has.label(s)?ap.debug("User selection already exists, skipping",p):(ag.label.variation&&q.addClass(ag.label.variation),!0===v?(ap.debug("Animating in label",q),q.addClass(ao.hidden).insertBefore(u).transition(ag.label.transition,ag.label.duration)):(ap.debug("Adding selection label",q),q.insertBefore(u)))},message:function(q){var p=M.children(X.message),r=ag.templates.message(ap.add.variables(q));0<p.length?p.html(r):p=d("<div/>").html(r).addClass(ao.message).appendTo(M)},optionValue:function(q){var p=ap.escape.value(q);0<H.find('option[value="'+ap.escape.string(p)+'"]').length||(ap.disconnect.selectObserver(),ap.is.single()&&(ap.verbose("Removing previous user addition"),H.find("option."+ao.addition).remove()),d("<option/>").prop("value",p).addClass(ao.addition).html(q).appendTo(H),ap.verbose("Adding user addition as an <option>",q),ap.observe.select())},userSuggestion:function(s){var r,v=M.children(X.addition),q=ap.get.item(s),u=q&&q.not(X.addition).length,p=0<v.length;ag.useLabels&&ap.has.maxSelections()||(""===s||u?v.remove():(p?(v.data(av.value,s).data(av.text,s).attr("data-"+av.value,s).attr("data-"+av.text,s).removeClass(ao.filtered),ag.hideAdditions||(r=ag.templates.addition(ap.add.variables(au.addResult,s)),v.html(r)),ap.verbose("Replacing user suggestion with new value",v)):((v=ap.create.userChoice(s)).prependTo(M),ap.verbose("Adding item choice to menu corresponding with user choice addition",v)),ag.hideAdditions&&!ap.is.allFiltered()||v.addClass(ao.selected).siblings().removeClass(ao.selected),ap.refreshItems()))},variables:function(v,s){var x,q,w=-1!==v.search("{count}"),p=-1!==v.search("{maxCount}"),u=-1!==v.search("{term}");return ap.verbose("Adding templated variables to message",v),w&&(x=ap.get.selectionCount(),v=v.replace("{count}",x)),p&&(x=ap.get.selectionCount(),v=v.replace("{maxCount}",ag.maxSelections)),u&&(q=s||ap.get.query(),v=v.replace("{term}",q)),v},value:function(r,q,u){var p,s=ap.get.values();ap.has.value(r)?ap.debug("Value already selected"):""!==r?(p=d.isArray(s)?(p=s.concat([r]),ap.get.uniqueArray(p)):[r],ap.has.selectInput()?ap.can.extendSelect()&&(ap.debug("Adding value to select",r,p,H),ap.add.optionValue(r)):(p=p.join(ag.delimiter),ap.debug("Setting hidden input to delimited value",p,H)),!1===ag.fireOnInit&&ap.is.initialLoad()?ap.verbose("Skipping onadd callback on initial load",ag.onAdd):ag.onAdd.call(W,r,q,u),ap.set.value(p,r,q,u),ap.check.maxSelections()):ap.debug("Cannot select blank values from multiselect")}},remove:{active:function(){Z.removeClass(ao.active)},activeLabel:function(){Z.find(X.label).removeClass(ao.active)},empty:function(){Z.removeClass(ao.empty)},loading:function(){Z.removeClass(ao.loading)},initialLoad:function(){ar=!1},upward:function(p){(p||Z).removeClass(ao.upward)},leftward:function(p){(p||M).removeClass(ao.leftward)},visible:function(){Z.removeClass(ao.visible)},activeItem:function(){K.removeClass(ao.active)},filteredItem:function(){ag.useLabels&&ap.has.maxSelections()||(ag.useLabels&&ap.is.multiple()?K.not("."+ao.active).removeClass(ao.filtered):K.removeClass(ao.filtered),ap.remove.empty())},optionValue:function(q){var p=ap.escape.value(q),r=H.find('option[value="'+ap.escape.string(p)+'"]');0<r.length&&r.hasClass(ao.addition)&&(ae&&(ae.disconnect(),ap.verbose("Temporarily disconnecting mutation observer")),r.remove(),ap.verbose("Removing user addition as an <option>",p),ae&&ae.observe(H[0],{childList:!0,subtree:!0}))},message:function(){M.children(X.message).remove()},searchWidth:function(){B.css("width","")},searchTerm:function(){ap.verbose("Cleared search term"),B.val(""),ap.set.filtered()},userAddition:function(){K.filter(X.addition).remove()},selected:function(q,p){if(!(p=ag.allowAdditions?p||ap.get.itemWithAdditions(q):p||ap.get.item(q))){return !1}p.each(function(){var s=d(this),r=ap.get.choiceText(s),u=ap.get.choiceValue(s,r);ap.is.multiple()?ag.useLabels?(ap.remove.value(u,r,s),ap.remove.label(u)):(ap.remove.value(u,r,s),0===ap.get.selectionCount()?ap.set.placeholderText():ap.set.text(ap.add.variables(au.count))):ap.remove.value(u,r,s),s.removeClass(ao.filtered).removeClass(ao.active),ag.useLabels&&s.removeClass(ao.selected)})},selectedItem:function(){K.removeClass(ao.selected)},value:function(r,q,u){var p,s=ap.get.values();ap.has.selectInput()?(ap.verbose("Input is <select> removing selected option",r),p=ap.remove.arrayValue(r,s),ap.remove.optionValue(r)):(ap.verbose("Removing from delimited values",r),p=(p=ap.remove.arrayValue(r,s)).join(ag.delimiter)),!1===ag.fireOnInit&&ap.is.initialLoad()?ap.verbose("No callback on initial load",ag.onRemove):ag.onRemove.call(W,r,q,u),ap.set.value(p,q,u),ap.check.maxSelections()},arrayValue:function(p,q){return d.isArray(q)||(q=[q]),q=d.grep(q,function(r){return p!=r}),ap.verbose("Removed value from delimited string",p,q),q},label:function(q,p){var r=Z.find(X.label).filter("[data-"+av.value+'="'+ap.escape.string(q)+'"]');ap.verbose("Removing label",r),r.remove()},activeLabels:function(p){p=p||Z.find(X.label).filter("."+ao.active),ap.verbose("Removing active label selections",p),ap.remove.labels(p)},labels:function(p){p=p||Z.find(X.label),ap.verbose("Removing labels",p),p.each(function(){var s=d(this),r=s.data(av.value),u=r!==b?String(r):r,q=ap.is.userValue(u);!1!==ag.onLabelRemove.call(s,r)?(ap.remove.message(),q?(ap.remove.value(u),ap.remove.label(u)):ap.remove.selected(u)):ap.debug("Label remove callback cancelled removal")})},tabbable:function(){ap.is.searchSelection()?(ap.debug("Searchable dropdown initialized"),B.removeAttr("tabindex")):(ap.debug("Simple selection dropdown initialized"),Z.removeAttr("tabindex")),M.removeAttr("tabindex")},clearable:function(){J.removeClass(ao.clear)}},has:{menuSearch:function(){return ap.has.search()&&0<B.closest(M).length},search:function(){return 0<B.length},sizer:function(){return 0<V.length},selectInput:function(){return H.is("select")},minCharacters:function(p){return !ag.minCharacters||(p=p!==b?String(p):String(ap.get.query())).length>=ag.minCharacters},firstLetter:function(q,p){var r;return !(!q||0===q.length||"string"!=typeof p)&&(r=ap.get.choiceText(q,!1),(p=p.toLowerCase())==String(r).charAt(0).toLowerCase())},input:function(){return 0<H.length},items:function(){return 0<K.length},menu:function(){return 0<M.length},message:function(){return 0!==M.children(X.message).length},label:function(q){var p=ap.escape.value(q),r=Z.find(X.label);return ag.ignoreCase&&(p=p.toLowerCase()),0<r.filter("[data-"+av.value+'="'+ap.escape.string(p)+'"]').length},maxSelections:function(){return ag.maxSelections&&ap.get.selectionCount()>=ag.maxSelections},allResultsFiltered:function(){var p=K.not(X.addition);return p.filter(X.unselectable).length===p.length},userSuggestion:function(){return 0<M.children(X.addition).length},query:function(){return""!==ap.get.query()},value:function(p){return ag.ignoreCase?ap.has.valueIgnoringCase(p):ap.has.valueMatchingCase(p)},valueMatchingCase:function(q){var p=ap.get.values();return !!(d.isArray(p)?p&&-1!==d.inArray(q,p):p==q)},valueIgnoringCase:function(r){var q=ap.get.values(),p=!1;return d.isArray(q)||(q=[q]),d.each(q,function(u,s){if(String(r).toLowerCase()==String(s).toLowerCase()){return !(p=!0)}}),p}},is:{active:function(){return Z.hasClass(ao.active)},animatingInward:function(){return M.transition("is inward")},animatingOutward:function(){return M.transition("is outward")},bubbledLabelClick:function(p){return d(p.target).is("select, input")&&0<Z.closest("label").length},bubbledIconClick:function(p){return 0<d(p.target).closest(J).length},alreadySetup:function(){return Z.is("select")&&Z.parent(X.dropdown).data(U)!==b&&0===Z.prev().length},animating:function(p){return p?p.transition&&p.transition("is animating"):M.transition&&M.transition("is animating")},leftward:function(p){return(p||M).hasClass(ao.leftward)},disabled:function(){return Z.hasClass(ao.disabled)},focused:function(){return a.activeElement===Z[0]},focusedOnSearch:function(){return a.activeElement===B[0]},allFiltered:function(){return(ap.is.multiple()||ap.has.search())&&!(0==ag.hideAdditions&&ap.has.userSuggestion())&&!ap.has.message()&&ap.has.allResultsFiltered()},hidden:function(p){return !ap.is.visible(p)},initialLoad:function(){return ar},inObject:function(r,q){var p=!1;return d.each(q,function(u,s){if(s==r){return p=!0}}),p},multiple:function(){return Z.hasClass(ao.multiple)},remote:function(){return ag.apiSettings&&ap.can.useAPI()},single:function(){return !ap.is.multiple()},selectMutation:function(p){var q=!1;return d.each(p,function(s,r){if(r.target&&d(r.target).is("select")){return q=!0}}),q},search:function(){return Z.hasClass(ao.search)},searchSelection:function(){return ap.has.search()&&1===B.parent(X.dropdown).length},selection:function(){return Z.hasClass(ao.selection)},userValue:function(p){return -1!==d.inArray(p,ap.get.userValues())},upward:function(p){return(p||Z).hasClass(ao.upward)},visible:function(p){return p?p.hasClass(ao.visible):M.hasClass(ao.visible)},verticallyScrollableContext:function(){var p=G.get(0)!==c&&G.css("overflow-y");return"auto"==p||"scroll"==p},horizontallyScrollableContext:function(){var p=G.get(0)!==c&&G.css("overflow-X");return"auto"==p||"scroll"==p}},can:{activate:function(p){return !!ag.useLabels||(!ap.has.maxSelections()||!(!ap.has.maxSelections()||!p.hasClass(ao.active)))},openDownward:function(r){var q,u,p=r||M,s=!0;return p.addClass(ao.loading),u={context:{offset:G.get(0)===c?{top:0,left:0}:G.offset(),scrollTop:G.scrollTop(),height:G.outerHeight()},menu:{offset:p.offset(),height:p.outerHeight()}},ap.is.verticallyScrollableContext()&&(u.menu.offset.top+=u.context.scrollTop),s=(q={above:u.context.scrollTop<=u.menu.offset.top-u.context.offset.top-u.menu.height,below:u.context.scrollTop+u.context.height>=u.menu.offset.top-u.context.offset.top+u.menu.height}).below?(ap.verbose("Dropdown can fit in context downward",q),!0):q.below||q.above?(ap.verbose("Dropdown cannot fit below, opening upward",q),!1):(ap.verbose("Dropdown cannot fit in either direction, favoring downward",q),!0),p.removeClass(ao.loading),s},openRightward:function(r){var q,u,p=r||M,s=!0;return p.addClass(ao.loading),u={context:{offset:G.get(0)===c?{top:0,left:0}:G.offset(),scrollLeft:G.scrollLeft(),width:G.outerWidth()},menu:{offset:p.offset(),width:p.outerWidth()}},ap.is.horizontallyScrollableContext()&&(u.menu.offset.left+=u.context.scrollLeft),(q=u.menu.offset.left-u.context.offset.left+u.menu.width>=u.context.scrollLeft+u.context.width)&&(ap.verbose("Dropdown cannot fit in context rightward",q),s=!1),p.removeClass(ao.loading),s},click:function(){return i||"click"==ag.on},extendSelect:function(){return ag.allowAdditions||ag.apiSettings},show:function(){return !ap.is.disabled()&&(ap.has.items()||ap.has.message())},useAPI:function(){return d.fn.api!==b}},animate:{show:function(r,q){var u,p=q||M,s=q?function(){}:function(){ap.hideSubMenus(),ap.hideOthers(),ap.set.active()};r=d.isFunction(r)?r:function(){},ap.verbose("Doing menu show animation",p),ap.set.direction(q),u=ap.get.transition(q),ap.is.selection()&&ap.set.scrollPosition(ap.get.selectedItem(),!0),(ap.is.hidden(p)||ap.is.animating(p))&&("none"==u?(s(),p.transition("show"),r.call(W)):d.fn.transition!==b&&Z.transition("is supported")?p.transition({animation:u+" in",debug:ag.debug,verbose:ag.verbose,duration:ag.duration,queue:!0,onStart:s,onComplete:function(){r.call(W)}}):ap.error(aq.noTransition,u))},hide:function(r,q){var u=q||M,p=(q?ag.duration:ag.duration,q?function(){}:function(){ap.can.click()&&ap.unbind.intent(),ap.remove.active()}),s=ap.get.transition(q);r=d.isFunction(r)?r:function(){},(ap.is.visible(u)||ap.is.animating(u))&&(ap.verbose("Doing menu hide animation",u),"none"==s?(p(),u.transition("hide"),r.call(W)):d.fn.transition!==b&&Z.transition("is supported")?u.transition({animation:s+" out",duration:ag.duration,debug:ag.debug,verbose:ag.verbose,queue:!1,onStart:p,onComplete:function(){r.call(W)}}):ap.error(aq.transition))}},hideAndClear:function(){ap.remove.searchTerm(),ap.has.maxSelections()||(ap.has.search()?ap.hide(function(){ap.remove.filteredItem()}):ap.hide())},delay:{show:function(){ap.verbose("Delaying show event to ensure user intent"),clearTimeout(ap.timer),ap.timer=setTimeout(ap.show,ag.delay.show)},hide:function(){ap.verbose("Delaying hide event to ensure user intent"),clearTimeout(ap.timer),ap.timer=setTimeout(ap.hide,ag.delay.hide)}},escape:{value:function(s){var r=d.isArray(s),v="string"==typeof s,q=!v&&!r,u=v&&-1!==s.search(at.quote),p=[];return q||!u?s:(ap.debug("Encoding quote values for use in select",s),r?(d.each(s,function(x,w){p.push(w.replace(at.quote,"&quot;"))}),p):s.replace(at.quote,"&quot;"))},string:function(p){return(p=String(p)).replace(at.escape,"\\$&")}},setting:function(q,p){if(ap.debug("Changing setting",q,p),d.isPlainObject(q)){d.extend(!0,ag,q)}else{if(p===b){return ag[q]}d.isPlainObject(ag[q])?d.extend(!0,ag[q],p):ag[q]=p}},internal:function(q,p){if(d.isPlainObject(q)){d.extend(!0,ap,q)}else{if(p===b){return ap[q]}ap[q]=p}},debug:function(){!ag.silent&&ag.debug&&(ag.performance?ap.performance.log(arguments):(ap.debug=Function.prototype.bind.call(console.info,console,ag.name+":"),ap.debug.apply(console,arguments)))},verbose:function(){!ag.silent&&ag.verbose&&ag.debug&&(ag.performance?ap.performance.log(arguments):(ap.verbose=Function.prototype.bind.call(console.info,console,ag.name+":"),ap.verbose.apply(console,arguments)))},error:function(){ag.silent||(ap.error=Function.prototype.bind.call(console.error,console,ag.name+":"),ap.error.apply(console,arguments))},performance:{log:function(q){var p,r;ag.performance&&(r=(p=(new Date).getTime())-(g||p),g=p,e.push({Name:q[0],Arguments:[].slice.call(q,1)||"",Element:W,"Execution Time":r})),clearTimeout(ap.performance.timer),ap.performance.timer=setTimeout(ap.performance.display,500)},display:function(){var p=ag.name+":",q=0;g=!1,clearTimeout(ap.performance.timer),d.each(e,function(s,r){q+=r["Execution Time"]}),p+=" "+q+"ms",o&&(p+=" '"+o+"'"),(console.group!==b||console.table!==b)&&0<e.length&&(console.groupCollapsed(p),console.table?console.table(e):d.each(e,function(s,r){console.log(r.Name+": "+r["Execution Time"]+"ms")}),console.groupEnd()),e=[]}},invoke:function(s,v,q){var w,p,x,u=L;return v=v||j,q=W||q,"string"==typeof s&&u!==b&&(s=s.split(/[\. ]/),w=s.length-1,d.each(s,function(y,r){var z=y!=w?r+s[y+1].charAt(0).toUpperCase()+s[y+1].slice(1):s;if(d.isPlainObject(u[z])&&y!=w){u=u[z]}else{if(u[z]!==b){return p=u[z],!1}if(!d.isPlainObject(u[r])||y==w){return u[r]!==b?p=u[r]:ap.error(aq.method,s),!1}u=u[r]}})),d.isFunction(p)?x=p.apply(q,v):p!==b&&(x=p),d.isArray(n)?n.push(x):n!==b?n=[n,x]:x!==b&&(n=x),p}},f?(L===b&&ap.initialize(),ap.invoke(k)):(L!==b&&L.invoke("destroy"),ap.initialize())}),n!==b?n:h},d.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",values:!1,clearable:!1,apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!0,throttle:200,context:c,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,ignoreCase:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(g,f,h){},onAdd:function(g,f,h){},onRemove:function(g,f,h){},onLabelSelect:function(f){},onLabelCreate:function(g,f){return d(this)},onLabelRemove:function(f){return !0},onNoResults:function(f){return !0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",clear:"clear",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",leftward:"left",visible:"visible"}},d.fn.dropdown.settings.templates={dropdown:function(g){var f=g.placeholder||!1,h=(g.values,"");return h+='<i class="dropdown icon"></i>',g.placeholder?h+='<div class="default text">'+f+"</div>":h+='<div class="text"></div>',h+='<div class="menu">',d.each(g.values,function(j,i){h+=i.disabled?'<div class="disabled item" data-value="'+i.value+'">'+i.name+"</div>":'<div class="item" data-value="'+i.value+'">'+i.name+"</div>"}),h+="</div>"},menu:function(h,i){var g=h[i.values]||{},f="";return d.each(g,function(l,k){var m=k[i.text]?'data-text="'+k[i.text]+'"':"",j=k[i.disabled]?"disabled ":"";f+='<div class="'+j+'item" data-value="'+k[i.value]+'"'+m+">",f+=k[i.name],f+="</div>"}),f},label:function(g,f){return f+'<i class="delete icon"></i>'},message:function(f){return f},addition:function(f){return f}}}(jQuery,window,document),function(b,c,d,a){c=void 0!==c&&c.Math==Math?c:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),b.fn.embed=function(f){var i,n=b(this),k=n.selector||"",j=(new Date).getTime(),l=[],e=f,m="string"==typeof e,g=[].slice.call(arguments,1);return n.each(function(){var G,x=b.isPlainObject(f)?b.extend(!0,{},b.fn.embed.settings,f):b.extend({},b.fn.embed.settings),A=x.selector,F=x.className,p=x.sources,w=x.error,D=x.metadata,q=x.namespace,h=x.templates,C="."+q,E="module-"+q,B=(b(c),b(this)),z=(B.find(A.placeholder),B.find(A.icon),B.find(A.embed)),v=this,y=B.data(E);G={initialize:function(){G.debug("Initializing embed"),G.determine.autoplay(),G.create(),G.bind.events(),G.instantiate()},instantiate:function(){G.verbose("Storing instance of module",G),y=G,B.data(E,G)},destroy:function(){G.verbose("Destroying previous instance of embed"),G.reset(),B.removeData(E).off(C)},refresh:function(){G.verbose("Refreshing selector cache"),B.find(A.placeholder),B.find(A.icon),z=B.find(A.embed)},bind:{events:function(){G.has.placeholder()&&(G.debug("Adding placeholder events"),B.on("click"+C,A.placeholder,G.createAndShow).on("click"+C,A.icon,G.createAndShow))}},create:function(){G.get.placeholder()?G.createPlaceholder():G.createAndShow()},createPlaceholder:function(r){var o=G.get.icon(),s=G.get.url();G.generate.embed(s);r=r||G.get.placeholder(),B.html(h.placeholder(r,o)),G.debug("Creating placeholder for embed",r,o)},createEmbed:function(o){G.refresh(),o=o||G.get.url(),z=b("<div/>").addClass(F.embed).html(G.generate.embed(o)).appendTo(B),x.onCreate.call(v,o),G.debug("Creating embed object",z)},changeEmbed:function(o){z.html(G.generate.embed(o))},createAndShow:function(){G.createEmbed(),G.show()},change:function(r,o,s){G.debug("Changing video to ",r,o,s),B.data(D.source,r).data(D.id,o),s?B.data(D.url,s):B.removeData(D.url),G.has.embed()?G.changeEmbed():G.create()},reset:function(){G.debug("Clearing embed and showing placeholder"),G.remove.data(),G.remove.active(),G.remove.embed(),G.showPlaceholder(),x.onReset.call(v)},show:function(){G.debug("Showing embed"),G.set.active(),x.onDisplay.call(v)},hide:function(){G.debug("Hiding embed"),G.showPlaceholder()},showPlaceholder:function(){G.debug("Showing placeholder image"),G.remove.active(),x.onPlaceholderDisplay.call(v)},get:{id:function(){return x.id||B.data(D.id)},placeholder:function(){return x.placeholder||B.data(D.placeholder)},icon:function(){return x.icon?x.icon:B.data(D.icon)!==a?B.data(D.icon):G.determine.icon()},source:function(o){return x.source?x.source:B.data(D.source)!==a?B.data(D.source):G.determine.source()},type:function(){var o=G.get.source();return p[o]!==a&&p[o].type},url:function(){return x.url?x.url:B.data(D.url)!==a?B.data(D.url):G.determine.url()}},determine:{autoplay:function(){G.should.autoplay()&&(x.autoplay=!0)},source:function(r){var o=!1;return(r=r||G.get.url())&&b.each(p,function(u,s){if(-1!==r.search(s.domain)){return o=u,!1}}),o},icon:function(){var o=G.get.source();return p[o]!==a&&p[o].icon},url:function(){var r,o=x.id||B.data(D.id),s=x.source||B.data(D.source);return(r=p[s]!==a&&p[s].url.replace("{id}",o))&&B.data(D.url,r),r}},set:{active:function(){B.addClass(F.active)}},remove:{data:function(){B.removeData(D.id).removeData(D.icon).removeData(D.placeholder).removeData(D.source).removeData(D.url)},active:function(){B.removeClass(F.active)},embed:function(){z.empty()}},encode:{parameters:function(r){var o,s=[];for(o in r){s.push(encodeURIComponent(o)+"="+encodeURIComponent(r[o]))}return s.join("&amp;")}},generate:{embed:function(s){G.debug("Generating embed html");var r,u,o=G.get.source();return(s=G.get.url(s))?(u=G.generate.parameters(o),r=h.iframe(s,u)):G.error(w.noURL,B),r},parameters:function(r,o){var s=p[r]&&p[r].parameters!==a?p[r].parameters(x):{};return(o=o||x.parameters)&&(s=b.extend({},s,o)),s=x.onEmbed(s),G.encode.parameters(s)}},has:{embed:function(){return 0<z.length},placeholder:function(){return x.placeholder||B.data(D.placeholder)}},should:{autoplay:function(){return"auto"===x.autoplay?x.placeholder||B.data(D.placeholder)!==a:x.autoplay}},is:{video:function(){return"video"==G.get.type()}},setting:function(r,o){if(G.debug("Changing setting",r,o),b.isPlainObject(r)){b.extend(!0,x,r)}else{if(o===a){return x[r]}b.isPlainObject(x[r])?b.extend(!0,x[r],o):x[r]=o}},internal:function(r,o){if(b.isPlainObject(r)){b.extend(!0,G,r)}else{if(o===a){return G[r]}G[r]=o}},debug:function(){!x.silent&&x.debug&&(x.performance?G.performance.log(arguments):(G.debug=Function.prototype.bind.call(console.info,console,x.name+":"),G.debug.apply(console,arguments)))},verbose:function(){!x.silent&&x.verbose&&x.debug&&(x.performance?G.performance.log(arguments):(G.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),G.verbose.apply(console,arguments)))},error:function(){x.silent||(G.error=Function.prototype.bind.call(console.error,console,x.name+":"),G.error.apply(console,arguments))},performance:{log:function(r){var o,s;x.performance&&(s=(o=(new Date).getTime())-(j||o),j=o,l.push({Name:r[0],Arguments:[].slice.call(r,1)||"",Element:v,"Execution Time":s})),clearTimeout(G.performance.timer),G.performance.timer=setTimeout(G.performance.display,500)},display:function(){var o=x.name+":",r=0;j=!1,clearTimeout(G.performance.timer),b.each(l,function(u,s){r+=s["Execution Time"]}),o+=" "+r+"ms",k&&(o+=" '"+k+"'"),1<n.length&&(o+=" ("+n.length+")"),(console.group!==a||console.table!==a)&&0<l.length&&(console.groupCollapsed(o),console.table?console.table(l):b.each(l,function(u,s){console.log(s.Name+": "+s["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(H,J,u){var K,s,L,I=y;return J=J||g,u=v||u,"string"==typeof H&&I!==a&&(H=H.split(/[\. ]/),K=H.length-1,b.each(H,function(r,o){var M=r!=K?o+H[r+1].charAt(0).toUpperCase()+H[r+1].slice(1):H;if(b.isPlainObject(I[M])&&r!=K){I=I[M]}else{if(I[M]!==a){return s=I[M],!1}if(!b.isPlainObject(I[o])||r==K){return I[o]!==a?s=I[o]:G.error(w.method,H),!1}I=I[o]}})),b.isFunction(s)?L=s.apply(u,J):s!==a&&(L=s),b.isArray(i)?i.push(L):i!==a?i=[i,L]:L!==a&&(i=L),s}},m?(y===a&&G.initialize(),G.invoke(e)):(y!==a&&y.invoke("destroy"),G.initialize())}),i!==a?i:this},b.fn.embed.settings={name:"Embed",namespace:"embed",silent:!1,debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(f){},onEmbed:function(f){return f},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(f){return{autohide:!f.brandedUI,autoplay:f.autoplay,color:f.color||a,hq:f.hd,jsapi:f.api,modestbranding:!f.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(f){return{api:f.api,autoplay:f.autoplay,byline:f.brandedUI,color:f.color||a,portrait:f.brandedUI,title:f.brandedUI}}}},templates:{iframe:function(g,f){var h=g;return f&&(h+="?"+f),'<iframe src="'+h+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(g,f){var h="";return f&&(h+='<i class="'+f+' icon"></i>'),g&&(h+='<img class="placeholder" src="'+g+'">'),h}},api:!1,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(b,c,a,d){c=void 0!==c&&c.Math==Math?c:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),b.fn.modal=function(r){var l,p=b(this),j=b(c),i=b(a),h=b("body"),m=p.selector||"",n=(new Date).getTime(),t=[],s=r,o="string"==typeof s,f=[].slice.call(arguments,1),g=c.requestAnimationFrame||c.mozRequestAnimationFrame||c.webkitRequestAnimationFrame||c.msRequestAnimationFrame||function(k){setTimeout(k,0)};return p.each(function(){var H,K,O,G,S,A,E,B,J,Q=b.isPlainObject(r)?b.extend(!0,{},b.fn.modal.settings,r):b.extend({},b.fn.modal.settings),z=Q.selector,P=Q.className,N=Q.namespace,I=Q.error,M="."+N,F="module-"+N,L=b(this),w=b(Q.context),R=L.find(z.close),k=this,q=L.data(F),D=!1;J={initialize:function(){J.verbose("Initializing dimmer",w),J.create.id(),J.create.dimmer(),J.refreshModals(),J.bind.events(),Q.observeChanges&&J.observeChanges(),J.instantiate()},instantiate:function(){J.verbose("Storing instance of modal"),q=J,L.data(F,q)},create:{dimmer:function(){var v={debug:Q.debug,variation:!Q.centered&&"top aligned",dimmerName:"modals"},u=b.extend(!0,v,Q.dimmerSettings);b.fn.dimmer!==d?(J.debug("Creating dimmer"),G=w.dimmer(u),Q.detachable?(J.verbose("Modal is detachable, moving content into dimmer"),G.dimmer("add content",L)):J.set.undetached(),S=G.dimmer("get dimmer")):J.error(I.dimmer)},id:function(){E=(Math.random().toString(16)+"000000000").substr(2,8),A="."+E,J.verbose("Creating unique id for element",E)}},destroy:function(){J.verbose("Destroying previous modal"),L.removeData(F).off(M),j.off(A),S.off(A),R.off(M),w.dimmer("destroy")},observeChanges:function(){"MutationObserver" in c&&((B=new MutationObserver(function(u){J.debug("DOM tree modified, refreshing"),J.refresh()})).observe(k,{childList:!0,subtree:!0}),J.debug("Setting up mutation observer",B))},refresh:function(){J.remove.scrolling(),J.cacheSizes(),J.can.useFlex()||J.set.modalOffset(),J.set.screenHeight(),J.set.type()},refreshModals:function(){K=L.siblings(z.modal),H=K.add(L)},attachEvents:function(v,u){var x=b(v);u=b.isFunction(J[u])?J[u]:J.toggle,0<x.length?(J.debug("Attaching modal events to element",v,u),x.off(M).on("click"+M,u)):J.error(I.notFound,v)},bind:{events:function(){J.verbose("Attaching events"),L.on("click"+M,z.close,J.event.close).on("click"+M,z.approve,J.event.approve).on("click"+M,z.deny,J.event.deny),j.on("resize"+A,J.event.resize)},scrollLock:function(){G.get(0).addEventListener("touchmove",J.event.preventScroll,{passive:!1})}},unbind:{scrollLock:function(){G.get(0).removeEventListener("touchmove",J.event.preventScroll,{passive:!1})}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){D||!1===Q.onApprove.call(k,b(this))?J.verbose("Approve callback returned false cancelling hide"):(D=!0,J.hide(function(){D=!1}))},preventScroll:function(u){u.preventDefault()},deny:function(){D||!1===Q.onDeny.call(k,b(this))?J.verbose("Deny callback returned false cancelling hide"):(D=!0,J.hide(function(){D=!1}))},close:function(){J.hide()},click:function(v){if(Q.closable){var u=0<b(v.target).closest(z.modal).length,x=b.contains(a.documentElement,v.target);!u&&x&&J.is.active()&&(J.debug("Dimmer clicked, hiding all modals"),J.remove.clickaway(),Q.allowMultiple?J.hide():J.hideAll())}else{J.verbose("Dimmer clicked but closable setting is disabled")}},debounce:function(v,u){clearTimeout(J.timer),J.timer=setTimeout(v,u)},keyboard:function(u){27==u.which&&(Q.closable?(J.debug("Escape key pressed hiding modal"),J.hide()):J.debug("Escape key pressed, but closable is set to false"),u.preventDefault())},resize:function(){G.dimmer("is active")&&(J.is.animating()||J.is.active())&&g(J.refresh)}},toggle:function(){J.is.active()||J.is.animating()?J.hide():J.show()},show:function(u){u=b.isFunction(u)?u:function(){},J.refreshModals(),J.set.dimmerSettings(),J.set.dimmerStyles(),J.showModal(u)},hide:function(u){u=b.isFunction(u)?u:function(){},J.refreshModals(),J.hideModal(u)},showModal:function(u){u=b.isFunction(u)?u:function(){},J.is.animating()||!J.is.active()?(J.showDimmer(),J.cacheSizes(),J.can.useFlex()?J.remove.legacy():(J.set.legacy(),J.set.modalOffset(),J.debug("Using non-flex legacy modal positioning.")),J.set.screenHeight(),J.set.type(),J.set.clickaway(),!Q.allowMultiple&&J.others.active()?J.hideOthers(J.showModal):(Q.allowMultiple&&Q.detachable&&L.detach().appendTo(S),Q.onShow.call(k),Q.transition&&b.fn.transition!==d&&L.transition("is supported")?(J.debug("Showing modal with css animations"),L.transition({debug:Q.debug,animation:Q.transition+" in",queue:Q.queue,duration:Q.duration,useFailSafe:!0,onComplete:function(){Q.onVisible.apply(k),Q.keyboardShortcuts&&J.add.keyboardShortcuts(),J.save.focus(),J.set.active(),Q.autofocus&&J.set.autofocus(),u()}})):J.error(I.noTransition))):J.debug("Modal is already visible")},hideModal:function(v,u){v=b.isFunction(v)?v:function(){},J.debug("Hiding modal"),!1!==Q.onHide.call(k,b(this))?(J.is.animating()||J.is.active())&&(Q.transition&&b.fn.transition!==d&&L.transition("is supported")?(J.remove.active(),L.transition({debug:Q.debug,animation:Q.transition+" out",queue:Q.queue,duration:Q.duration,useFailSafe:!0,onStart:function(){J.others.active()||u||J.hideDimmer(),Q.keyboardShortcuts&&J.remove.keyboardShortcuts()},onComplete:function(){Q.onHidden.call(k),J.remove.dimmerStyles(),J.restore.focus(),v()}})):J.error(I.noTransition)):J.verbose("Hide callback returned false cancelling hide")},showDimmer:function(){G.dimmer("is animating")||!G.dimmer("is active")?(J.debug("Showing dimmer"),G.dimmer("show")):J.debug("Dimmer already visible")},hideDimmer:function(){G.dimmer("is animating")||G.dimmer("is active")?(J.unbind.scrollLock(),G.dimmer("hide",function(){J.remove.clickaway(),J.remove.screenHeight()})):J.debug("Dimmer is not visible cannot hide")},hideAll:function(v){var u=H.filter("."+P.active+", ."+P.animating);v=b.isFunction(v)?v:function(){},0<u.length&&(J.debug("Hiding all visible modals"),J.hideDimmer(),u.modal("hide modal",v))},hideOthers:function(v){var u=K.filter("."+P.active+", ."+P.animating);v=b.isFunction(v)?v:function(){},0<u.length&&(J.debug("Hiding other modals",K),u.modal("hide modal",v,!0))},others:{active:function(){return 0<K.filter("."+P.active).length},animating:function(){return 0<K.filter("."+P.animating).length}},add:{keyboardShortcuts:function(){J.verbose("Adding keyboard shortcuts"),i.on("keyup"+M,J.event.keyboard)}},save:{focus:function(){0<b(a.activeElement).closest(L).length||(O=b(a.activeElement).blur())}},restore:{focus:function(){O&&0<O.length&&O.focus()}},remove:{active:function(){L.removeClass(P.active)},legacy:function(){L.removeClass(P.legacy)},clickaway:function(){S.off("click"+A)},dimmerStyles:function(){S.removeClass(P.inverted),G.removeClass(P.blurring)},bodyStyle:function(){""===h.attr("style")&&(J.verbose("Removing style attribute"),h.removeAttr("style"))},screenHeight:function(){J.debug("Removing page height"),h.css("height","")},keyboardShortcuts:function(){J.verbose("Removing keyboard shortcuts"),i.off("keyup"+M)},scrolling:function(){G.removeClass(P.scrolling),L.removeClass(P.scrolling)}},cacheSizes:function(){L.addClass(P.loading);var v=L.prop("scrollHeight"),u=L.outerWidth(),x=L.outerHeight();J.cache!==d&&0===x||(J.cache={pageHeight:b(a).outerHeight(),width:u,height:x+Q.offset,scrollHeight:v+Q.offset,contextHeight:"body"==Q.context?b(c).height():G.height()},J.cache.topOffset=-J.cache.height/2),L.removeClass(P.loading),J.debug("Caching modal and container sizes",J.cache)},can:{useFlex:function(){return"auto"==Q.useFlex?Q.detachable&&!J.is.ie():Q.useFlex},fit:function(){var y=J.cache.contextHeight,x=J.cache.contextHeight/2,T=J.cache.topOffset,v=J.cache.scrollHeight,C=J.cache.height,u=Q.padding;return C<v?x+T+v+u<y:C+2*u<y}},is:{active:function(){return L.hasClass(P.active)},ie:function(){return !c.ActiveXObject&&"ActiveXObject" in c||"ActiveXObject" in c},animating:function(){return L.transition("is supported")?L.transition("is animating"):L.is(":visible")},scrolling:function(){return G.hasClass(P.scrolling)},modernBrowser:function(){return !(c.ActiveXObject||"ActiveXObject" in c)}},set:{autofocus:function(){var v=L.find("[tabindex], :input").filter(":visible"),u=v.filter("[autofocus]"),x=0<u.length?u.first():v.first();0<x.length&&x.focus()},clickaway:function(){S.on("click"+A,J.event.click)},dimmerSettings:function(){if(b.fn.dimmer!==d){var v={debug:Q.debug,dimmerName:"modals",closable:"auto",useFlex:J.can.useFlex(),variation:!Q.centered&&"top aligned",duration:{show:Q.duration,hide:Q.duration}},u=b.extend(!0,v,Q.dimmerSettings);Q.inverted&&(u.variation=u.variation!==d?u.variation+" inverted":"inverted"),w.dimmer("setting",u)}else{J.error(I.dimmer)}},dimmerStyles:function(){Q.inverted?S.addClass(P.inverted):S.removeClass(P.inverted),Q.blurring?G.addClass(P.blurring):G.removeClass(P.blurring)},modalOffset:function(){var v=J.cache.width,u=J.cache.height;L.css({marginTop:Q.centered&&J.can.fit()?-u/2:0,marginLeft:-v/2}),J.verbose("Setting modal offset for legacy mode")},screenHeight:function(){J.can.fit()?h.css("height",""):(J.debug("Modal is taller than page content, resizing page height"),h.css("height",J.cache.height+2*Q.padding))},active:function(){L.addClass(P.active)},scrolling:function(){G.addClass(P.scrolling),L.addClass(P.scrolling),J.unbind.scrollLock()},legacy:function(){L.addClass(P.legacy)},type:function(){J.can.fit()?(J.verbose("Modal fits on screen"),J.others.active()||J.others.animating()||(J.remove.scrolling(),J.bind.scrollLock())):(J.verbose("Modal cannot fit on screen setting to scrolling"),J.set.scrolling())},undetached:function(){G.addClass(P.undetached)}},setting:function(v,u){if(J.debug("Changing setting",v,u),b.isPlainObject(v)){b.extend(!0,Q,v)}else{if(u===d){return Q[v]}b.isPlainObject(Q[v])?b.extend(!0,Q[v],u):Q[v]=u}},internal:function(v,u){if(b.isPlainObject(v)){b.extend(!0,J,v)}else{if(u===d){return J[v]}J[v]=u}},debug:function(){!Q.silent&&Q.debug&&(Q.performance?J.performance.log(arguments):(J.debug=Function.prototype.bind.call(console.info,console,Q.name+":"),J.debug.apply(console,arguments)))},verbose:function(){!Q.silent&&Q.verbose&&Q.debug&&(Q.performance?J.performance.log(arguments):(J.verbose=Function.prototype.bind.call(console.info,console,Q.name+":"),J.verbose.apply(console,arguments)))},error:function(){Q.silent||(J.error=Function.prototype.bind.call(console.error,console,Q.name+":"),J.error.apply(console,arguments))},performance:{log:function(v){var u,x;Q.performance&&(x=(u=(new Date).getTime())-(n||u),n=u,t.push({Name:v[0],Arguments:[].slice.call(v,1)||"",Element:k,"Execution Time":x})),clearTimeout(J.performance.timer),J.performance.timer=setTimeout(J.performance.display,500)},display:function(){var u=Q.name+":",v=0;n=!1,clearTimeout(J.performance.timer),b.each(t,function(y,x){v+=x["Execution Time"]}),u+=" "+v+"ms",m&&(u+=" '"+m+"'"),(console.group!==d||console.table!==d)&&0<t.length&&(console.groupCollapsed(u),console.table?console.table(t):b.each(t,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),t=[]}},invoke:function(x,C,v){var T,u,U,y=q;return C=C||f,v=k||v,"string"==typeof x&&y!==d&&(x=x.split(/[\. ]/),T=x.length-1,b.each(x,function(W,V){var X=W!=T?V+x[W+1].charAt(0).toUpperCase()+x[W+1].slice(1):x;if(b.isPlainObject(y[X])&&W!=T){y=y[X]}else{if(y[X]!==d){return u=y[X],!1}if(!b.isPlainObject(y[V])||W==T){return y[V]!==d&&(u=y[V]),!1}y=y[V]}})),b.isFunction(u)?U=u.apply(v,C):u!==d&&(U=u),b.isArray(l)?l.push(U):l!==d?l=[l,U]:U!==d&&(l=U),u}},o?(q===d&&J.initialize(),J.invoke(s)):(q!==d&&q.invoke("destroy"),J.initialize())}),l!==d?l:this},b.fn.modal.settings={name:"Modal",namespace:"modal",useFlex:"auto",offset:0,silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,centered:!0,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:"body",queue:!1,duration:500,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return !0},onHidden:function(){},onApprove:function(){return !0},onDeny:function(){return !0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",inverted:"inverted",legacy:"legacy",loading:"loading",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(d,a,b,c){a=void 0!==a&&a.Math==Math?a:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),d.fn.nag=function(q){var n,o=d(this),j=o.selector||"",l=(new Date).getTime(),i=[],k=q,s="string"==typeof k,r=[].slice.call(arguments,1);return o.each(function(){var A,p=d.isPlainObject(q)?d.extend(!0,{},d.fn.nag.settings,q):d.extend({},d.fn.nag.settings),v=(p.className,p.selector),m=p.error,z=p.namespace,h="."+z,g=z+"-module",x=d(this),f=(x.find(v.close),p.context?d(p.context):d("body")),w=this,y=x.data(g);a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame;A={initialize:function(){A.verbose("Initializing element"),x.on("click"+h,v.close,A.dismiss).data(g,A),p.detachable&&x.parent()[0]!==f[0]&&x.detach().prependTo(f),0<p.displayTime&&setTimeout(A.hide,p.displayTime),A.show()},destroy:function(){A.verbose("Destroying instance"),x.removeData(g).off(h)},show:function(){A.should.show()&&!x.is(":visible")&&(A.debug("Showing nag",p.animation.show),"fade"==p.animation.show?x.fadeIn(p.duration,p.easing):x.slideDown(p.duration,p.easing))},hide:function(){A.debug("Showing nag",p.animation.hide),"fade"==p.animation.show?x.fadeIn(p.duration,p.easing):x.slideUp(p.duration,p.easing)},onHide:function(){A.debug("Removing nag",p.animation.hide),x.remove(),p.onHide&&p.onHide()},dismiss:function(t){p.storageMethod&&A.storage.set(p.key,p.value),A.hide(),t.stopImmediatePropagation(),t.preventDefault()},should:{show:function(){return p.persist?(A.debug("Persistent nag is set, can show nag"),!0):A.storage.get(p.key)!=p.value.toString()?(A.debug("Stored value is not set, can show nag",A.storage.get(p.key)),!0):(A.debug("Stored value is set, cannot show nag",A.storage.get(p.key)),!1)}},get:{storageOptions:function(){var t={};return p.expires&&(t.expires=p.expires),p.domain&&(t.domain=p.domain),p.path&&(t.path=p.path),t}},clear:function(){A.storage.remove(p.key)},storage:{set:function(B,u){var C=A.get.storageOptions();if("localstorage"==p.storageMethod&&a.localStorage!==c){a.localStorage.setItem(B,u),A.debug("Value stored using local storage",B,u)}else{if("sessionstorage"==p.storageMethod&&a.sessionStorage!==c){a.sessionStorage.setItem(B,u),A.debug("Value stored using session storage",B,u)}else{if(d.cookie===c){return void A.error(m.noCookieStorage)}d.cookie(B,u,C),A.debug("Value stored using cookie",B,u,C)}}},get:function(B,u){var C;return"localstorage"==p.storageMethod&&a.localStorage!==c?C=a.localStorage.getItem(B):"sessionstorage"==p.storageMethod&&a.sessionStorage!==c?C=a.sessionStorage.getItem(B):d.cookie!==c?C=d.cookie(B):A.error(m.noCookieStorage),"undefined"!=C&&"null"!=C&&C!==c&&null!==C||(C=c),C},remove:function(B){var u=A.get.storageOptions();"localstorage"==p.storageMethod&&a.localStorage!==c?a.localStorage.removeItem(B):"sessionstorage"==p.storageMethod&&a.sessionStorage!==c?a.sessionStorage.removeItem(B):d.cookie!==c?d.removeCookie(B,u):A.error(m.noStorage)}},setting:function(B,u){if(A.debug("Changing setting",B,u),d.isPlainObject(B)){d.extend(!0,p,B)}else{if(u===c){return p[B]}d.isPlainObject(p[B])?d.extend(!0,p[B],u):p[B]=u}},internal:function(B,u){if(d.isPlainObject(B)){d.extend(!0,A,B)}else{if(u===c){return A[B]}A[B]=u}},debug:function(){!p.silent&&p.debug&&(p.performance?A.performance.log(arguments):(A.debug=Function.prototype.bind.call(console.info,console,p.name+":"),A.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?A.performance.log(arguments):(A.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),A.verbose.apply(console,arguments)))},error:function(){p.silent||(A.error=Function.prototype.bind.call(console.error,console,p.name+":"),A.error.apply(console,arguments))},performance:{log:function(B){var u,C;p.performance&&(C=(u=(new Date).getTime())-(l||u),l=u,i.push({Name:B[0],Arguments:[].slice.call(B,1)||"",Element:w,"Execution Time":C})),clearTimeout(A.performance.timer),A.performance.timer=setTimeout(A.performance.display,500)},display:function(){var t=p.name+":",u=0;l=!1,clearTimeout(A.performance.timer),d.each(i,function(C,B){u+=B["Execution Time"]}),t+=" "+u+"ms",j&&(t+=" '"+j+"'"),(console.group!==c||console.table!==c)&&0<i.length&&(console.groupCollapsed(t),console.table?console.table(i):d.each(i,function(C,B){console.log(B.Name+": "+B["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(C,E,B){var F,u,G,D=y;return E=E||r,B=w||B,"string"==typeof C&&D!==c&&(C=C.split(/[\. ]/),F=C.length-1,d.each(C,function(I,H){var J=I!=F?H+C[I+1].charAt(0).toUpperCase()+C[I+1].slice(1):C;if(d.isPlainObject(D[J])&&I!=F){D=D[J]}else{if(D[J]!==c){return u=D[J],!1}if(!d.isPlainObject(D[H])||I==F){return D[H]!==c?u=D[H]:A.error(m.method,C),!1}D=D[H]}})),d.isFunction(u)?G=u.apply(B,E):u!==c&&(G=u),d.isArray(n)?n.push(G):n!==c?n=[n,G]:G!==c&&(n=G),u}},s?(y===c&&A.initialize(),A.invoke(k)):(y!==c&&y.invoke("destroy"),A.initialize())}),n!==c?n:this},d.fn.nag.settings={name:"Nag",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}},d.extend(d.easing,{easeOutQuad:function(h,g,k,f,j){return -f*(g/=j)*(g-2)+k}})}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.popup=function(l){var i,r=c(this),h=c(d),n=c(b),o=c("body"),t=r.selector||"",s=(new Date).getTime(),p=[],f=l,g="string"==typeof f,m=[].slice.call(arguments,1);return r.each(function(){var B,T,Q,D,J,R,P=c.isPlainObject(l)?c.extend(!0,{},c.fn.popup.settings,l):c.extend({},c.fn.popup.settings),I=P.selector,K=P.className,O=P.error,H=P.metadata,M=P.namespace,V="."+P.namespace,G="module-"+M,N=c(this),E=c(P.context),L=c(P.scrollContext),A=c(P.boundary),U=P.target?c(P.target):N,k=0,q=!1,F=!1,z=this,j=N.data(G);R={initialize:function(){R.debug("Initializing",N),R.createID(),R.bind.events(),!R.exists()&&P.preserve&&R.create(),P.observeChanges&&R.observeChanges(),R.instantiate()},instantiate:function(){R.verbose("Storing instance",R),j=R,N.data(G,j)},observeChanges:function(){"MutationObserver" in b&&((Q=new MutationObserver(R.event.documentChanged)).observe(d,{childList:!0,subtree:!0}),R.debug("Setting up mutation observer",Q))},refresh:function(){P.popup?B=c(P.popup).eq(0):P.inline&&(B=U.nextAll(I.popup).eq(0),P.popup=B),P.popup?(B.addClass(K.loading),T=R.get.offsetParent(),B.removeClass(K.loading),P.movePopup&&R.has.popup()&&R.get.offsetParent(B)[0]!==T[0]&&(R.debug("Moving popup to the same offset parent as target"),B.detach().appendTo(T))):T=P.inline?R.get.offsetParent(U):R.has.popup()?R.get.offsetParent(B):o,T.is("html")&&T[0]!==o[0]&&(R.debug("Setting page as offset parent"),T=o),R.get.variation()&&R.set.variation()},reposition:function(){R.refresh(),R.set.position()},destroy:function(){R.debug("Destroying previous module"),Q&&Q.disconnect(),B&&!P.preserve&&R.removePopup(),clearTimeout(R.hideTimer),clearTimeout(R.showTimer),R.unbind.close(),R.unbind.events(),N.removeData(G)},event:{start:function(v){var u=c.isPlainObject(P.delay)?P.delay.show:P.delay;clearTimeout(R.hideTimer),F||(R.showTimer=setTimeout(R.show,u))},end:function(){var u=c.isPlainObject(P.delay)?P.delay.hide:P.delay;clearTimeout(R.showTimer),R.hideTimer=setTimeout(R.hide,u)},touchstart:function(u){F=!0,R.show()},resize:function(){R.is.visible()&&R.set.position()},documentChanged:function(u){[].forEach.call(u,function(v){v.removedNodes&&[].forEach.call(v.removedNodes,function(w){(w==z||0<c(w).find(z).length)&&(R.debug("Element removed from DOM, tearing down events"),R.destroy())})})},hideGracefully:function(w){var v=c(w.target),x=c.contains(d.documentElement,w.target),u=0<v.closest(I.popup).length;w&&!u&&x?(R.debug("Click occurred outside popup hiding popup"),R.hide()):R.debug("Click was inside popup, keeping popup open")}},create:function(){var v=R.get.html(),u=R.get.title(),w=R.get.content();v||w||u?(R.debug("Creating pop-up html"),v||(v=P.templates.popup({title:u,content:w})),B=c("<div/>").addClass(K.popup).data(H.activator,N).html(v),P.inline?(R.verbose("Inserting popup element inline",B),B.insertAfter(N)):(R.verbose("Appending popup element to body",B),B.appendTo(E)),R.refresh(),R.set.variation(),P.hoverable&&R.bind.popup(),P.onCreate.call(B,z)):0!==U.next(I.popup).length?(R.verbose("Pre-existing popup found"),P.inline=!0,P.popup=U.next(I.popup).data(H.activator,N),R.refresh(),P.hoverable&&R.bind.popup()):P.popup?(c(P.popup).data(H.activator,N),R.verbose("Used popup specified in settings"),R.refresh(),P.hoverable&&R.bind.popup()):R.debug("No content specified skipping display",z)},createID:function(){J=(Math.random().toString(16)+"000000000").substr(2,8),D="."+J,R.verbose("Creating unique id for element",J)},toggle:function(){R.debug("Toggling pop-up"),R.is.hidden()?(R.debug("Popup is hidden, showing pop-up"),R.unbind.close(),R.show()):(R.debug("Popup is visible, hiding pop-up"),R.hide())},show:function(u){if(u=u||function(){},R.debug("Showing pop-up",P.transition),R.is.hidden()&&(!R.is.active()||!R.is.dropdown())){if(R.exists()||R.create(),!1===P.onShow.call(B,z)){return void R.debug("onShow callback returned false, cancelling popup animation")}P.preserve||P.popup||R.refresh(),B&&R.set.position()&&(R.save.conditions(),P.exclusive&&R.hideAll(),R.animate.show(u))}},hide:function(u){if(u=u||function(){},R.is.visible()||R.is.animating()){if(!1===P.onHide.call(B,z)){return void R.debug("onHide callback returned false, cancelling popup animation")}R.remove.visible(),R.unbind.close(),R.restore.conditions(),R.animate.hide(u)}},hideAll:function(){c(I.popup).filter("."+K.popupVisible).each(function(){c(this).data(H.activator).popup("hide")})},exists:function(){return !!B&&(P.inline||P.popup?R.has.popup():1<=B.closest(E).length)},removePopup:function(){R.has.popup()&&!P.popup&&(R.debug("Removing popup",B),B.remove(),B=a,P.onRemove.call(B,z))},save:{conditions:function(){R.cache={title:N.attr("title")},R.cache.title&&N.removeAttr("title"),R.verbose("Saving original attributes",R.cache.title)}},restore:{conditions:function(){return R.cache&&R.cache.title&&(N.attr("title",R.cache.title),R.verbose("Restoring original attributes",R.cache.title)),!0}},supports:{svg:function(){return"undefined"==typeof SVGGraphicsElement}},animate:{show:function(u){u=c.isFunction(u)?u:function(){},P.transition&&c.fn.transition!==a&&N.transition("is supported")?(R.set.visible(),B.transition({animation:P.transition+" in",queue:!1,debug:P.debug,verbose:P.verbose,duration:P.duration,onComplete:function(){R.bind.close(),u.call(B,z),P.onVisible.call(B,z)}})):R.error(O.noTransition)},hide:function(u){u=c.isFunction(u)?u:function(){},R.debug("Hiding pop-up"),!1!==P.onHide.call(B,z)?P.transition&&c.fn.transition!==a&&N.transition("is supported")?B.transition({animation:P.transition+" out",queue:!1,duration:P.duration,debug:P.debug,verbose:P.verbose,onComplete:function(){R.reset(),u.call(B,z),P.onHidden.call(B,z)}}):R.error(O.noTransition):R.debug("onHide callback returned false, cancelling popup animation")}},change:{content:function(u){B.html(u)}},get:{html:function(){return N.removeData(H.html),N.data(H.html)||P.html},title:function(){return N.removeData(H.title),N.data(H.title)||P.title},content:function(){return N.removeData(H.content),N.data(H.content)||P.content||N.attr("title")},variation:function(){return N.removeData(H.variation),N.data(H.variation)||P.variation},popup:function(){return B},popupOffset:function(){return B.offset()},calculations:function(){var C,W=R.get.offsetParent(B),w=U[0],y=A[0]==b,v=P.inline||P.popup&&P.movePopup?U.position():U.offset(),S=y?{top:0,left:0}:A.offset(),u={},X=y?{top:n.scrollTop(),left:n.scrollLeft()}:{top:0,left:0};if(u={target:{element:U[0],width:U.outerWidth(),height:U.outerHeight(),top:v.top,left:v.left,margin:{}},popup:{width:B.outerWidth(),height:B.outerHeight()},parent:{width:T.outerWidth(),height:T.outerHeight()},screen:{top:S.top,left:S.left,scroll:{top:X.top,left:X.left},width:A.width(),height:A.height()}},W.get(0)!==T.get(0)){var x=W.offset();u.target.top-=x.top,u.target.left-=x.left,u.parent.width=W.outerWidth(),u.parent.height=W.outerHeight()}return P.setFluidWidth&&R.is.fluid()&&(u.container={width:B.parent().outerWidth()},u.popup.width=u.container.width),u.target.margin.top=P.inline?parseInt(b.getComputedStyle(w).getPropertyValue("margin-top"),10):0,u.target.margin.left=P.inline?R.is.rtl()?parseInt(b.getComputedStyle(w).getPropertyValue("margin-right"),10):parseInt(b.getComputedStyle(w).getPropertyValue("margin-left"),10):0,C=u.screen,u.boundary={top:C.top+C.scroll.top,bottom:C.top+C.scroll.top+C.height,left:C.left+C.scroll.left,right:C.left+C.scroll.left+C.width},u},id:function(){return J},startEvent:function(){return"hover"==P.on?"mouseenter":"focus"==P.on&&"focus"},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==P.on?"mouseleave":"focus"==P.on&&"blur"},distanceFromBoundary:function(w,v){var y,u,x={};return y=(v=v||R.get.calculations()).popup,u=v.boundary,w&&(x={top:w.top-u.top,left:w.left-u.left,right:u.right-(w.left+y.width),bottom:u.bottom-(w.top+y.height)},R.verbose("Distance from boundaries determined",w,x)),x},offsetParent:function(x){var w=(x!==a?x[0]:U[0]).parentNode,C=c(w);if(w){for(var v="none"===C.css("transform"),y="static"===C.css("position"),u=C.is("body");w&&!u&&y&&v;){w=w.parentNode,v="none"===(C=c(w)).css("transform"),y="static"===C.css("position"),u=C.is("body")}}return C&&0<C.length?C:c()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(C){var w=C.split(" "),W=w[0],v=w[1],S="top"==W||"bottom"==W,u=!1,y=!1,x=!1;return q||(R.verbose("All available positions available"),q=R.get.positions()),R.debug("Recording last position tried",C),q[C]=!0,"opposite"===P.prefer&&(x=(x=[{top:"bottom",bottom:"top",left:"right",right:"left"}[W],v]).join(" "),u=!0===q[x],R.debug("Trying opposite strategy",x)),"adjacent"===P.prefer&&S&&(x=(x=[W,{left:"center",center:"right",right:"left"}[v]]).join(" "),y=!0===q[x],R.debug("Trying adjacent strategy",x)),(y||u)&&(R.debug("Using backup position",x),x={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"}[C]),x}},set:{position:function(C,X){if(0!==U.length&&0!==B.length){var w,y,v,W,u,Y,x,S;if(X=X||R.get.calculations(),C=C||N.data(H.position)||P.position,w=N.data(H.offset)||P.offset,y=P.distanceAway,v=X.target,W=X.popup,u=X.parent,R.should.centerArrow(X)&&(R.verbose("Adjusting offset to center arrow on small target element"),"top left"!=C&&"bottom left"!=C||(w+=v.width/2,w-=P.arrowPixelsFromEdge),"top right"!=C&&"bottom right"!=C||(w-=v.width/2,w+=P.arrowPixelsFromEdge)),0===v.width&&0===v.height&&!R.is.svg(v.element)){return R.debug("Popup target is hidden, no action taken"),!1}switch(P.inline&&(R.debug("Adding margin to calculation",v.margin),"left center"==C||"right center"==C?(w+=v.margin.top,y+=-v.margin.left):"top left"==C||"top center"==C||"top right"==C?(w+=v.margin.left,y-=v.margin.top):(w+=v.margin.left,y+=v.margin.top)),R.debug("Determining popup position from calculations",C,X),R.is.rtl()&&(C=C.replace(/left|right/g,function(Z){return"left"==Z?"right":"left"}),R.debug("RTL: Popup position updated",C)),k==P.maxSearchDepth&&"string"==typeof P.lastResort&&(C=P.lastResort),C){case"top left":Y={top:"auto",bottom:u.height-v.top+y,left:v.left+w,right:"auto"};break;case"top center":Y={bottom:u.height-v.top+y,left:v.left+v.width/2-W.width/2+w,top:"auto",right:"auto"};break;case"top right":Y={bottom:u.height-v.top+y,right:u.width-v.left-v.width-w,top:"auto",left:"auto"};break;case"left center":Y={top:v.top+v.height/2-W.height/2+w,right:u.width-v.left+y,left:"auto",bottom:"auto"};break;case"right center":Y={top:v.top+v.height/2-W.height/2+w,left:v.left+v.width+y,bottom:"auto",right:"auto"};break;case"bottom left":Y={top:v.top+v.height+y,left:v.left+w,bottom:"auto",right:"auto"};break;case"bottom center":Y={top:v.top+v.height+y,left:v.left+v.width/2-W.width/2+w,bottom:"auto",right:"auto"};break;case"bottom right":Y={top:v.top+v.height+y,right:u.width-v.left-v.width-w,left:"auto",bottom:"auto"}}if(Y===a&&R.error(O.invalidPosition,C),R.debug("Calculated popup positioning values",Y),B.css(Y).removeClass(K.position).addClass(C).addClass(K.loading),x=R.get.popupOffset(),S=R.get.distanceFromBoundary(x,X),R.is.offstage(S,C)){if(R.debug("Position is outside viewport",C),k<P.maxSearchDepth){return k++,C=R.get.nextPosition(C),R.debug("Trying new position",C),!!B&&R.set.position(C,X)}if(!P.lastResort){return R.debug("Popup could not find a position to display",B),R.error(O.cannotPlace,z),R.remove.attempts(),R.remove.loading(),R.reset(),P.onUnplaceable.call(B,z),!1}R.debug("No position found, showing with last position")}return R.debug("Position is on stage",C),R.remove.attempts(),R.remove.loading(),P.setFluidWidth&&R.is.fluid()&&R.set.fluidWidth(X),!0}R.error(O.notFound)},fluidWidth:function(u){u=u||R.get.calculations(),R.debug("Automatically setting element width to parent width",u.parent.width),B.css("width",u.container.width)},variation:function(u){(u=u||R.get.variation())&&R.has.popup()&&(R.verbose("Adding variation to popup",u),B.addClass(u))},visible:function(){N.addClass(K.visible)}},remove:{loading:function(){B.removeClass(K.loading)},variation:function(u){(u=u||R.get.variation())&&(R.verbose("Removing variation",u),B.removeClass(u))},visible:function(){N.removeClass(K.visible)},attempts:function(){R.verbose("Resetting all searched positions"),k=0,q=!1}},bind:{events:function(){R.debug("Binding popup events to module"),"click"==P.on&&N.on("click"+V,R.toggle),"hover"==P.on&&N.on("touchstart"+V,R.event.touchstart),R.get.startEvent()&&N.on(R.get.startEvent()+V,R.event.start).on(R.get.endEvent()+V,R.event.end),P.target&&R.debug("Target set to element",U),n.on("resize"+D,R.event.resize)},popup:function(){R.verbose("Allowing hover events on popup to prevent closing"),B&&R.has.popup()&&B.on("mouseenter"+V,R.event.start).on("mouseleave"+V,R.event.end)},close:function(){(!0===P.hideOnScroll||"auto"==P.hideOnScroll&&"click"!=P.on)&&R.bind.closeOnScroll(),R.is.closable()?R.bind.clickaway():"hover"==P.on&&F&&R.bind.touchClose()},closeOnScroll:function(){R.verbose("Binding scroll close event to document"),L.one(R.get.scrollEvent()+D,R.event.hideGracefully)},touchClose:function(){R.verbose("Binding popup touchclose event to document"),h.on("touchstart"+D,function(u){R.verbose("Touched away from popup"),R.event.hideGracefully.call(z,u)})},clickaway:function(){R.verbose("Binding popup close event to document"),h.on("click"+D,function(u){R.verbose("Clicked away from popup"),R.event.hideGracefully.call(z,u)})}},unbind:{events:function(){n.off(D),N.off(V)},close:function(){h.off(D),L.off(D)}},has:{popup:function(){return B&&0<B.length}},should:{centerArrow:function(u){return !R.is.basic()&&u.target.width<=2*P.arrowPixelsFromEdge}},is:{closable:function(){return"auto"==P.closable?"hover"!=P.on:P.closable},offstage:function(v,w){var u=[];return c.each(v,function(y,x){x<-P.jitter&&(R.debug("Position exceeds allowable distance from edge",y,x,w),u.push(y))}),0<u.length},svg:function(u){return R.supports.svg()&&u instanceof SVGGraphicsElement},basic:function(){return N.hasClass(K.basic)},active:function(){return N.hasClass(K.active)},animating:function(){return B!==a&&B.hasClass(K.animating)},fluid:function(){return B!==a&&B.hasClass(K.fluid)},visible:function(){return B!==a&&B.hasClass(K.popupVisible)},dropdown:function(){return N.hasClass(K.dropdown)},hidden:function(){return !R.is.visible()},rtl:function(){return"rtl"==N.css("direction")}},reset:function(){R.remove.visible(),P.preserve?c.fn.transition!==a&&B.transition("remove transition"):R.removePopup()},setting:function(v,u){if(c.isPlainObject(v)){c.extend(!0,P,v)}else{if(u===a){return P[v]}P[v]=u}},internal:function(v,u){if(c.isPlainObject(v)){c.extend(!0,R,v)}else{if(u===a){return R[v]}R[v]=u}},debug:function(){!P.silent&&P.debug&&(P.performance?R.performance.log(arguments):(R.debug=Function.prototype.bind.call(console.info,console,P.name+":"),R.debug.apply(console,arguments)))},verbose:function(){!P.silent&&P.verbose&&P.debug&&(P.performance?R.performance.log(arguments):(R.verbose=Function.prototype.bind.call(console.info,console,P.name+":"),R.verbose.apply(console,arguments)))},error:function(){P.silent||(R.error=Function.prototype.bind.call(console.error,console,P.name+":"),R.error.apply(console,arguments))},performance:{log:function(v){var u,w;P.performance&&(w=(u=(new Date).getTime())-(s||u),s=u,p.push({Name:v[0],Arguments:[].slice.call(v,1)||"",Element:z,"Execution Time":w})),clearTimeout(R.performance.timer),R.performance.timer=setTimeout(R.performance.display,500)},display:function(){var u=P.name+":",v=0;s=!1,clearTimeout(R.performance.timer),c.each(p,function(x,w){v+=w["Execution Time"]}),u+=" "+v+"ms",t&&(u+=" '"+t+"'"),(console.group!==a||console.table!==a)&&0<p.length&&(console.groupCollapsed(u),console.table?console.table(p):c.each(p,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),p=[]}},invoke:function(w,y,v){var C,u,S,x=j;return y=y||m,v=z||v,"string"==typeof w&&x!==a&&(w=w.split(/[\. ]/),C=w.length-1,c.each(w,function(X,W){var Y=X!=C?W+w[X+1].charAt(0).toUpperCase()+w[X+1].slice(1):w;if(c.isPlainObject(x[Y])&&X!=C){x=x[Y]}else{if(x[Y]!==a){return u=x[Y],!1}if(!c.isPlainObject(x[W])||X==C){return x[W]!==a&&(u=x[W]),!1}x=x[W]}})),c.isFunction(u)?S=u.apply(v,y):u!==a&&(S=u),c.isArray(i)?i.push(S):i!==a?i=[i,S]:S!==a&&(i=S),u}},g?(j===a&&R.initialize(),R.invoke(f)):(j!==a&&j.invoke("destroy"),R.initialize())}),i!==a?i:this},c.fn.popup.settings={name:"Popup",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"popup",observeChanges:!0,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",boundary:b,addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",scrollContext:b,prefer:"opposite",lastResort:!1,arrowPixelsFromEdge:20,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",basic:"basic",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible",popupVisible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(g){var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(g)?g.replace(/[&<>"'`]/g,function(h){return f[h]}):g},popup:function(g){var f="",h=c.fn.popup.settings.templates.escape;return typeof g!==a&&(typeof g.title!==a&&g.title&&(g.title=h(g.title),f+='<div class="header">'+g.title+"</div>"),typeof g.content!==a&&g.content&&(g.content=h(g.content),f+='<div class="content">'+g.content+"</div>")),f}}}}(jQuery,window,document),function(b,d,c,a){void 0!==(d=void 0!==d&&d.Math==Math?d:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")())&&d.Math==Math||("undefined"!=typeof self&&self.Math==Math?self:Function("return this")());b.fn.progress=function(i){var o,j=b(this),l=j.selector||"",k=(new Date).getTime(),m=[],f=i,n="string"==typeof f,g=[].slice.call(arguments,1);return j.each(function(){var I,z=b.isPlainObject(i)?b.extend(!0,{},b.fn.progress.settings,i):b.extend({},b.fn.progress.settings),H=z.className,w=z.metadata,C=z.namespace,v=z.selector,y=z.error,F="."+C,h="module-"+C,E=b(this),G=b(this).find(v.bar),D=b(this).find(v.progress),B=b(this).find(v.label),x=this,A=E.data(h),q=!1;I={initialize:function(){I.debug("Initializing progress bar",z),I.set.duration(),I.set.transitionEvent(),I.read.metadata(),I.read.settings(),I.instantiate()},instantiate:function(){I.verbose("Storing instance of progress",I),A=I,E.data(h,I)},destroy:function(){I.verbose("Destroying previous progress for",E),clearInterval(A.interval),I.remove.state(),E.removeData(h),A=a},reset:function(){I.remove.nextValue(),I.update.progress(0)},complete:function(){(I.percent===a||I.percent<100)&&(I.remove.progressPoll(),I.set.percent(100))},read:{metadata:function(){var p={percent:E.data(w.percent),total:E.data(w.total),value:E.data(w.value)};p.percent&&(I.debug("Current percent value set from metadata",p.percent),I.set.percent(p.percent)),p.total&&(I.debug("Total value set from metadata",p.total),I.set.total(p.total)),p.value&&(I.debug("Current value set from metadata",p.value),I.set.value(p.value),I.set.progress(p.value))},settings:function(){!1!==z.total&&(I.debug("Current total set in settings",z.total),I.set.total(z.total)),!1!==z.value&&(I.debug("Current value set in settings",z.value),I.set.value(z.value),I.set.progress(I.value)),!1!==z.percent&&(I.debug("Current percent set in settings",z.percent),I.set.percent(z.percent))}},bind:{transitionEnd:function(p){var r=I.get.transitionEnd();G.one(r+F,function(s){clearTimeout(I.failSafeTimer),p.call(this,s)}),I.failSafeTimer=setTimeout(function(){G.triggerHandler(r)},z.duration+z.failSafeDelay),I.verbose("Adding fail safe timer",I.timer)}},increment:function(r){var p,s;I.has.total()?s=(p=I.get.value())+(r=r||1):(s=(p=I.get.percent())+(r=r||I.get.randomValue()),100,I.debug("Incrementing percentage by",p,s)),s=I.get.normalizedValue(s),I.set.progress(s)},decrement:function(r){var p,s;I.get.total()?(s=(p=I.get.value())-(r=r||1),I.debug("Decrementing value by",r,p)):(s=(p=I.get.percent())-(r=r||I.get.randomValue()),I.debug("Decrementing percentage by",r,p)),s=I.get.normalizedValue(s),I.set.progress(s)},has:{progressPoll:function(){return I.progressPoll},total:function(){return !1!==I.get.total()}},get:{text:function(s){var r=I.value||0,J=I.total||0,p=q?I.get.displayPercent():I.percent||0,u=0<I.total?J-r:100-p;return s=(s=s||"").replace("{value}",r).replace("{total}",J).replace("{left}",u).replace("{percent}",p),I.verbose("Adding variables to progress bar text",s),s},normalizedValue:function(p){if(p<0){return I.debug("Value cannot decrement below 0"),0}if(I.has.total()){if(p>I.total){return I.debug("Value cannot increment above total",I.total),I.total}}else{if(100<p){return I.debug("Value cannot increment above 100 percent"),100}}return p},updateInterval:function(){return"auto"==z.updateInterval?z.duration:z.updateInterval},randomValue:function(){return I.debug("Generating random increment percentage"),Math.floor(Math.random()*z.random.max+z.random.min)},numericValue:function(p){return"string"==typeof p?""!==p.replace(/[^\d.]/g,"")&&+p.replace(/[^\d.]/g,""):p},transitionEnd:function(){var r,p=c.createElement("element"),s={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(r in s){if(p.style[r]!==a){return s[r]}}},displayPercent:function(){var r=G.width(),p=E.width(),s=parseInt(G.css("min-width"),10)<r?r/p*100:I.percent;return 0<z.precision?Math.round(s*(10*z.precision))/(10*z.precision):Math.round(s)},percent:function(){return I.percent||0},value:function(){return I.nextValue||I.value||0},total:function(){return I.total||!1}},create:{progressPoll:function(){I.progressPoll=setTimeout(function(){I.update.toNextValue(),I.remove.progressPoll()},I.get.updateInterval())}},is:{complete:function(){return I.is.success()||I.is.warning()||I.is.error()},success:function(){return E.hasClass(H.success)},warning:function(){return E.hasClass(H.warning)},error:function(){return E.hasClass(H.error)},active:function(){return E.hasClass(H.active)},visible:function(){return E.is(":visible")}},remove:{progressPoll:function(){I.verbose("Removing progress poll timer"),I.progressPoll&&(clearTimeout(I.progressPoll),delete I.progressPoll)},nextValue:function(){I.verbose("Removing progress value stored for next update"),delete I.nextValue},state:function(){I.verbose("Removing stored state"),delete I.total,delete I.percent,delete I.value},active:function(){I.verbose("Removing active state"),E.removeClass(H.active)},success:function(){I.verbose("Removing success state"),E.removeClass(H.success)},warning:function(){I.verbose("Removing warning state"),E.removeClass(H.warning)},error:function(){I.verbose("Removing error state"),E.removeClass(H.error)}},set:{barWidth:function(p){100<p?I.error(y.tooHigh,p):p<0?I.error(y.tooLow,p):(G.css("width",p+"%"),E.attr("data-percent",parseInt(p,10)))},duration:function(p){p="number"==typeof(p=p||z.duration)?p+"ms":p,I.verbose("Setting progress bar transition duration",p),G.css({"transition-duration":p})},percent:function(p){p="string"==typeof p?+p.replace("%",""):p,p=0<z.precision?Math.round(p*(10*z.precision))/(10*z.precision):Math.round(p),I.percent=p,I.has.total()||(I.value=0<z.precision?Math.round(p/100*I.total*(10*z.precision))/(10*z.precision):Math.round(p/100*I.total*10)/10,z.limitValues&&(I.value=100<I.value?100:I.value<0?0:I.value)),I.set.barWidth(p),I.set.labelInterval(),I.set.labels(),z.onChange.call(x,p,I.value,I.total)},labelInterval:function(){clearInterval(I.interval),I.bind.transitionEnd(function(){I.verbose("Bar finished animating, removing continuous label updates"),clearInterval(I.interval),q=!1,I.set.labels()}),q=!0,I.interval=setInterval(function(){b.contains(c.documentElement,x)||(clearInterval(I.interval),q=!1),I.set.labels()},z.framerate)},labels:function(){I.verbose("Setting both bar progress and outer label text"),I.set.barLabel(),I.set.state()},label:function(p){(p=p||"")&&(p=I.get.text(p),I.verbose("Setting label to text",p),B.text(p))},state:function(p){100===(p=p!==a?p:I.percent)?z.autoSuccess&&!(I.is.warning()||I.is.error()||I.is.success())?(I.set.success(),I.debug("Automatically triggering success at 100%")):(I.verbose("Reached 100% removing active state"),I.remove.active(),I.remove.progressPoll()):0<p?(I.verbose("Adjusting active progress bar label",p),I.set.active()):(I.remove.active(),I.set.label(z.text.active))},barLabel:function(p){p!==a?D.text(I.get.text(p)):"ratio"==z.label&&I.total?(I.verbose("Adding ratio to bar label"),D.text(I.get.text(z.text.ratio))):"percent"==z.label&&(I.verbose("Adding percentage to bar label"),D.text(I.get.text(z.text.percent)))},active:function(p){p=p||z.text.active,I.debug("Setting active state"),z.showActivity&&!I.is.active()&&E.addClass(H.active),I.remove.warning(),I.remove.error(),I.remove.success(),(p=z.onLabelUpdate("active",p,I.value,I.total))&&I.set.label(p),I.bind.transitionEnd(function(){z.onActive.call(x,I.value,I.total)})},success:function(p){p=p||z.text.success||z.text.active,I.debug("Setting success state"),E.addClass(H.success),I.remove.active(),I.remove.warning(),I.remove.error(),I.complete(),p=z.text.success?z.onLabelUpdate("success",p,I.value,I.total):z.onLabelUpdate("active",p,I.value,I.total),I.set.label(p),I.bind.transitionEnd(function(){z.onSuccess.call(x,I.total)})},warning:function(p){p=p||z.text.warning,I.debug("Setting warning state"),E.addClass(H.warning),I.remove.active(),I.remove.success(),I.remove.error(),I.complete(),(p=z.onLabelUpdate("warning",p,I.value,I.total))&&I.set.label(p),I.bind.transitionEnd(function(){z.onWarning.call(x,I.value,I.total)})},error:function(p){p=p||z.text.error,I.debug("Setting error state"),E.addClass(H.error),I.remove.active(),I.remove.success(),I.remove.warning(),I.complete(),(p=z.onLabelUpdate("error",p,I.value,I.total))&&I.set.label(p),I.bind.transitionEnd(function(){z.onError.call(x,I.value,I.total)})},transitionEvent:function(){I.get.transitionEnd()},total:function(p){I.total=p},value:function(p){I.value=p},progress:function(p){I.has.progressPoll()?(I.debug("Updated within interval, setting next update to use new value",p),I.set.nextValue(p)):(I.debug("First update in progress update interval, immediately updating",p),I.update.progress(p),I.create.progressPoll())},nextValue:function(p){I.nextValue=p}},update:{toNextValue:function(){var p=I.nextValue;p&&(I.debug("Update interval complete using last updated value",p),I.update.progress(p),I.remove.nextValue())},progress:function(r){var p;!1===(r=I.get.numericValue(r))&&I.error(y.nonNumeric,r),r=I.get.normalizedValue(r),I.has.total()?(I.set.value(r),p=r/I.total*100,I.debug("Calculating percent complete from total",p)):(p=r,I.debug("Setting value to exact percentage value",p)),I.set.percent(p)}},setting:function(r,p){if(I.debug("Changing setting",r,p),b.isPlainObject(r)){b.extend(!0,z,r)}else{if(p===a){return z[r]}b.isPlainObject(z[r])?b.extend(!0,z[r],p):z[r]=p}},internal:function(r,p){if(b.isPlainObject(r)){b.extend(!0,I,r)}else{if(p===a){return I[r]}I[r]=p}},debug:function(){!z.silent&&z.debug&&(z.performance?I.performance.log(arguments):(I.debug=Function.prototype.bind.call(console.info,console,z.name+":"),I.debug.apply(console,arguments)))},verbose:function(){!z.silent&&z.verbose&&z.debug&&(z.performance?I.performance.log(arguments):(I.verbose=Function.prototype.bind.call(console.info,console,z.name+":"),I.verbose.apply(console,arguments)))},error:function(){z.silent||(I.error=Function.prototype.bind.call(console.error,console,z.name+":"),I.error.apply(console,arguments))},performance:{log:function(r){var p,s;z.performance&&(s=(p=(new Date).getTime())-(k||p),k=p,m.push({Name:r[0],Arguments:[].slice.call(r,1)||"",Element:x,"Execution Time":s})),clearTimeout(I.performance.timer),I.performance.timer=setTimeout(I.performance.display,500)},display:function(){var p=z.name+":",r=0;k=!1,clearTimeout(I.performance.timer),b.each(m,function(u,s){r+=s["Execution Time"]}),p+=" "+r+"ms",l&&(p+=" '"+l+"'"),(console.group!==a||console.table!==a)&&0<m.length&&(console.groupCollapsed(p),console.table?console.table(m):b.each(m,function(u,s){console.log(s.Name+": "+s["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(u,K,s){var L,p,M,J=A;return K=K||g,s=x||s,"string"==typeof u&&J!==a&&(u=u.split(/[\. ]/),L=u.length-1,b.each(u,function(N,r){var O=N!=L?r+u[N+1].charAt(0).toUpperCase()+u[N+1].slice(1):u;if(b.isPlainObject(J[O])&&N!=L){J=J[O]}else{if(J[O]!==a){return p=J[O],!1}if(!b.isPlainObject(J[r])||N==L){return J[r]!==a?p=J[r]:I.error(y.method,u),!1}J=J[r]}})),b.isFunction(p)?M=p.apply(s,K):p!==a&&(M=p),b.isArray(o)?o.push(M):o!==a?o=[o,M]:M!==a&&(o=M),p}},n?(A===a&&I.initialize(),I.invoke(f)):(A!==a&&A.invoke("destroy"),I.initialize())}),o!==a?o:this},b.fn.progress.settings={name:"Progress",namespace:"progress",silent:!1,debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,updateInterval:"auto",autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1000/30,percent:!1,total:!1,value:!1,failSafeDelay:100,onLabelUpdate:function(h,g,j,f){return g},onChange:function(g,f,h){},onSuccess:function(f){},onActive:function(g,f){},onError:function(g,f){},onWarning:function(g,f){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(a,d,c,b){d=void 0!==d&&d.Math==Math?d:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),a.fn.rating=function(i){var k,f=a(this),j=f.selector||"",q=(new Date).getTime(),n=[],l=i,o="string"==typeof l,e=[].slice.call(arguments,1);return f.each(function(){var x,v,h=a.isPlainObject(i)?a.extend(!0,{},a.fn.rating.settings,i):a.extend({},a.fn.rating.settings),C=h.namespace,A=h.className,m=h.metadata,g=h.selector,D=(h.error,"."+C),p="module-"+C,z=this,B=a(this).data(p),y=a(this),w=y.find(g.icon);v={initialize:function(){v.verbose("Initializing rating module",h),0===w.length&&v.setup.layout(),h.interactive?v.enable():v.disable(),v.set.initialLoad(),v.set.rating(v.get.initialRating()),v.remove.initialLoad(),v.instantiate()},instantiate:function(){v.verbose("Instantiating module",h),B=v,y.data(p,v)},destroy:function(){v.verbose("Destroying previous instance",B),v.remove.events(),y.removeData(p)},refresh:function(){w=y.find(g.icon)},setup:{layout:function(){var s=v.get.maxRating(),r=a.fn.rating.settings.templates.icon(s);v.debug("Generating icon html dynamically"),y.html(r),v.refresh()}},event:{mouseenter:function(){var r=a(this);r.nextAll().removeClass(A.selected),y.addClass(A.selected),r.addClass(A.selected).prevAll().addClass(A.selected)},mouseleave:function(){y.removeClass(A.selected),w.removeClass(A.selected)},click:function(){var s=a(this),r=v.get.rating(),u=w.index(s)+1;("auto"==h.clearable?1===w.length:h.clearable)&&r==u?v.clearRating():v.set.rating(u)}},clearRating:function(){v.debug("Clearing current rating"),v.set.rating(0)},bind:{events:function(){v.verbose("Binding events"),y.on("mouseenter"+D,g.icon,v.event.mouseenter).on("mouseleave"+D,g.icon,v.event.mouseleave).on("click"+D,g.icon,v.event.click)}},remove:{events:function(){v.verbose("Removing events"),y.off(D)},initialLoad:function(){x=!1}},enable:function(){v.debug("Setting rating to interactive mode"),v.bind.events(),y.removeClass(A.disabled)},disable:function(){v.debug("Setting rating to read-only mode"),v.remove.events(),y.addClass(A.disabled)},is:{initialLoad:function(){return x}},get:{initialRating:function(){return y.data(m.rating)!==b?(y.removeData(m.rating),y.data(m.rating)):h.initialRating},maxRating:function(){return y.data(m.maxRating)!==b?(y.removeData(m.maxRating),y.data(m.maxRating)):h.maxRating},rating:function(){var r=w.filter("."+A.active).length;return v.verbose("Current rating retrieved",r),r}},set:{rating:function(s){var r=0<=s-1?s-1:0,u=w.eq(r);y.removeClass(A.selected),w.removeClass(A.selected).removeClass(A.active),0<s&&(v.verbose("Setting current rating to",s),u.prevAll().addBack().addClass(A.active)),v.is.initialLoad()||h.onRate.call(z,s)},initialLoad:function(){x=!0}},setting:function(s,r){if(v.debug("Changing setting",s,r),a.isPlainObject(s)){a.extend(!0,h,s)}else{if(r===b){return h[s]}a.isPlainObject(h[s])?a.extend(!0,h[s],r):h[s]=r}},internal:function(s,r){if(a.isPlainObject(s)){a.extend(!0,v,s)}else{if(r===b){return v[s]}v[s]=r}},debug:function(){!h.silent&&h.debug&&(h.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,h.name+":"),v.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),v.verbose.apply(console,arguments)))},error:function(){h.silent||(v.error=Function.prototype.bind.call(console.error,console,h.name+":"),v.error.apply(console,arguments))},performance:{log:function(s){var r,u;h.performance&&(u=(r=(new Date).getTime())-(q||r),q=r,n.push({Name:s[0],Arguments:[].slice.call(s,1)||"",Element:z,"Execution Time":u})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var r=h.name+":",s=0;q=!1,clearTimeout(v.performance.timer),a.each(n,function(E,u){s+=u["Execution Time"]}),r+=" "+s+"ms",j&&(r+=" '"+j+"'"),1<f.length&&(r+=" ("+f.length+")"),(console.group!==b||console.table!==b)&&0<n.length&&(console.groupCollapsed(r),console.table?console.table(n):a.each(n,function(E,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),n=[]}},invoke:function(E,G,u){var H,s,I,F=B;return G=G||e,u=z||u,"string"==typeof E&&F!==b&&(E=E.split(/[\. ]/),H=E.length-1,a.each(E,function(J,r){var K=J!=H?r+E[J+1].charAt(0).toUpperCase()+E[J+1].slice(1):E;if(a.isPlainObject(F[K])&&J!=H){F=F[K]}else{if(F[K]!==b){return s=F[K],!1}if(!a.isPlainObject(F[r])||J==H){return F[r]!==b&&(s=F[r]),!1}F=F[r]}})),a.isFunction(s)?I=s.apply(u,G):s!==b&&(I=s),a.isArray(k)?k.push(I):k!==b?k=[k,I]:I!==b&&(k=I),s}},o?(B===b&&v.initialize(),v.invoke(l)):(B!==b&&B.invoke("destroy"),v.initialize())}),k!==b?k:this},a.fn.rating.settings={name:"Rating",namespace:"rating",slent:!1,debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",fireOnInit:!1,onRate:function(f){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(g){for(var f=1,h="";f<=g;){h+='<i class="icon"></i>',f++}return h}}}}(jQuery,window,document),function(b,a,d,c){a=void 0!==a&&a.Math==Math?a:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),b.fn.search=function(g){var e,o=b(this),j=o.selector||"",i=(new Date).getTime(),h=[],f=g,m="string"==typeof f,n=[].slice.call(arguments,1);return b(this).each(function(){var J,M=b.isPlainObject(g)?b.extend(!0,{},b.fn.search.settings,g):b.extend({},b.fn.search.settings),F=M.className,w=M.metadata,L=M.regExp,O=M.fields,I=M.selector,C=M.error,K=M.namespace,G="."+K,z=K+"-module",H=b(this),q=H.find(I.prompt),E=H.find(I.searchButton),D=H.find(I.results),B=H.find(I.result),N=(H.find(I.category),this),A=H.data(z),k=!1,l=!1;J={initialize:function(){J.verbose("Initializing module"),J.get.settings(),J.determine.searchFields(),J.bind.events(),J.set.type(),J.create.results(),J.instantiate()},instantiate:function(){J.verbose("Storing instance of module",J),A=J,H.data(z,J)},destroy:function(){J.verbose("Destroying instance"),H.off(G).removeData(z)},refresh:function(){J.debug("Refreshing selector cache"),q=H.find(I.prompt),E=H.find(I.searchButton),H.find(I.category),D=H.find(I.results),B=H.find(I.result)},refreshResults:function(){D=H.find(I.results),B=H.find(I.result)},bind:{events:function(){J.verbose("Binding events to search"),M.automatic&&(H.on(J.get.inputEvent()+G,I.prompt,J.event.input),q.attr("autocomplete","off")),H.on("focus"+G,I.prompt,J.event.focus).on("blur"+G,I.prompt,J.event.blur).on("keydown"+G,I.prompt,J.handleKeyboard).on("click"+G,I.searchButton,J.query).on("mousedown"+G,I.results,J.event.result.mousedown).on("mouseup"+G,I.results,J.event.result.mouseup).on("click"+G,I.result,J.event.result.click)}},determine:{searchFields:function(){g&&g.searchFields!==c&&(M.searchFields=g.searchFields)}},event:{input:function(){M.searchDelay?(clearTimeout(J.timer),J.timer=setTimeout(function(){J.is.focused()&&J.query()},M.searchDelay)):J.query()},focus:function(){J.set.focus(),M.searchOnFocus&&J.has.minimumCharacters()&&J.query(function(){J.can.show()&&J.showResults()})},blur:function(r){var p=d.activeElement===this,s=function(){J.cancel.query(),J.remove.focus(),J.timer=setTimeout(J.hideResults,M.hideDelay)};p||(l=!1,J.resultsClicked?(J.debug("Determining if user action caused search to close"),H.one("click.close"+G,I.results,function(t){J.is.inMessage(t)||k?q.focus():(k=!1,J.is.animating()||J.is.hidden()||s())})):(J.debug("Input blurred without user action, closing results"),s()))},result:{mousedown:function(){J.resultsClicked=!0},mouseup:function(){J.resultsClicked=!1},click:function(P){J.debug("Search result selected");var R=b(this),v=R.find(I.title).eq(0),y=R.is("a[href]")?R:R.find("a[href]").eq(0),u=y.attr("href")||!1,Q=y.attr("target")||!1,p=(v.html(),0<v.length&&v.text()),S=J.get.results(),x=R.data(w.result)||J.get.result(p,S);if(b.isFunction(M.onSelect)&&!1===M.onSelect.call(N,x,S)){return J.debug("Custom onSelect callback cancelled default select action"),void (k=!0)}J.hideResults(),p&&J.set.value(p),u&&(J.verbose("Opening search link found in result",y),"_blank"==Q||P.ctrlKey?a.open(u):a.location.href=u)}}},handleKeyboard:function(Q){var V,x=H.find(I.result),P=H.find(I.category),v=x.filter("."+F.active),T=x.index(v),p=x.length,W=0<v.length,y=Q.which,S=13,U=38,R=40;if(y==27&&(J.verbose("Escape key pressed, blurring search field"),J.hideResults(),l=!0),J.is.visible()){if(y==S){if(J.verbose("Enter key pressed, selecting active result"),0<x.filter("."+F.active).length){return J.event.result.click.call(x.filter("."+F.active),Q),Q.preventDefault(),!1}}else{y==U&&W?(J.verbose("Up key pressed, changing active result"),V=T-1<0?T:T-1,P.removeClass(F.active),x.removeClass(F.active).eq(V).addClass(F.active).closest(P).addClass(F.active),Q.preventDefault()):y==R&&(J.verbose("Down key pressed, changing active result"),V=p<=T+1?T:T+1,P.removeClass(F.active),x.removeClass(F.active).eq(V).addClass(F.active).closest(P).addClass(F.active),Q.preventDefault())}}else{y==S&&(J.verbose("Enter key pressed, executing query"),J.query(),J.set.buttonPressed(),q.one("keyup",J.remove.buttonFocus))}},setup:{api:function(p,s){var r={debug:M.debug,on:!1,cache:M.cache,action:"search",urlData:{query:p},onSuccess:function(t){J.parse.response.call(N,t,p),s()},onFailure:function(){J.displayMessage(C.serverError),s()},onAbort:function(t){},onError:J.error};b.extend(!0,r,M.apiSettings),J.verbose("Setting up API request",r),H.api(r)}},can:{useAPI:function(){return b.fn.api!==c},show:function(){return J.is.focused()&&!J.is.visible()&&!J.is.empty()},transition:function(){return M.transition&&b.fn.transition!==c&&H.transition("is supported")}},is:{animating:function(){return D.hasClass(F.animating)},hidden:function(){return D.hasClass(F.hidden)},inMessage:function(r){if(r.target){var p=b(r.target);return b.contains(d.documentElement,r.target)&&0<p.closest(I.message).length}},empty:function(){return""===D.html()},visible:function(){return 0<D.filter(":visible").length},focused:function(){return 0<q.filter(":focus").length}},get:{settings:function(){b.isPlainObject(g)&&g.searchFullText&&(M.fullTextSearch=g.searchFullText,J.error(M.error.oldSearchSyntax,N))},inputEvent:function(){var p=q[0];return p!==c&&p.oninput!==c?"input":p!==c&&p.onpropertychange!==c?"propertychange":"keyup"},value:function(){return q.val()},results:function(){return H.data(w.results)},result:function(t,r){var p=["title","id"],s=!1;return t=t!==c?t:J.get.value(),r=r!==c?r:J.get.results(),"category"===M.type?(J.debug("Finding result that matches",t),b.each(r,function(v,u){if(b.isArray(u.results)&&(s=J.search.object(t,u.results,p)[0])){return !1}})):(J.debug("Finding result in results object",t),s=J.search.object(t,r,p)[0]),s||!1}},select:{firstResult:function(){J.verbose("Selecting first result"),B.first().addClass(F.active)}},set:{focus:function(){H.addClass(F.focus)},loading:function(){H.addClass(F.loading)},value:function(p){J.verbose("Setting search input value",p),q.val(p)},type:function(p){p=p||M.type,"category"==M.type&&H.addClass(M.type)},buttonPressed:function(){E.addClass(F.pressed)}},remove:{loading:function(){H.removeClass(F.loading)},focus:function(){H.removeClass(F.focus)},buttonPressed:function(){E.removeClass(F.pressed)}},query:function(r){r=b.isFunction(r)?r:function(){};var p=J.get.value(),s=J.read.cache(p);r=r||function(){},J.has.minimumCharacters()?(s?(J.debug("Reading result from cache",p),J.save.results(s.results),J.addResults(s.html),J.inject.id(s.results),r()):(J.debug("Querying for",p),b.isPlainObject(M.source)||b.isArray(M.source)?(J.search.local(p),r()):J.can.useAPI()?J.search.remote(p,r):(J.error(C.source),r())),M.onSearchQuery.call(N,p)):J.hideResults()},search:{local:function(r){var p,s=J.search.object(r,M.content);J.set.loading(),J.save.results(s),J.debug("Returned full local search results",s),0<M.maxResults&&(J.debug("Using specified max results",s),s=s.slice(0,M.maxResults)),"category"==M.type&&(s=J.create.categoryResults(s)),p=J.generateResults({results:s}),J.remove.loading(),J.addResults(p),J.inject.id(s),J.write.cache(r,{html:p,results:s})},remote:function(r,p){p=b.isFunction(p)?p:function(){},H.api("is loading")&&H.api("abort"),J.setup.api(r,p),H.api("query")},object:function(y,R,P){var Q=[],p=[],S=[],v=y.toString().replace(L.escape,"\\$&"),u=new RegExp(L.beginsWith+v,"i"),x=function(T,s){var V=-1==b.inArray(s,Q),r=-1==b.inArray(s,S),U=-1==b.inArray(s,p);V&&r&&U&&T.push(s)};return R=R||M.source,P=P!==c?P:M.searchFields,b.isArray(P)||(P=[P]),R===c||!1===R?(J.error(C.source),[]):(b.each(P,function(r,s){b.each(R,function(U,T){"string"==typeof T[s]&&(-1!==T[s].search(u)?x(Q,T):"exact"===M.fullTextSearch&&J.exactSearch(y,T[s])?x(p,T):1==M.fullTextSearch&&J.fuzzySearch(y,T[s])&&x(S,T))})}),b.merge(p,S),b.merge(Q,p),Q)}},exactSearch:function(r,p){return r=r.toLowerCase(),-1<(p=p.toLowerCase()).indexOf(r)},fuzzySearch:function(x,u){var P=u.length,s=x.length;if("string"!=typeof x){return !1}if(x=x.toLowerCase(),u=u.toLowerCase(),P<s){return !1}if(s===P){return x===u}x:for(var y=0,p=0;y<s;y++){for(var v=x.charCodeAt(y);p<P;){if(u.charCodeAt(p++)===v){continue x}}return !1}return !0},parse:{response:function(r,p){var s=J.generateResults(r);J.verbose("Parsing server response",r),r!==c&&p!==c&&r[O.results]!==c&&(J.addResults(s),J.inject.id(r[O.results]),J.write.cache(p,{html:s,results:r[O.results]}),J.save.results(r[O.results]))}},cancel:{query:function(){J.can.useAPI()&&H.api("abort")}},has:{minimumCharacters:function(){return J.get.value().length>=M.minCharacters},results:function(){return 0!==D.length&&""!=D.html()}},clear:{cache:function(r){var p=H.data(w.cache);r?r&&p&&p[r]&&(J.debug("Removing value from cache",r),delete p[r],H.data(w.cache,p)):(J.debug("Clearing cache",r),H.removeData(w.cache))}},read:{cache:function(r){var p=H.data(w.cache);return !!M.cache&&(J.verbose("Checking cache for generated html for query",r),"object"==typeof p&&p[r]!==c&&p[r])}},create:{categoryResults:function(p){var r={};return b.each(p,function(u,s){s.category&&(r[s.category]===c?(J.verbose("Creating new category of results",s.category),r[s.category]={name:s.category,results:[s]}):r[s.category].results.push(s))}),r},id:function(s,r){var u,p=s+1;return r!==c?(u=String.fromCharCode(97+r)+p,J.verbose("Creating category result id",u)):(u=p,J.verbose("Creating result id",u)),u},results:function(){0===D.length&&(D=b("<div />").addClass(F.results).appendTo(H))}},inject:{result:function(s,r,u){J.verbose("Injecting result into results");var p=u!==c?D.children().eq(u).children(I.results).first().children(I.result).eq(r):D.children(I.result).eq(r);J.verbose("Injecting results metadata",p),p.data(w.result,s)},id:function(r){J.debug("Injecting unique ids into results");var s=0,p=0;return"category"===M.type?b.each(r,function(u,t){p=0,b.each(t.results,function(x,v){var y=t.results[x];y.id===c&&(y.id=J.create.id(p,s)),J.inject.result(y,p,s),p++}),s++}):b.each(r,function(v,u){var x=r[v];x.id===c&&(x.id=J.create.id(p)),J.inject.result(x,p),p++}),r}},save:{results:function(p){J.verbose("Saving current search results to metadata",p),H.data(w.results,p)}},write:{cache:function(r,p){var s=H.data(w.cache)!==c?H.data(w.cache):{};M.cache&&(J.verbose("Writing generated html to cache",r,p),s[r]=p,H.data(w.cache,s))}},addResults:function(p){if(b.isFunction(M.onResultsAdd)&&!1===M.onResultsAdd.call(D,p)){return J.debug("onResultsAdd callback cancelled default action"),!1}p?(D.html(p),J.refreshResults(),M.selectFirstResult&&J.select.firstResult(),J.showResults()):J.hideResults(function(){D.empty()})},showResults:function(p){p=b.isFunction(p)?p:function(){},l||!J.is.visible()&&J.has.results()&&(J.can.transition()?(J.debug("Showing results with css animations"),D.transition({animation:M.transition+" in",debug:M.debug,verbose:M.verbose,duration:M.duration,onComplete:function(){p()},queue:!0})):(J.debug("Showing results with javascript"),D.stop().fadeIn(M.duration,M.easing)),M.onResultsOpen.call(D))},hideResults:function(p){p=b.isFunction(p)?p:function(){},J.is.visible()&&(J.can.transition()?(J.debug("Hiding results with css animations"),D.transition({animation:M.transition+" out",debug:M.debug,verbose:M.verbose,duration:M.duration,onComplete:function(){p()},queue:!0})):(J.debug("Hiding results with javascript"),D.stop().fadeOut(M.duration,M.easing)),M.onResultsClose.call(D))},generateResults:function(s){J.debug("Generating html from response",s);var r=M.templates[M.type],v=b.isPlainObject(s[O.results])&&!b.isEmptyObject(s[O.results]),p=b.isArray(s[O.results])&&0<s[O.results].length,u="";return v||p?(0<M.maxResults&&(v?"standard"==M.type&&J.error(C.maxResults):s[O.results]=s[O.results].slice(0,M.maxResults)),b.isFunction(r)?u=r(s,O):J.error(C.noTemplate,!1)):M.showNoResults&&(u=J.displayMessage(C.noResults,"empty")),M.onResults.call(N,s),u},displayMessage:function(r,p){return p=p||"standard",J.debug("Displaying message",r,p),J.addResults(M.templates.message(r,p)),M.templates.message(r,p)},setting:function(r,p){if(b.isPlainObject(r)){b.extend(!0,M,r)}else{if(p===c){return M[r]}M[r]=p}},internal:function(r,p){if(b.isPlainObject(r)){b.extend(!0,J,r)}else{if(p===c){return J[r]}J[r]=p}},debug:function(){!M.silent&&M.debug&&(M.performance?J.performance.log(arguments):(J.debug=Function.prototype.bind.call(console.info,console,M.name+":"),J.debug.apply(console,arguments)))},verbose:function(){!M.silent&&M.verbose&&M.debug&&(M.performance?J.performance.log(arguments):(J.verbose=Function.prototype.bind.call(console.info,console,M.name+":"),J.verbose.apply(console,arguments)))},error:function(){M.silent||(J.error=Function.prototype.bind.call(console.error,console,M.name+":"),J.error.apply(console,arguments))},performance:{log:function(r){var p,s;M.performance&&(s=(p=(new Date).getTime())-(i||p),i=p,h.push({Name:r[0],Arguments:[].slice.call(r,1)||"",Element:N,"Execution Time":s})),clearTimeout(J.performance.timer),J.performance.timer=setTimeout(J.performance.display,500)},display:function(){var p=M.name+":",r=0;i=!1,clearTimeout(J.performance.timer),b.each(h,function(u,s){r+=s["Execution Time"]}),p+=" "+r+"ms",j&&(p+=" '"+j+"'"),1<o.length&&(p+=" ("+o.length+")"),(console.group!==c||console.table!==c)&&0<h.length&&(console.groupCollapsed(p),console.table?console.table(h):b.each(h,function(u,s){console.log(s.Name+": "+s["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(u,x,s){var y,p,P,v=A;return x=x||n,s=N||s,"string"==typeof u&&v!==c&&(u=u.split(/[\. ]/),y=u.length-1,b.each(u,function(Q,r){var R=Q!=y?r+u[Q+1].charAt(0).toUpperCase()+u[Q+1].slice(1):u;if(b.isPlainObject(v[R])&&Q!=y){v=v[R]}else{if(v[R]!==c){return p=v[R],!1}if(!b.isPlainObject(v[r])||Q==y){return v[r]!==c&&(p=v[r]),!1}v=v[r]}})),b.isFunction(p)?P=p.apply(s,x):p!==c&&(P=p),b.isArray(e)?e.push(P):e!==c?e=[e,P]:P!==c&&(e=P),p}},m?(A===c&&J.initialize(),J.invoke(f)):(A!==c&&A.invoke("destroy"),J.initialize())}),e!==c?e:this},b.fn.search.settings={name:"Search",namespace:"search",silent:!1,debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchOnFocus:!0,searchFields:["title","description"],displayField:"",fullTextSearch:"exact",automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(f){},onResults:function(f){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",oldSearchSyntax:"searchFullText setting has been renamed fullTextSearch for consistency, please adjust your settings.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",message:".results > .message",category:".category",result:".result",title:".title, .name"},templates:{escape:function(g){var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(g)?g.replace(/[&<>"'`]/g,function(h){return f[h]}):g},message:function(g,f){var h="";return g!==c&&f!==c&&(h+='<div class="message '+f+'">',h+="empty"==f?'<div class="header">No Results</div class="header"><div class="description">'+g+'</div class="description">':' <div class="description">'+g+"</div>",h+="</div>"),h},category:function(g,h){var f="";b.fn.search.settings.templates.escape;return g[h.categoryResults]!==c&&(b.each(g[h.categoryResults],function(j,i){i[h.results]!==c&&0<i.results.length&&(f+='<div class="category">',i[h.categoryName]!==c&&(f+='<div class="name">'+i[h.categoryName]+"</div>"),f+='<div class="results">',b.each(i.results,function(l,k){k[h.url]?f+='<a class="result" href="'+k[h.url]+'">':f+='<a class="result">',k[h.image]!==c&&(f+='<div class="image"> <img src="'+k[h.image]+'"></div>'),f+='<div class="content">',k[h.price]!==c&&(f+='<div class="price">'+k[h.price]+"</div>"),k[h.title]!==c&&(f+='<div class="title">'+k[h.title]+"</div>"),k[h.description]!==c&&(f+='<div class="description">'+k[h.description]+"</div>"),f+="</div>",f+="</a>"}),f+="</div>",f+="</div>")}),g[h.action]&&(f+='<a href="'+g[h.action][h.actionURL]+'" class="action">'+g[h.action][h.actionText]+"</a>"),f)},standard:function(g,h){var f="";return g[h.results]!==c&&(b.each(g[h.results],function(j,i){i[h.url]?f+='<a class="result" href="'+i[h.url]+'">':f+='<a class="result">',i[h.image]!==c&&(f+='<div class="image"> <img src="'+i[h.image]+'"></div>'),f+='<div class="content">',i[h.price]!==c&&(f+='<div class="price">'+i[h.price]+"</div>"),i[h.title]!==c&&(f+='<div class="title">'+i[h.title]+"</div>"),i[h.description]!==c&&(f+='<div class="description">'+i[h.description]+"</div>"),f+="</div>",f+="</a>"}),g[h.action]&&(f+='<a href="'+g[h.action][h.actionURL]+'" class="action">'+g[h.action][h.actionText]+"</a>"),f)}}}}(jQuery,window,document),function(a,d,b,c){d=void 0!==d&&d.Math==Math?d:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),a.fn.shape=function(n){var j,i=a(this),l=(a("body"),(new Date).getTime()),e=[],m=n,h="string"==typeof m,g=[].slice.call(arguments,1),f=d.requestAnimationFrame||d.mozRequestAnimationFrame||d.webkitRequestAnimationFrame||d.msRequestAnimationFrame||function(k){setTimeout(k,0)};return i.each(function(){var z,v,G,I=i.selector||"",k=a.isPlainObject(n)?a.extend(!0,{},a.fn.shape.settings,n):a.extend({},a.fn.shape.settings),D=k.namespace,J=k.selector,w=k.error,y=k.className,F="."+D,H="module-"+D,E=a(this),C=E.find(J.sides),x=E.find(J.side),B=!1,q=this,A=E.data(H);G={initialize:function(){G.verbose("Initializing module for",q),G.set.defaultSide(),G.instantiate()},instantiate:function(){G.verbose("Storing instance of module",G),A=G,E.data(H,A)},destroy:function(){G.verbose("Destroying previous module for",q),E.removeData(H).off(F)},refresh:function(){G.verbose("Refreshing selector cache for",q),E=a(q),C=a(this).find(J.shape),x=a(this).find(J.side)},repaint:function(){G.verbose("Forcing repaint event");(C[0]||b.createElement("div")).offsetWidth},animate:function(p,o){G.verbose("Animating box with properties",p),o=o||function(r){G.verbose("Executing animation callback"),r!==c&&r.stopPropagation(),G.reset(),G.set.active()},k.beforeChange.call(v[0]),G.get.transitionEvent()?(G.verbose("Starting CSS animation"),E.addClass(y.animating),C.css(p).one(G.get.transitionEvent(),o),G.set.duration(k.duration),f(function(){E.addClass(y.animating),z.addClass(y.hidden)})):o()},queue:function(o){G.debug("Queueing animation of",o),C.one(G.get.transitionEvent(),function(){G.debug("Executing queued animation"),setTimeout(function(){E.shape(o)},0)})},reset:function(){G.verbose("Animating states reset"),E.removeClass(y.animating).attr("style","").removeAttr("style"),C.attr("style","").removeAttr("style"),x.attr("style","").removeAttr("style").removeClass(y.hidden),v.removeClass(y.animating).attr("style","").removeAttr("style")},is:{complete:function(){return x.filter("."+y.active)[0]==v[0]},animating:function(){return E.hasClass(y.animating)}},set:{defaultSide:function(){z=E.find("."+k.className.active),v=0<z.next(J.side).length?z.next(J.side):E.find(J.side).first(),B=!1,G.verbose("Active side set to",z),G.verbose("Next side set to",v)},duration:function(o){o="number"==typeof(o=o||k.duration)?o+"ms":o,G.verbose("Setting animation duration",o),(k.duration||0===k.duration)&&C.add(x).css({"-webkit-transition-duration":o,"-moz-transition-duration":o,"-ms-transition-duration":o,"-o-transition-duration":o,"transition-duration":o})},currentStageSize:function(){var p=E.find("."+k.className.active),o=p.outerWidth(!0),r=p.outerHeight(!0);E.css({width:o,height:r})},stageSize:function(){var s=E.clone().addClass(y.loading),r=s.find("."+k.className.active),K=B?s.find(J.side).eq(B):0<r.next(J.side).length?r.next(J.side):s.find(J.side).first(),p="next"==k.width?K.outerWidth(!0):"initial"==k.width?E.width():k.width,u="next"==k.height?K.outerHeight(!0):"initial"==k.height?E.height():k.height;r.removeClass(y.active),K.addClass(y.active),s.insertAfter(E),s.remove(),"auto"!=k.width&&(E.css("width",p+k.jitter),G.verbose("Specifying width during animation",p)),"auto"!=k.height&&(E.css("height",u+k.jitter),G.verbose("Specifying height during animation",u))},nextSide:function(o){B=o,v=x.filter(o),B=x.index(v),0===v.length&&(G.set.defaultSide(),G.error(w.side)),G.verbose("Next side manually set to",v)},active:function(){G.verbose("Setting new side to active",v),x.removeClass(y.active),v.addClass(y.active),k.onChange.call(v[0]),G.set.defaultSide()}},flip:{up:function(){if(!G.is.complete()||G.is.animating()||k.allowRepeats){if(G.is.animating()){G.queue("flip up")}else{G.debug("Flipping up",v);var o=G.get.transform.up();G.set.stageSize(),G.stage.above(),G.animate(o)}}else{G.debug("Side already visible",v)}},down:function(){if(!G.is.complete()||G.is.animating()||k.allowRepeats){if(G.is.animating()){G.queue("flip down")}else{G.debug("Flipping down",v);var o=G.get.transform.down();G.set.stageSize(),G.stage.below(),G.animate(o)}}else{G.debug("Side already visible",v)}},left:function(){if(!G.is.complete()||G.is.animating()||k.allowRepeats){if(G.is.animating()){G.queue("flip left")}else{G.debug("Flipping left",v);var o=G.get.transform.left();G.set.stageSize(),G.stage.left(),G.animate(o)}}else{G.debug("Side already visible",v)}},right:function(){if(!G.is.complete()||G.is.animating()||k.allowRepeats){if(G.is.animating()){G.queue("flip right")}else{G.debug("Flipping right",v);var o=G.get.transform.right();G.set.stageSize(),G.stage.right(),G.animate(o)}}else{G.debug("Side already visible",v)}},over:function(){!G.is.complete()||G.is.animating()||k.allowRepeats?G.is.animating()?G.queue("flip over"):(G.debug("Flipping over",v),G.set.stageSize(),G.stage.behind(),G.animate(G.get.transform.over())):G.debug("Side already visible",v)},back:function(){!G.is.complete()||G.is.animating()||k.allowRepeats?G.is.animating()?G.queue("flip back"):(G.debug("Flipping back",v),G.set.stageSize(),G.stage.behind(),G.animate(G.get.transform.back())):G.debug("Side already visible",v)}},get:{transform:{up:function(){return{transform:"translateY("+-(z.outerHeight(!0)-v.outerHeight(!0))/2+"px) translateZ("+-z.outerHeight(!0)/2+"px) rotateX(-90deg)"}},down:function(){return{transform:"translateY("+-(z.outerHeight(!0)-v.outerHeight(!0))/2+"px) translateZ("+-z.outerHeight(!0)/2+"px) rotateX(90deg)"}},left:function(){return{transform:"translateX("+-(z.outerWidth(!0)-v.outerWidth(!0))/2+"px) translateZ("+-z.outerWidth(!0)/2+"px) rotateY(90deg)"}},right:function(){return{transform:"translateX("+-(z.outerWidth(!0)-v.outerWidth(!0))/2+"px) translateZ("+-z.outerWidth(!0)/2+"px) rotateY(-90deg)"}},over:function(){return{transform:"translateX("+-(z.outerWidth(!0)-v.outerWidth(!0))/2+"px) rotateY(180deg)"}},back:function(){return{transform:"translateX("+-(z.outerWidth(!0)-v.outerWidth(!0))/2+"px) rotateY(-180deg)"}}},transitionEvent:function(){var p,o=b.createElement("element"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(p in r){if(o.style[p]!==c){return r[p]}}},nextSide:function(){return 0<z.next(J.side).length?z.next(J.side):E.find(J.side).first()}},stage:{above:function(){var o={origin:(z.outerHeight(!0)-v.outerHeight(!0))/2,depth:{active:v.outerHeight(!0)/2,next:z.outerHeight(!0)/2}};G.verbose("Setting the initial animation position as above",v,o),C.css({transform:"translateZ(-"+o.depth.active+"px)"}),z.css({transform:"rotateY(0deg) translateZ("+o.depth.active+"px)"}),v.addClass(y.animating).css({top:o.origin+"px",transform:"rotateX(90deg) translateZ("+o.depth.next+"px)"})},below:function(){var o={origin:(z.outerHeight(!0)-v.outerHeight(!0))/2,depth:{active:v.outerHeight(!0)/2,next:z.outerHeight(!0)/2}};G.verbose("Setting the initial animation position as below",v,o),C.css({transform:"translateZ(-"+o.depth.active+"px)"}),z.css({transform:"rotateY(0deg) translateZ("+o.depth.active+"px)"}),v.addClass(y.animating).css({top:o.origin+"px",transform:"rotateX(-90deg) translateZ("+o.depth.next+"px)"})},left:function(){var p=z.outerWidth(!0),o=v.outerWidth(!0),r={origin:(p-o)/2,depth:{active:o/2,next:p/2}};G.verbose("Setting the initial animation position as left",v,r),C.css({transform:"translateZ(-"+r.depth.active+"px)"}),z.css({transform:"rotateY(0deg) translateZ("+r.depth.active+"px)"}),v.addClass(y.animating).css({left:r.origin+"px",transform:"rotateY(-90deg) translateZ("+r.depth.next+"px)"})},right:function(){var p=z.outerWidth(!0),o=v.outerWidth(!0),r={origin:(p-o)/2,depth:{active:o/2,next:p/2}};G.verbose("Setting the initial animation position as left",v,r),C.css({transform:"translateZ(-"+r.depth.active+"px)"}),z.css({transform:"rotateY(0deg) translateZ("+r.depth.active+"px)"}),v.addClass(y.animating).css({left:r.origin+"px",transform:"rotateY(90deg) translateZ("+r.depth.next+"px)"})},behind:function(){var p=z.outerWidth(!0),o=v.outerWidth(!0),r={origin:(p-o)/2,depth:{active:o/2,next:p/2}};G.verbose("Setting the initial animation position as behind",v,r),z.css({transform:"rotateY(0deg)"}),v.addClass(y.animating).css({left:r.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(p,o){if(G.debug("Changing setting",p,o),a.isPlainObject(p)){a.extend(!0,k,p)}else{if(o===c){return k[p]}a.isPlainObject(k[p])?a.extend(!0,k[p],o):k[p]=o}},internal:function(p,o){if(a.isPlainObject(p)){a.extend(!0,G,p)}else{if(o===c){return G[p]}G[p]=o}},debug:function(){!k.silent&&k.debug&&(k.performance?G.performance.log(arguments):(G.debug=Function.prototype.bind.call(console.info,console,k.name+":"),G.debug.apply(console,arguments)))},verbose:function(){!k.silent&&k.verbose&&k.debug&&(k.performance?G.performance.log(arguments):(G.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),G.verbose.apply(console,arguments)))},error:function(){k.silent||(G.error=Function.prototype.bind.call(console.error,console,k.name+":"),G.error.apply(console,arguments))},performance:{log:function(p){var o,r;k.performance&&(r=(o=(new Date).getTime())-(l||o),l=o,e.push({Name:p[0],Arguments:[].slice.call(p,1)||"",Element:q,"Execution Time":r})),clearTimeout(G.performance.timer),G.performance.timer=setTimeout(G.performance.display,500)},display:function(){var o=k.name+":",p=0;l=!1,clearTimeout(G.performance.timer),a.each(e,function(s,r){p+=r["Execution Time"]}),o+=" "+p+"ms",I&&(o+=" '"+I+"'"),1<i.length&&(o+=" ("+i.length+")"),(console.group!==c||console.table!==c)&&0<e.length&&(console.groupCollapsed(o),console.table?console.table(e):a.each(e,function(s,r){console.log(r.Name+": "+r["Execution Time"]+"ms")}),console.groupEnd()),e=[]}},invoke:function(u,L,s){var M,p,N,K=A;return L=L||g,s=q||s,"string"==typeof u&&K!==c&&(u=u.split(/[\. ]/),M=u.length-1,a.each(u,function(r,o){var O=r!=M?o+u[r+1].charAt(0).toUpperCase()+u[r+1].slice(1):u;if(a.isPlainObject(K[O])&&r!=M){K=K[O]}else{if(K[O]!==c){return p=K[O],!1}if(!a.isPlainObject(K[o])||r==M){return K[o]!==c&&(p=K[o]),!1}K=K[o]}})),a.isFunction(p)?N=p.apply(s,L):p!==c&&(N=p),a.isArray(j)?j.push(N):j!==c?j=[j,N]:N!==c&&(j=N),p}},h?(A===c&&G.initialize(),G.invoke(m)):(A!==c&&A.invoke("destroy"),G.initialize())}),j!==c?j:this},a.fn.shape.settings={name:"Shape",silent:!1,debug:!1,verbose:!1,jitter:0,performance:!0,namespace:"shape",width:"initial",height:"initial",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.sidebar=function(q){var g,p=c(this),r=c(b),l=c(d),j=c("html"),i=c("head"),h=p.selector||"",m=(new Date).getTime(),n=[],t=q,s="string"==typeof t,o=[].slice.call(arguments,1),f=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(k){setTimeout(k,0)};return p.each(function(){var B,A,L,z,G,N,x=c.isPlainObject(q)?c.extend(!0,{},c.fn.sidebar.settings,q):c.extend({},c.fn.sidebar.settings),E=x.selector,P=x.className,H=x.namespace,D=x.regExp,M=x.error,K="."+H,F="module-"+H,J=c(this),C=c(x.context),I=J.children(E.sidebar),w=(C.children(E.fixed),C.children(E.pusher)),O=this,k=J.data(F);N={initialize:function(){N.debug("Initializing sidebar",q),N.create.id(),G=N.get.transitionEvent(),x.delaySetup?f(N.setup.layout):N.setup.layout(),f(function(){N.setup.cache()}),N.instantiate()},instantiate:function(){N.verbose("Storing instance of module",N),k=N,J.data(F,N)},create:{id:function(){L=(Math.random().toString(16)+"000000000").substr(2,8),A="."+L,N.verbose("Creating unique id for element",L)}},destroy:function(){N.verbose("Destroying previous module for",J),J.off(K).removeData(F),N.is.ios()&&N.remove.ios(),C.off(A),r.off(A),l.off(A)},event:{clickaway:function(v){var u=0<w.find(v.target).length||w.is(v.target),y=C.is(v.target);u&&(N.verbose("User clicked on dimmed page"),N.hide()),y&&(N.verbose("User clicked on dimmable context (scaled out page)"),N.hide())},touch:function(u){},containScroll:function(u){O.scrollTop<=0&&(O.scrollTop=1),O.scrollTop+O.offsetHeight>=O.scrollHeight&&(O.scrollTop=O.scrollHeight-O.offsetHeight-1)},scroll:function(u){0===c(u.target).closest(E.sidebar).length&&u.preventDefault()}},bind:{clickaway:function(){N.verbose("Adding clickaway events to context",C),x.closable&&C.on("click"+A,N.event.clickaway).on("touchend"+A,N.event.clickaway)},scrollLock:function(){x.scrollLock&&(N.debug("Disabling page scroll"),r.on("DOMMouseScroll"+A,N.event.scroll)),N.verbose("Adding events to contain sidebar scroll"),l.on("touchmove"+A,N.event.touch),J.on("scroll"+K,N.event.containScroll)}},unbind:{clickaway:function(){N.verbose("Removing clickaway events from context",C),C.off(A)},scrollLock:function(){N.verbose("Removing scroll lock from page"),l.off(A),r.off(A),J.off("scroll"+K)}},add:{inlineCSS:function(){var Q,y=N.cache.width||J.outerWidth(),S=N.cache.height||J.outerHeight(),v=N.is.rtl(),R=N.get.direction(),u={left:y,right:-y,top:S,bottom:-S};v&&(N.verbose("RTL detected, flipping widths"),u.left=-y,u.right=y),Q="<style>","left"===R||"right"===R?(N.debug("Adding CSS rules for animation distance",y),Q+=" .ui.visible."+R+".sidebar ~ .fixed, .ui.visible."+R+".sidebar ~ .pusher {   -webkit-transform: translate3d("+u[R]+"px, 0, 0);           transform: translate3d("+u[R]+"px, 0, 0); }"):"top"!==R&&"bottom"!=R||(Q+=" .ui.visible."+R+".sidebar ~ .fixed, .ui.visible."+R+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+u[R]+"px, 0);           transform: translate3d(0, "+u[R]+"px, 0); }"),N.is.ie()&&("left"===R||"right"===R?(N.debug("Adding CSS rules for animation distance",y),Q+=" body.pushable > .ui.visible."+R+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+u[R]+"px, 0, 0);           transform: translate3d("+u[R]+"px, 0, 0); }"):"top"!==R&&"bottom"!=R||(Q+=" body.pushable > .ui.visible."+R+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+u[R]+"px, 0);           transform: translate3d(0, "+u[R]+"px, 0); }"),Q+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),B=c(Q+="</style>").appendTo(i),N.debug("Adding sizing css to head",B)}},refresh:function(){N.verbose("Refreshing selector cache"),C=c(x.context),I=C.children(E.sidebar),w=C.children(E.pusher),C.children(E.fixed),N.clear.cache()},refreshSidebars:function(){N.verbose("Refreshing other sidebars"),I=C.children(E.sidebar)},repaint:function(){N.verbose("Forcing repaint event"),O.style.display="none";O.offsetHeight;O.scrollTop=O.scrollTop,O.style.display=""},setup:{cache:function(){N.cache={width:J.outerWidth(),height:J.outerHeight(),rtl:"rtl"==J.css("direction")}},layout:function(){0===C.children(E.pusher).length&&(N.debug("Adding wrapper element for sidebar"),N.error(M.pusher),w=c('<div class="pusher" />'),C.children().not(E.omitted).not(I).wrapAll(w),N.refresh()),0!==J.nextAll(E.pusher).length&&J.nextAll(E.pusher)[0]===w[0]||(N.debug("Moved sidebar to correct parent element"),N.error(M.movedSidebar,O),J.detach().prependTo(C),N.refresh()),N.clear.cache(),N.set.pushable(),N.set.direction()}},attachEvents:function(v,u){var y=c(v);u=c.isFunction(N[u])?N[u]:N.toggle,0<y.length?(N.debug("Attaching sidebar events to element",v,u),y.on("click"+K,u)):N.error(M.notFound,v)},show:function(u){if(u=c.isFunction(u)?u:function(){},N.is.hidden()){if(N.refreshSidebars(),x.overlay&&(N.error(M.overlay),x.transition="overlay"),N.refresh(),N.othersActive()){if(N.debug("Other sidebars currently visible"),x.exclusive){if("overlay"!=x.transition){return void N.hideOthers(N.show)}N.hideOthers()}else{x.transition="overlay"}}N.pushPage(function(){u.call(O),x.onShow.call(O)}),x.onChange.call(O),x.onVisible.call(O)}else{N.debug("Sidebar is already visible")}},hide:function(u){u=c.isFunction(u)?u:function(){},(N.is.visible()||N.is.animating())&&(N.debug("Hiding sidebar",u),N.refreshSidebars(),N.pullPage(function(){u.call(O),x.onHidden.call(O)}),x.onChange.call(O),x.onHide.call(O))},othersAnimating:function(){return 0<I.not(J).filter("."+P.animating).length},othersVisible:function(){return 0<I.not(J).filter("."+P.visible).length},othersActive:function(){return N.othersVisible()||N.othersAnimating()},hideOthers:function(y){var v=I.not(J).filter("."+P.visible),Q=v.length,u=0;y=y||function(){},v.sidebar("hide",function(){++u==Q&&y()})},toggle:function(){N.verbose("Determining toggled direction"),N.is.hidden()?N.show():N.hide()},pushPage:function(y){var Q,S,v,R=N.get.transition(),u="overlay"===R||N.othersActive()?J:w;y=c.isFunction(y)?y:function(){},"scale down"==x.transition&&N.scrollToTop(),N.set.transition(R),N.repaint(),Q=function(){N.bind.clickaway(),N.add.inlineCSS(),N.set.animating(),N.set.visible()},S=function(){N.set.dimmed()},v=function(T){T.target==u[0]&&(u.off(G+A,v),N.remove.animating(),N.bind.scrollLock(),y.call(O))},u.off(G+A),u.on(G+A,v),f(Q),x.dimPage&&!N.othersVisible()&&f(S)},pullPage:function(v){var y,R,u=N.get.transition(),Q="overlay"==u||N.othersActive()?J:w;v=c.isFunction(v)?v:function(){},N.verbose("Removing context push state",N.get.direction()),N.unbind.clickaway(),N.unbind.scrollLock(),y=function(){N.set.transition(u),N.set.animating(),N.remove.visible(),x.dimPage&&!N.othersVisible()&&w.removeClass(P.dimmed)},R=function(S){S.target==Q[0]&&(Q.off(G+A,R),N.remove.animating(),N.remove.transition(),N.remove.inlineCSS(),("scale down"==u||x.returnScroll&&N.is.mobile())&&N.scrollBack(),v.call(O))},Q.off(G+A),Q.on(G+A,R),f(y)},scrollToTop:function(){N.verbose("Scrolling to top of page to avoid animation issues"),z=c(b).scrollTop(),J.scrollTop(0),b.scrollTo(0,0)},scrollBack:function(){N.verbose("Scrolling back to original page position"),b.scrollTo(0,z)},clear:{cache:function(){N.verbose("Clearing cached dimensions"),N.cache={}}},set:{ios:function(){j.addClass(P.ios)},pushed:function(){C.addClass(P.pushed)},pushable:function(){C.addClass(P.pushable)},dimmed:function(){w.addClass(P.dimmed)},active:function(){J.addClass(P.active)},animating:function(){J.addClass(P.animating)},transition:function(u){u=u||N.get.transition(),J.addClass(u)},direction:function(u){u=u||N.get.direction(),J.addClass(P[u])},visible:function(){J.addClass(P.visible)},overlay:function(){J.addClass(P.overlay)}},remove:{inlineCSS:function(){N.debug("Removing inline css styles",B),B&&0<B.length&&B.remove()},ios:function(){j.removeClass(P.ios)},pushed:function(){C.removeClass(P.pushed)},pushable:function(){C.removeClass(P.pushable)},active:function(){J.removeClass(P.active)},animating:function(){J.removeClass(P.animating)},transition:function(u){u=u||N.get.transition(),J.removeClass(u)},direction:function(u){u=u||N.get.direction(),J.removeClass(P[u])},visible:function(){J.removeClass(P.visible)},overlay:function(){J.removeClass(P.overlay)}},get:{direction:function(){return J.hasClass(P.top)?P.top:J.hasClass(P.right)?P.right:J.hasClass(P.bottom)?P.bottom:P.left},transition:function(){var v,u=N.get.direction();return v=N.is.mobile()?"auto"==x.mobileTransition?x.defaultTransition.mobile[u]:x.mobileTransition:"auto"==x.transition?x.defaultTransition.computer[u]:x.transition,N.verbose("Determined transition",v),v},transitionEvent:function(){var v,u=d.createElement("element"),y={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(v in y){if(u.style[v]!==a){return y[v]}}}},is:{ie:function(){return !b.ActiveXObject&&"ActiveXObject" in b||"ActiveXObject" in b},ios:function(){var v=navigator.userAgent,u=v.match(D.ios),y=v.match(D.mobileChrome);return !(!u||y)&&(N.verbose("Browser was found to be iOS",v),!0)},mobile:function(){var u=navigator.userAgent;return u.match(D.mobile)?(N.verbose("Browser was found to be mobile",u),!0):(N.verbose("Browser is not mobile, using regular transition",u),!1)},hidden:function(){return !N.is.visible()},visible:function(){return J.hasClass(P.visible)},open:function(){return N.is.visible()},closed:function(){return N.is.hidden()},vertical:function(){return J.hasClass(P.top)},animating:function(){return C.hasClass(P.animating)},rtl:function(){return N.cache.rtl===a&&(N.cache.rtl="rtl"==J.css("direction")),N.cache.rtl}},setting:function(v,u){if(N.debug("Changing setting",v,u),c.isPlainObject(v)){c.extend(!0,x,v)}else{if(u===a){return x[v]}c.isPlainObject(x[v])?c.extend(!0,x[v],u):x[v]=u}},internal:function(v,u){if(c.isPlainObject(v)){c.extend(!0,N,v)}else{if(u===a){return N[v]}N[v]=u}},debug:function(){!x.silent&&x.debug&&(x.performance?N.performance.log(arguments):(N.debug=Function.prototype.bind.call(console.info,console,x.name+":"),N.debug.apply(console,arguments)))},verbose:function(){!x.silent&&x.verbose&&x.debug&&(x.performance?N.performance.log(arguments):(N.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),N.verbose.apply(console,arguments)))},error:function(){x.silent||(N.error=Function.prototype.bind.call(console.error,console,x.name+":"),N.error.apply(console,arguments))},performance:{log:function(v){var u,y;x.performance&&(y=(u=(new Date).getTime())-(m||u),m=u,n.push({Name:v[0],Arguments:[].slice.call(v,1)||"",Element:O,"Execution Time":y})),clearTimeout(N.performance.timer),N.performance.timer=setTimeout(N.performance.display,500)},display:function(){var u=x.name+":",v=0;m=!1,clearTimeout(N.performance.timer),c.each(n,function(Q,y){v+=y["Execution Time"]}),u+=" "+v+"ms",h&&(u+=" '"+h+"'"),(console.group!==a||console.table!==a)&&0<n.length&&(console.groupCollapsed(u),console.table?console.table(n):c.each(n,function(Q,y){console.log(y.Name+": "+y["Execution Time"]+"ms")}),console.groupEnd()),n=[]}},invoke:function(y,R,v){var S,u,T,Q=k;return R=R||o,v=O||v,"string"==typeof y&&Q!==a&&(y=y.split(/[\. ]/),S=y.length-1,c.each(y,function(V,U){var W=V!=S?U+y[V+1].charAt(0).toUpperCase()+y[V+1].slice(1):y;if(c.isPlainObject(Q[W])&&V!=S){Q=Q[W]}else{if(Q[W]!==a){return u=Q[W],!1}if(!c.isPlainObject(Q[U])||V==S){return Q[U]!==a?u=Q[U]:N.error(M.method,y),!1}Q=Q[U]}})),c.isFunction(u)?T=u.apply(v,R):u!==a&&(T=u),c.isArray(g)?g.push(T):g!==a?g=[g,T]:T!==a&&(g=T),u}},s?(k===a&&N.initialize(),N.invoke(t)):(k!==a&&N.invoke("destroy"),N.initialize())}),g!==a?g:this},c.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(b,a,c,d){a=void 0!==a&&a.Math==Math?a:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),b.fn.sticky=function(o){var l,i=b(this),j=i.selector||"",m=(new Date).getTime(),f=[],n=o,h="string"==typeof n,g=[].slice.call(arguments,1);return i.each(function(){var z,v,D,I,E,C=b.isPlainObject(o)?b.extend(!0,{},b.fn.sticky.settings,o):b.extend({},b.fn.sticky.settings),w=C.className,G=C.namespace,k=C.error,J="."+G,y="module-"+G,F=b(this),H=b(a),x=b(C.scrollContext),B=(F.selector,F.data(y)),q=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame||function(p){setTimeout(p,0)},A=this;E={initialize:function(){E.determineContainer(),E.determineContext(),E.verbose("Initializing sticky",C,z),E.save.positions(),E.checkErrors(),E.bind.events(),C.observeChanges&&E.observeChanges(),E.instantiate()},instantiate:function(){E.verbose("Storing instance of module",E),B=E,F.data(y,E)},destroy:function(){E.verbose("Destroying previous instance"),E.reset(),D&&D.disconnect(),I&&I.disconnect(),H.off("load"+J,E.event.load).off("resize"+J,E.event.resize),x.off("scrollchange"+J,E.event.scrollchange),F.removeData(y)},observeChanges:function(){"MutationObserver" in a&&(D=new MutationObserver(E.event.documentChanged),I=new MutationObserver(E.event.changed),D.observe(c,{childList:!0,subtree:!0}),I.observe(A,{childList:!0,subtree:!0}),I.observe(v[0],{childList:!0,subtree:!0}),E.debug("Setting up mutation observer",I))},determineContainer:function(){z=C.container?b(C.container):F.offsetParent()},determineContext:function(){0!==(v=C.context?b(C.context):z).length||E.error(k.invalidContext,C.context,F)},checkErrors:function(){if(E.is.hidden()&&E.error(k.visible,F),E.cache.element.height>E.cache.context.height){return E.reset(),void E.error(k.elementSize,F)}},bind:{events:function(){H.on("load"+J,E.event.load).on("resize"+J,E.event.resize),x.off("scroll"+J).on("scroll"+J,E.event.scroll).on("scrollchange"+J,E.event.scrollchange)}},event:{changed:function(p){clearTimeout(E.timer),E.timer=setTimeout(function(){E.verbose("DOM tree modified, updating sticky menu",p),E.refresh()},100)},documentChanged:function(p){[].forEach.call(p,function(r){r.removedNodes&&[].forEach.call(r.removedNodes,function(s){(s==A||0<b(s).find(A).length)&&(E.debug("Element removed from DOM, tearing down events"),E.destroy())})})},load:function(){E.verbose("Page contents finished loading"),q(E.refresh)},resize:function(){E.verbose("Window resized"),q(E.refresh)},scroll:function(){q(function(){x.triggerHandler("scrollchange"+J,x.scrollTop())})},scrollchange:function(r,p){E.stick(p),C.onScroll.call(A)}},refresh:function(p){E.reset(),C.context||E.determineContext(),p&&E.determineContainer(),E.save.positions(),E.stick(),C.onReposition.call(A)},supports:{sticky:function(){var p=b("<div/>");p[0];return p.addClass(w.supported),p.css("position").match("sticky")}},save:{lastScroll:function(p){E.lastScroll=p},elementScroll:function(p){E.elementScroll=p},positions:function(){var r={height:x.height()},p={margin:{top:parseInt(F.css("margin-top"),10),bottom:parseInt(F.css("margin-bottom"),10)},offset:F.offset(),width:F.outerWidth(),height:F.outerHeight()},s={offset:v.offset(),height:v.outerHeight()};z.outerHeight();E.is.standardScroll()||(E.debug("Non-standard scroll. Removing scroll offset from element offset"),r.top=x.scrollTop(),r.left=x.scrollLeft(),p.offset.top+=r.top,s.offset.top+=r.top,p.offset.left+=r.left,s.offset.left+=r.left),E.cache={fits:p.height+C.offset<=r.height,sameHeight:p.height==s.height,scrollContext:{height:r.height},element:{margin:p.margin,top:p.offset.top-p.margin.top,left:p.offset.left,width:p.width,height:p.height,bottom:p.offset.top+p.height},context:{top:s.offset.top,height:s.height,bottom:s.offset.top+s.height}},E.set.containerSize(),E.stick(),E.debug("Caching element positions",E.cache)}},get:{direction:function(r){var p="down";return r=r||x.scrollTop(),E.lastScroll!==d&&(E.lastScroll<r?p="down":E.lastScroll>r&&(p="up")),p},scrollChange:function(p){return p=p||x.scrollTop(),E.lastScroll?p-E.lastScroll:0},currentElementScroll:function(){return E.elementScroll?E.elementScroll:E.is.top()?Math.abs(parseInt(F.css("top"),10))||0:Math.abs(parseInt(F.css("bottom"),10))||0},elementScroll:function(L){L=L||x.scrollTop();var u=E.cache.element,N=E.cache.scrollContext,s=E.get.scrollChange(L),M=u.height-N.height+C.offset,p=E.get.currentElementScroll(),K=p+s;return p=E.cache.fits||K<0?0:M<K?M:K}},remove:{lastScroll:function(){delete E.lastScroll},elementScroll:function(p){delete E.elementScroll},minimumSize:function(){z.css("min-height","")},offset:function(){F.css("margin-top","")}},set:{offset:function(){E.verbose("Setting offset on element",C.offset),F.css("margin-top",C.offset)},containerSize:function(){var p=z.get(0).tagName;"HTML"===p||"body"==p?E.determineContainer():Math.abs(z.outerHeight()-E.cache.context.height)>C.jitter&&(E.debug("Context has padding, specifying exact height for container",E.cache.context.height),z.css({height:E.cache.context.height}))},minimumSize:function(){var p=E.cache.element;z.css("min-height",p.height)},scroll:function(p){E.debug("Setting scroll on element",p),E.elementScroll!=p&&(E.is.top()&&F.css("bottom","").css("top",-p),E.is.bottom()&&F.css("top","").css("bottom",p))},size:function(){0!==E.cache.element.height&&0!==E.cache.element.width&&(A.style.setProperty("width",E.cache.element.width+"px","important"),A.style.setProperty("height",E.cache.element.height+"px","important"))}},is:{standardScroll:function(){return x[0]==a},top:function(){return F.hasClass(w.top)},bottom:function(){return F.hasClass(w.bottom)},initialPosition:function(){return !E.is.fixed()&&!E.is.bound()},hidden:function(){return !F.is(":visible")},bound:function(){return F.hasClass(w.bound)},fixed:function(){return F.hasClass(w.fixed)}},stick:function(O){var S=O||x.scrollTop(),L=E.cache,N=L.fits,K=L.sameHeight,Q=L.element,p=L.scrollContext,T=L.context,M=E.is.bottom()&&C.pushing?C.bottomOffset:C.offset,P=(O={top:S+M,bottom:S+M+p.height},E.get.direction(O.top),N?0:E.get.elementScroll(O.top)),R=!N;0!==Q.height&&!K&&(E.is.initialPosition()?O.top>=T.bottom?(E.debug("Initial element position is bottom of container"),E.bindBottom()):O.top>Q.top&&(Q.height+O.top-P>=T.bottom?(E.debug("Initial element position is bottom of container"),E.bindBottom()):(E.debug("Initial element position is fixed"),E.fixTop())):E.is.fixed()?E.is.top()?O.top<=Q.top?(E.debug("Fixed element reached top of container"),E.setInitialPosition()):Q.height+O.top-P>=T.bottom?(E.debug("Fixed element reached bottom of container"),E.bindBottom()):R&&(E.set.scroll(P),E.save.lastScroll(O.top),E.save.elementScroll(P)):E.is.bottom()&&(O.bottom-Q.height<=Q.top?(E.debug("Bottom fixed rail has reached top of container"),E.setInitialPosition()):O.bottom>=T.bottom?(E.debug("Bottom fixed rail has reached bottom of container"),E.bindBottom()):R&&(E.set.scroll(P),E.save.lastScroll(O.top),E.save.elementScroll(P))):E.is.bottom()&&(O.top<=Q.top?(E.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),E.setInitialPosition()):C.pushing?E.is.bound()&&O.bottom<=T.bottom&&(E.debug("Fixing bottom attached element to bottom of browser."),E.fixBottom()):E.is.bound()&&O.top<=T.bottom-Q.height&&(E.debug("Fixing bottom attached element to top of browser."),E.fixTop())))},bindTop:function(){E.debug("Binding element to top of parent container"),E.remove.offset(),F.css({left:"",top:"",marginBottom:""}).removeClass(w.fixed).removeClass(w.bottom).addClass(w.bound).addClass(w.top),C.onTop.call(A),C.onUnstick.call(A)},bindBottom:function(){E.debug("Binding element to bottom of parent container"),E.remove.offset(),F.css({left:"",top:""}).removeClass(w.fixed).removeClass(w.top).addClass(w.bound).addClass(w.bottom),C.onBottom.call(A),C.onUnstick.call(A)},setInitialPosition:function(){E.debug("Returning to initial position"),E.unfix(),E.unbind()},fixTop:function(){E.debug("Fixing element to top of page"),C.setSize&&E.set.size(),E.set.minimumSize(),E.set.offset(),F.css({left:E.cache.element.left,bottom:"",marginBottom:""}).removeClass(w.bound).removeClass(w.bottom).addClass(w.fixed).addClass(w.top),C.onStick.call(A)},fixBottom:function(){E.debug("Sticking element to bottom of page"),C.setSize&&E.set.size(),E.set.minimumSize(),E.set.offset(),F.css({left:E.cache.element.left,bottom:"",marginBottom:""}).removeClass(w.bound).removeClass(w.top).addClass(w.fixed).addClass(w.bottom),C.onStick.call(A)},unbind:function(){E.is.bound()&&(E.debug("Removing container bound position on element"),E.remove.offset(),F.removeClass(w.bound).removeClass(w.top).removeClass(w.bottom))},unfix:function(){E.is.fixed()&&(E.debug("Removing fixed position on element"),E.remove.minimumSize(),E.remove.offset(),F.removeClass(w.fixed).removeClass(w.top).removeClass(w.bottom),C.onUnstick.call(A))},reset:function(){E.debug("Resetting elements position"),E.unbind(),E.unfix(),E.resetCSS(),E.remove.offset(),E.remove.lastScroll()},resetCSS:function(){F.css({width:"",height:""}),z.css({height:""})},setting:function(r,p){if(b.isPlainObject(r)){b.extend(!0,C,r)}else{if(p===d){return C[r]}C[r]=p}},internal:function(r,p){if(b.isPlainObject(r)){b.extend(!0,E,r)}else{if(p===d){return E[r]}E[r]=p}},debug:function(){!C.silent&&C.debug&&(C.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,C.name+":"),E.debug.apply(console,arguments)))},verbose:function(){!C.silent&&C.verbose&&C.debug&&(C.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,C.name+":"),E.verbose.apply(console,arguments)))},error:function(){C.silent||(E.error=Function.prototype.bind.call(console.error,console,C.name+":"),E.error.apply(console,arguments))},performance:{log:function(r){var p,s;C.performance&&(s=(p=(new Date).getTime())-(m||p),m=p,f.push({Name:r[0],Arguments:[].slice.call(r,1)||"",Element:A,"Execution Time":s})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,0)},display:function(){var p=C.name+":",r=0;m=!1,clearTimeout(E.performance.timer),b.each(f,function(u,s){r+=s["Execution Time"]}),p+=" "+r+"ms",j&&(p+=" '"+j+"'"),(console.group!==d||console.table!==d)&&0<f.length&&(console.groupCollapsed(p),console.table?console.table(f):b.each(f,function(u,s){console.log(s.Name+": "+s["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(u,L,s){var M,p,N,K=B;return L=L||g,s=A||s,"string"==typeof u&&K!==d&&(u=u.split(/[\. ]/),M=u.length-1,b.each(u,function(O,r){var P=O!=M?r+u[O+1].charAt(0).toUpperCase()+u[O+1].slice(1):u;if(b.isPlainObject(K[P])&&O!=M){K=K[P]}else{if(K[P]!==d){return p=K[P],!1}if(!b.isPlainObject(K[r])||O==M){return K[r]!==d&&(p=K[r]),!1}K=K[r]}})),b.isFunction(p)?N=p.apply(s,L):p!==d&&(N=p),b.isArray(l)?l.push(N):l!==d?l=[l,N]:N!==d&&(l=N),p}},h?(B===d&&E.initialize(),E.invoke(n)):(B!==d&&B.invoke("destroy"),E.initialize())}),l!==d?l:this},b.fn.sticky.settings={name:"Sticky",namespace:"sticky",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,container:!1,scrollContext:a,offset:0,bottomOffset:0,jitter:5,setSize:!0,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(b,a,d,c){a=void 0!==a&&a.Math==Math?a:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),b.fn.tab=function(e){var p,q=b.isFunction(this)?b(a):b(this),o=q.selector||"",n=(new Date).getTime(),i=[],l=e,h="string"==typeof l,j=[].slice.call(arguments,1),k=!1;return q.each(function(){var E,N,K,z,M,m,r=b.isPlainObject(e)?b.extend(!0,{},b.fn.tab.settings,e):b.extend({},b.fn.tab.settings),D=r.className,u=r.metadata,A=r.selector,g=r.error,L="."+r.namespace,G="module-"+r.namespace,I=b(this),J={},f=!0,F=0,B=this,H=I.data(G);M={initialize:function(){M.debug("Initializing tab menu item",I),M.fix.callbacks(),M.determineTabs(),M.debug("Determining tabs",r.context,N),r.auto&&M.set.auto(),M.bind.events(),r.history&&!k&&(M.initializeHistory(),k=!0),M.instantiate()},instantiate:function(){M.verbose("Storing instance of module",M),H=M,I.data(G,M)},destroy:function(){M.debug("Destroying tabs",I),I.removeData(G).off(L)},bind:{events:function(){b.isWindow(B)||(M.debug("Attaching tab activation events to element",I),I.on("click"+L,M.event.click))}},determineTabs:function(){var s;"parent"===r.context?(0<I.closest(A.ui).length?(s=I.closest(A.ui),M.verbose("Using closest UI element as parent",s)):s=I,E=s.parent(),M.verbose("Determined parent element for creating context",E)):r.context?(E=b(r.context),M.verbose("Using selector for tab context",r.context,E)):E=b("body"),r.childrenOnly?(N=E.children(A.tabs),M.debug("Searching tab context children for tabs",E,N)):(N=E.find(A.tabs),M.debug("Searching tab context for tabs",E,N))},fix:{callbacks:function(){b.isPlainObject(e)&&(e.onTabLoad||e.onTabInit)&&(e.onTabLoad&&(e.onLoad=e.onTabLoad,delete e.onTabLoad,M.error(g.legacyLoad,e.onLoad)),e.onTabInit&&(e.onFirstLoad=e.onTabInit,delete e.onTabInit,M.error(g.legacyInit,e.onFirstLoad)),r=b.extend(!0,{},b.fn.tab.settings,e))}},initializeHistory:function(){if(M.debug("Initializing page state"),b.address===c){return M.error(g.state),!1}if("state"==r.historyType){if(M.debug("Using HTML5 to manage state"),!1===r.path){return M.error(g.path),!1}b.address.history(!0).state(r.path)}b.address.bind("change",M.event.history.change)},event:{click:function(v){var s=b(this).data(u.tab);s!==c?(r.history?(M.verbose("Updating page state",v),b.address.value(s)):(M.verbose("Changing tab",v),M.changeTab(s)),v.preventDefault()):M.debug("No tab specified")},history:{change:function(v){var s=v.pathNames.join("/")||M.get.initialPath(),w=r.templates.determineTitle(s)||!1;M.performance.display(),M.debug("History change event",s,v),m=v,s!==c&&M.changeTab(s),w&&b.address.title(w)}}},refresh:function(){K&&(M.debug("Refreshing tab",K),M.changeTab(K))},cache:{read:function(s){return s!==c&&J[s]},add:function(v,s){v=v||K,M.debug("Adding cached content for",v),J[v]=s},remove:function(s){s=s||K,M.debug("Removing cached content for",s),delete J[s]}},set:{auto:function(){var s="string"==typeof r.path?r.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";M.verbose("Setting up automatic tab retrieval from server",s),b.isPlainObject(r.apiSettings)?r.apiSettings.url=s:r.apiSettings={url:s}},loading:function(v){var s=M.get.tabElement(v);s.hasClass(D.loading)||(M.verbose("Setting loading state for",s),s.addClass(D.loading).siblings(N).removeClass(D.active+" "+D.loading),0<s.length&&r.onRequest.call(s[0],v))},state:function(s){b.address.value(s)}},changeTab:function(w){var v=a.history&&a.history.pushState&&r.ignoreFirstLoad&&f,s=r.auto||b.isPlainObject(r.apiSettings),t=s&&!v?M.utilities.pathToArray(w):M.get.defaultPathArray(w);w=M.utilities.arrayToPath(t),b.each(t,function(Q,U){var C,P,y,S,x=t.slice(0,Q+1),V=M.utilities.arrayToPath(x),O=M.is.tab(V),R=Q+1==t.length,T=M.get.tabElement(V);if(M.verbose("Looking for tab",U),O){if(M.verbose("Tab was found",U),K=V,z=M.utilities.filterArray(t,x),R?S=!0:(P=t.slice(0,Q+2),y=M.utilities.arrayToPath(P),(S=!M.is.tab(y))&&M.verbose("Tab parameters found",P)),S&&s){return v?(M.debug("Ignoring remote content on first tab load",V),f=!1,M.cache.add(w,T.html()),M.activate.all(V),r.onFirstLoad.call(T[0],V,z,m),r.onLoad.call(T[0],V,z,m)):(M.activate.navigation(V),M.fetch.content(V,w)),!1}M.debug("Opened local tab",V),M.activate.all(V),M.cache.read(V)||(M.cache.add(V,!0),M.debug("First time tab loaded calling tab init"),r.onFirstLoad.call(T[0],V,z,m)),r.onLoad.call(T[0],V,z,m)}else{if(-1!=w.search("/")||""===w){return M.error(g.missingTab,I,E,V),!1}if(V=(C=b("#"+w+', a[name="'+w+'"]')).closest("[data-tab]").data(u.tab),T=M.get.tabElement(V),C&&0<C.length&&V){return M.debug("Anchor link used, opening parent tab",T,C),T.hasClass(D.active)||setTimeout(function(){M.scrollTo(C)},0),M.activate.all(V),M.cache.read(V)||(M.cache.add(V,!0),M.debug("First time tab loaded calling tab init"),r.onFirstLoad.call(T[0],V,z,m)),r.onLoad.call(T[0],V,z,m),!1}}})},scrollTo:function(v){var s=!!(v&&0<v.length)&&v.offset().top;!1!==s&&(M.debug("Forcing scroll to an in-page link in a hidden tab",s,v),b(d).scrollTop(s))},update:{content:function(w,v,y){var s=M.get.tabElement(w),x=s[0];y=y!==c?y:r.evaluateScripts,"string"==typeof r.cacheType&&"dom"==r.cacheType.toLowerCase()&&"string"!=typeof v?s.empty().append(b(v).clone(!0)):y?(M.debug("Updating HTML and evaluating inline scripts",w,v),s.html(v)):(M.debug("Updating HTML",w,v),x.innerHTML=v)}},fetch:{content:function(x,Q){var O,w,P=M.get.tabElement(x),v={dataType:"html",encodeParameters:!1,on:"now",cache:r.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(s){"response"==r.cacheType&&M.cache.add(Q,s),M.update.content(x,s),x==K?(M.debug("Content loaded",x),M.activate.tab(x)):M.debug("Content loaded in background",x),r.onFirstLoad.call(P[0],x,z,m),r.onLoad.call(P[0],x,z,m),r.loadOnce?M.cache.add(Q,!0):"string"==typeof r.cacheType&&"dom"==r.cacheType.toLowerCase()&&0<P.children().length?setTimeout(function(){var t=P.children().clone(!0);t=t.not("script"),M.cache.add(Q,t)},0):M.cache.add(Q,P.html())},urlData:{tab:Q}},C=P.api("get request")||!1,y=C&&"pending"===C.state();Q=Q||x,w=M.cache.read(Q),r.cache&&w?(M.activate.tab(x),M.debug("Adding cached content",Q),r.loadOnce||("once"==r.evaluateScripts?M.update.content(x,w,!1):M.update.content(x,w)),r.onLoad.call(P[0],x,z,m)):y?(M.set.loading(x),M.debug("Content is already loading",Q)):b.api!==c?(O=b.extend(!0,{},r.apiSettings,v),M.debug("Retrieving remote content",Q,O),M.set.loading(x),P.api(O)):M.error(g.api)}},activate:{all:function(s){M.activate.tab(s),M.activate.navigation(s)},tab:function(w){var v=M.get.tabElement(w),x="siblings"==r.deactivate?v.siblings(N):N.not(v),s=v.hasClass(D.active);M.verbose("Showing tab content for",v),s||(v.addClass(D.active),x.removeClass(D.active+" "+D.loading),0<v.length&&r.onVisible.call(v[0],w))},navigation:function(w){var v=M.get.navElement(w),x="siblings"==r.deactivate?v.siblings(q):q.not(v),s=v.hasClass(D.active);M.verbose("Activating tab navigation for",v,w),s||(v.addClass(D.active),x.removeClass(D.active+" "+D.loading))}},deactivate:{all:function(){M.deactivate.navigation(),M.deactivate.tabs()},navigation:function(){q.removeClass(D.active)},tabs:function(){N.removeClass(D.active+" "+D.loading)}},is:{tab:function(s){return s!==c&&0<M.get.tabElement(s).length}},get:{initialPath:function(){return q.eq(0).data(u.tab)||N.eq(0).data(u.tab)},path:function(){return b.address.value()},defaultPathArray:function(s){return M.utilities.pathToArray(M.get.defaultPath(s))},defaultPath:function(v){var s=q.filter("[data-"+u.tab+'^="'+v+'/"]').eq(0).data(u.tab)||!1;if(s){if(M.debug("Found default tab",s),F<r.maxDepth){return F++,M.get.defaultPath(s)}M.error(g.recursion)}else{M.debug("No default tabs found for",v,N)}return F=0,v},navElement:function(s){return s=s||K,q.filter("[data-"+u.tab+'="'+s+'"]')},tabElement:function(w){var v,y,s,x;return w=w||K,s=M.utilities.pathToArray(w),x=M.utilities.last(s),v=N.filter("[data-"+u.tab+'="'+w+'"]'),y=N.filter("[data-"+u.tab+'="'+x+'"]'),0<v.length?v:y},tab:function(){return K}},utilities:{filterArray:function(v,s){return b.grep(v,function(t){return -1==b.inArray(t,s)})},last:function(s){return !!b.isArray(s)&&s[s.length-1]},pathToArray:function(s){return s===c&&(s=K),"string"==typeof s?s.split("/"):[s]},arrayToPath:function(s){return !!b.isArray(s)&&s.join("/")}},setting:function(v,s){if(M.debug("Changing setting",v,s),b.isPlainObject(v)){b.extend(!0,r,v)}else{if(s===c){return r[v]}b.isPlainObject(r[v])?b.extend(!0,r[v],s):r[v]=s}},internal:function(v,s){if(b.isPlainObject(v)){b.extend(!0,M,v)}else{if(s===c){return M[v]}M[v]=s}},debug:function(){!r.silent&&r.debug&&(r.performance?M.performance.log(arguments):(M.debug=Function.prototype.bind.call(console.info,console,r.name+":"),M.debug.apply(console,arguments)))},verbose:function(){!r.silent&&r.verbose&&r.debug&&(r.performance?M.performance.log(arguments):(M.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),M.verbose.apply(console,arguments)))},error:function(){r.silent||(M.error=Function.prototype.bind.call(console.error,console,r.name+":"),M.error.apply(console,arguments))},performance:{log:function(v){var s,w;r.performance&&(w=(s=(new Date).getTime())-(n||s),n=s,i.push({Name:v[0],Arguments:[].slice.call(v,1)||"",Element:B,"Execution Time":w})),clearTimeout(M.performance.timer),M.performance.timer=setTimeout(M.performance.display,500)},display:function(){var s=r.name+":",t=0;n=!1,clearTimeout(M.performance.timer),b.each(i,function(w,v){t+=v["Execution Time"]}),s+=" "+t+"ms",o&&(s+=" '"+o+"'"),(console.group!==c||console.table!==c)&&0<i.length&&(console.groupCollapsed(s),console.table?console.table(i):b.each(i,function(w,v){console.log(v.Name+": "+v["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(w,y,v){var C,s,O,x=H;return y=y||j,v=B||v,"string"==typeof w&&x!==c&&(w=w.split(/[\. ]/),C=w.length-1,b.each(w,function(Q,P){var R=Q!=C?P+w[Q+1].charAt(0).toUpperCase()+w[Q+1].slice(1):w;if(b.isPlainObject(x[R])&&Q!=C){x=x[R]}else{if(x[R]!==c){return s=x[R],!1}if(!b.isPlainObject(x[P])||Q==C){return x[P]!==c?s=x[P]:M.error(g.method,w),!1}x=x[P]}})),b.isFunction(s)?O=s.apply(v,y):s!==c&&(O=s),b.isArray(p)?p.push(O):p!==c?p=[p,O]:O!==c&&(p=O),s}},h?(H===c&&M.initialize(),M.invoke(l)):(H!==c&&H.invoke("destroy"),M.initialize())}),p!==c?p:this},b.tab=function(){b(a).tab.apply(this,arguments)},b.fn.tab.settings={name:"Tab",namespace:"tab",silent:!1,debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,deactivate:"siblings",alwaysRefresh:!1,cache:!0,loadOnce:!1,cacheType:"response",ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(g,f,h){},onLoad:function(g,f,h){},onVisible:function(g,f,h){},onRequest:function(g,f,h){},templates:{determineTitle:function(f){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(d,c,a,b){c=void 0!==c&&c.Math==Math?c:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),d.fn.transition=function(){var k,e=d(this),j=e.selector||"",f=(new Date).getTime(),i=[],o=arguments,m=o[0],l=[].slice.call(arguments,1),n="string"==typeof m;c.requestAnimationFrame||c.mozRequestAnimationFrame||c.webkitRequestAnimationFrame||c.msRequestAnimationFrame;return e.each(function(r){var z,B,A,x,h,g,w,y,v,p=d(this),q=this;(v={initialize:function(){z=v.get.settings.apply(q,o),x=z.className,A=z.error,h=z.metadata,y="."+z.namespace,w="module-"+z.namespace,B=p.data(w)||v,g=v.get.animationEndEvent(),n&&(n=v.invoke(m)),!1===n&&(v.verbose("Converted arguments into settings object",z),z.interval?v.delay(z.animate):v.animate(),v.instantiate())},instantiate:function(){v.verbose("Storing instance of module",v),B=v,p.data(w,B)},destroy:function(){v.verbose("Destroying previous module for",q),p.removeData(w)},refresh:function(){v.verbose("Refreshing display type on next animation"),delete v.displayType},forceRepaint:function(){v.verbose("Forcing element repaint");var u=p.parent(),s=p.next();0===s.length?p.detach().appendTo(u):p.detach().insertBefore(s)},repaint:function(){v.verbose("Repainting element");q.offsetWidth},delay:function(u){var s,C=v.get.animationDirection();C||(C=v.can.transition()?v.get.direction():"static"),u=u!==b?u:z.interval,s="auto"==z.reverse&&C==x.outward||1==z.reverse?(e.length-r)*z.interval:r*z.interval,v.debug("Delaying animation by",s),setTimeout(v.animate,s)},animate:function(s){if(z=s||z,!v.is.supported()){return v.error(A.support),!1}if(v.debug("Preparing animation",z.animation),v.is.animating()){if(z.queue){return !z.allowRepeats&&v.has.direction()&&v.is.occurring()&&!0!==v.queuing?v.debug("Animation is currently occurring, preventing queueing same animation",z.animation):v.queue(z.animation),!1}if(!z.allowRepeats&&v.is.occurring()){return v.debug("Animation is already occurring, will not execute repeated animation",z.animation),!1}v.debug("New animation started, completing previous early",z.animation),B.complete()}v.can.animate()?v.set.animating(z.animation):v.error(A.noAnimation,z.animation,q)},reset:function(){v.debug("Resetting animation to beginning conditions"),v.remove.animationCallbacks(),v.restore.conditions(),v.remove.animating()},queue:function(s){v.debug("Queueing animation of",s),v.queuing=!0,p.one(g+".queue"+y,function(){v.queuing=!1,v.repaint(),v.animate.apply(this,z)})},complete:function(s){v.debug("Animation complete",z.animation),v.remove.completeCallback(),v.remove.failSafe(),v.is.looping()||(v.is.outward()?(v.verbose("Animation is outward, hiding element"),v.restore.conditions(),v.hide()):v.is.inward()?(v.verbose("Animation is outward, showing element"),v.restore.conditions(),v.show()):(v.verbose("Static animation completed"),v.restore.conditions(),z.onComplete.call(q)))},force:{visible:function(){var D=p.attr("style"),C=v.get.userStyle(),F=v.get.displayType(),u=C+"display: "+F+" !important;",E=p.css("display"),s=D===b||""===D;E!==F?(v.verbose("Overriding default display to show element",F),p.attr("style",u)):s&&p.removeAttr("style")},hidden:function(){var u=p.attr("style"),s=p.css("display"),C=u===b||""===u;"none"===s||v.is.hidden()?C&&p.removeAttr("style"):(v.verbose("Overriding default display to hide element"),p.css("display","none"))}},has:{direction:function(s){var t=!1;return"string"==typeof(s=s||z.animation)&&(s=s.split(" "),d.each(s,function(C,u){u!==x.inward&&u!==x.outward||(t=!0)})),t},inlineDisplay:function(){var s=p.attr("style")||"";return d.isArray(s.match(/display.*?;/,""))}},set:{animating:function(u){var s;v.remove.completeCallback(),u=u||z.animation,s=v.get.animationClass(u),v.save.animation(s),v.force.visible(),v.remove.hidden(),v.remove.direction(),v.start.animation(s)},duration:function(u,s){((s="number"==typeof(s=s||z.duration)?s+"ms":s)||0===s)&&(v.verbose("Setting animation duration",s),p.css({"animation-duration":s}))},direction:function(s){(s=s||v.get.direction())==x.inward?v.set.inward():v.set.outward()},looping:function(){v.debug("Transition set to loop"),p.addClass(x.looping)},hidden:function(){p.addClass(x.transition).addClass(x.hidden)},inward:function(){v.debug("Setting direction to inward"),p.removeClass(x.outward).addClass(x.inward)},outward:function(){v.debug("Setting direction to outward"),p.removeClass(x.inward).addClass(x.outward)},visible:function(){p.addClass(x.transition).addClass(x.visible)}},start:{animation:function(s){s=s||v.get.animationClass(),v.debug("Starting tween",s),p.addClass(s).one(g+".complete"+y,v.complete),z.useFailSafe&&v.add.failSafe(),v.set.duration(z.duration),z.onStart.call(q)}},save:{animation:function(s){v.cache||(v.cache={}),v.cache.animation=s},displayType:function(s){"none"!==s&&p.data(h.displayType,s)},transitionExists:function(u,s){d.fn.transition.exists[u]=s,v.verbose("Saving existence of transition",u,s)}},restore:{conditions:function(){var s=v.get.currentAnimation();s&&(p.removeClass(s),v.verbose("Removing animation class",v.cache)),v.remove.duration()}},add:{failSafe:function(){var s=v.get.duration();v.timer=setTimeout(function(){p.triggerHandler(g)},s+z.failSafeDelay),v.verbose("Adding fail safe timer",v.timer)}},remove:{animating:function(){p.removeClass(x.animating)},animationCallbacks:function(){v.remove.queueCallback(),v.remove.completeCallback()},queueCallback:function(){p.off(".queue"+y)},completeCallback:function(){p.off(".complete"+y)},display:function(){p.css("display","")},direction:function(){p.removeClass(x.inward).removeClass(x.outward)},duration:function(){p.css("animation-duration","")},failSafe:function(){v.verbose("Removing fail safe timer",v.timer),v.timer&&clearTimeout(v.timer)},hidden:function(){p.removeClass(x.hidden)},visible:function(){p.removeClass(x.visible)},looping:function(){v.debug("Transitions are no longer looping"),v.is.looping()&&(v.reset(),p.removeClass(x.looping))},transition:function(){p.removeClass(x.visible).removeClass(x.hidden)}},get:{settings:function(u,s,C){return"object"==typeof u?d.extend(!0,{},d.fn.transition.settings,u):"function"==typeof C?d.extend({},d.fn.transition.settings,{animation:u,onComplete:C,duration:s}):"string"==typeof s||"number"==typeof s?d.extend({},d.fn.transition.settings,{animation:u,duration:s}):"object"==typeof s?d.extend({},d.fn.transition.settings,s,{animation:u}):"function"==typeof s?d.extend({},d.fn.transition.settings,{animation:u,onComplete:s}):d.extend({},d.fn.transition.settings,{animation:u})},animationClass:function(u){var s=u||z.animation,C=v.can.transition()&&!v.has.direction()?v.get.direction()+" ":"";return x.animating+" "+x.transition+" "+C+s},currentAnimation:function(){return !(!v.cache||v.cache.animation===b)&&v.cache.animation},currentDirection:function(){return v.is.inward()?x.inward:x.outward},direction:function(){return v.is.hidden()||!v.is.visible()?x.inward:x.outward},animationDirection:function(s){var t;return"string"==typeof(s=s||z.animation)&&(s=s.split(" "),d.each(s,function(C,u){u===x.inward?t=x.inward:u===x.outward&&(t=x.outward)})),t||!1},duration:function(s){return !1===(s=s||z.duration)&&(s=p.css("animation-duration")||0),"string"==typeof s?-1<s.indexOf("ms")?parseFloat(s):1000*parseFloat(s):s},displayType:function(s){return s=s===b||s,z.displayType?z.displayType:(s&&p.data(h.displayType)===b&&v.can.transition(!0),p.data(h.displayType))},userStyle:function(s){return(s=s||p.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(s){return d.fn.transition.exists[s]},animationStartEvent:function(){var u,s=a.createElement("div"),C={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(u in C){if(s.style[u]!==b){return C[u]}}return !1},animationEndEvent:function(){var u,s=a.createElement("div"),C={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(u in C){if(s.style[u]!==b){return C[u]}}return !1}},can:{transition:function(G){var J,D,F,C,I,u,K=z.animation,E=v.get.transitionExists(K),H=v.get.displayType(!1);if(E===b||G){if(v.verbose("Determining whether animation exists"),J=p.attr("class"),D=p.prop("tagName"),C=(F=d("<"+D+" />").addClass(J).insertAfter(p)).addClass(K).removeClass(x.inward).removeClass(x.outward).addClass(x.animating).addClass(x.transition).css("animationName"),I=F.addClass(x.inward).css("animationName"),H||(H=F.attr("class",J).removeAttr("style").removeClass(x.hidden).removeClass(x.visible).show().css("display"),v.verbose("Determining final display state",H),v.save.displayType(H)),F.remove(),C!=I){v.debug("Direction exists for animation",K),u=!0}else{if("none"==C||!C){return void v.debug("No animation defined in css",K)}v.debug("Static animation found",K,H),u=!1}v.save.transitionExists(K,u)}return E!==b?E:u},animate:function(){return v.can.transition()!==b}},is:{animating:function(){return p.hasClass(x.animating)},inward:function(){return p.hasClass(x.inward)},outward:function(){return p.hasClass(x.outward)},looping:function(){return p.hasClass(x.looping)},occurring:function(s){return s="."+(s=s||z.animation).replace(" ","."),0<p.filter(s).length},visible:function(){return p.is(":visible")},hidden:function(){return"hidden"===p.css("visibility")},supported:function(){return !1!==g}},hide:function(){v.verbose("Hiding element"),v.is.animating()&&v.reset(),q.blur(),v.remove.display(),v.remove.visible(),v.set.hidden(),v.force.hidden(),z.onHide.call(q),z.onComplete.call(q)},show:function(s){v.verbose("Showing element",s),v.remove.hidden(),v.set.visible(),v.force.visible(),z.onShow.call(q),z.onComplete.call(q)},toggle:function(){v.is.visible()?v.hide():v.show()},stop:function(){v.debug("Stopping current animation"),p.triggerHandler(g)},stopAll:function(){v.debug("Stopping all animation"),v.remove.queueCallback(),p.triggerHandler(g)},clear:{queue:function(){v.debug("Clearing animation queue"),v.remove.queueCallback()}},enable:function(){v.verbose("Starting animation"),p.removeClass(x.disabled)},disable:function(){v.debug("Stopping animation"),p.addClass(x.disabled)},setting:function(u,s){if(v.debug("Changing setting",u,s),d.isPlainObject(u)){d.extend(!0,z,u)}else{if(s===b){return z[u]}d.isPlainObject(z[u])?d.extend(!0,z[u],s):z[u]=s}},internal:function(u,s){if(d.isPlainObject(u)){d.extend(!0,v,u)}else{if(s===b){return v[u]}v[u]=s}},debug:function(){!z.silent&&z.debug&&(z.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,z.name+":"),v.debug.apply(console,arguments)))},verbose:function(){!z.silent&&z.verbose&&z.debug&&(z.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,z.name+":"),v.verbose.apply(console,arguments)))},error:function(){z.silent||(v.error=Function.prototype.bind.call(console.error,console,z.name+":"),v.error.apply(console,arguments))},performance:{log:function(u){var s,C;z.performance&&(C=(s=(new Date).getTime())-(f||s),f=s,i.push({Name:u[0],Arguments:[].slice.call(u,1)||"",Element:q,"Execution Time":C})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var s=z.name+":",t=0;f=!1,clearTimeout(v.performance.timer),d.each(i,function(C,u){t+=u["Execution Time"]}),s+=" "+t+"ms",j&&(s+=" '"+j+"'"),1<e.length&&(s+=" ("+e.length+")"),(console.group!==b||console.table!==b)&&0<i.length&&(console.groupCollapsed(s),console.table?console.table(i):d.each(i,function(C,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(C,E,u){var F,s,G,D=B;return E=E||l,u=q||u,"string"==typeof C&&D!==b&&(C=C.split(/[\. ]/),F=C.length-1,d.each(C,function(I,H){var J=I!=F?H+C[I+1].charAt(0).toUpperCase()+C[I+1].slice(1):C;if(d.isPlainObject(D[J])&&I!=F){D=D[J]}else{if(D[J]!==b){return s=D[J],!1}if(!d.isPlainObject(D[H])||I==F){return D[H]!==b&&(s=D[H]),!1}D=D[H]}})),d.isFunction(s)?G=s.apply(u,E):s!==b&&(G=s),d.isArray(k)?k.push(G):k!==b?k=[k,G]:G!==b&&(k=G),s!==b&&s}}).initialize()}),k!==b?k:this},d.fn.transition.exists={},d.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(c,b,d,a){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();c.api=c.fn.api=function(n){var f,m=c.isFunction(this)?c(b):c(this),o=m.selector||"",j=(new Date).getTime(),i=[],h=n,g="string"==typeof h,l=[].slice.call(arguments,1);return m.each(function(){var O,A,D,K,z,F,M=c.isPlainObject(n)?c.extend(!0,{},c.fn.api.settings,n):c.extend({},c.fn.api.settings),x=M.namespace,G=M.metadata,C=M.selector,w=M.error,L=M.className,J="."+x,E="module-"+x,I=c(this),B=I.closest(C.form),H=M.stateContext?c(M.stateContext):I,q=this,N=H[0],k=I.data(E);F={initialize:function(){g||F.bind.events(),F.instantiate()},instantiate:function(){F.verbose("Storing instance of module",F),k=F,I.data(E,k)},destroy:function(){F.verbose("Destroying previous module for",q),I.removeData(E).off(J)},bind:{events:function(){var p=F.get.event();p?(F.verbose("Attaching API events to element",p),I.on(p+J,F.event.trigger)):"now"==M.on&&(F.debug("Querying API endpoint immediately"),F.query())}},decode:{json:function(p){if(p!==a&&"string"==typeof p){try{p=JSON.parse(p)}catch(p){}}return p}},read:{cachedResponse:function(r){var p;if(b.Storage!==a){return p=sessionStorage.getItem(r),F.debug("Using cached response",r,p),p=F.decode.json(p)}F.error(w.noStorage)}},write:{cachedResponse:function(r,p){p&&""===p?F.debug("Response empty, not caching",p):b.Storage!==a?(c.isPlainObject(p)&&(p=JSON.stringify(p)),sessionStorage.setItem(r,p),F.verbose("Storing cached response for url",r,p)):F.error(w.noStorage)}},query:function(){if(F.is.disabled()){F.debug("Element is disabled API request aborted")}else{if(F.is.loading()){if(!M.interruptRequests){return void F.debug("Cancelling request, previous request is still pending")}F.debug("Interrupting previous request"),F.abort()}if(M.defaultData&&c.extend(!0,M.urlData,F.get.defaultData()),M.serializeForm&&(M.data=F.add.formData(M.data)),!1===(A=F.get.settings())){return F.cancelled=!0,void F.error(w.beforeSend)}if(F.cancelled=!1,(D=F.get.templatedURL())||F.is.mocked()){if((D=F.add.urlData(D))||F.is.mocked()){if(A.url=M.base+D,O=c.extend(!0,{},M,{type:M.method||M.type,data:K,url:M.base+D,beforeSend:M.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),F.debug("Querying URL",O.url),F.verbose("Using AJAX settings",O),"local"===M.cache&&F.read.cachedResponse(D)){return F.debug("Response returned from local cache"),F.request=F.create.request(),void F.request.resolveWith(N,[F.read.cachedResponse(D)])}M.throttle?M.throttleFirstRequest||F.timer?(F.debug("Throttling request",M.throttle),clearTimeout(F.timer),F.timer=setTimeout(function(){F.timer&&delete F.timer,F.debug("Sending throttled request",K,O.method),F.send.request()},M.throttle)):(F.debug("Sending request",K,O.method),F.send.request(),F.timer=setTimeout(function(){},M.throttle)):(F.debug("Sending request",K,O.method),F.send.request())}}else{F.error(w.missingURL)}}},should:{removeError:function(){return !0===M.hideError||"auto"===M.hideError&&!F.is.form()}},is:{disabled:function(){return 0<I.filter(C.disabled).length},expectingJSON:function(){return"json"===M.dataType||"jsonp"===M.dataType},form:function(){return I.is("form")||H.is("form")},mocked:function(){return M.mockResponse||M.mockResponseAsync||M.response||M.responseAsync},input:function(){return I.is("input")},loading:function(){return !!F.request&&"pending"==F.request.state()},abortedRequest:function(p){return p&&p.readyState!==a&&0===p.readyState?(F.verbose("XHR request determined to be aborted"),!0):(F.verbose("XHR request was not aborted"),!1)},validResponse:function(p){return F.is.expectingJSON()&&c.isFunction(M.successTest)?(F.debug("Checking JSON returned success",M.successTest,p),M.successTest(p)?(F.debug("Response passed success test",p),!0):(F.debug("Response failed success test",p),!1)):(F.verbose("Response is not JSON, skipping validation",M.successTest,p),!0)}},was:{cancelled:function(){return F.cancelled||!1},succesful:function(){return F.request&&"resolved"==F.request.state()},failure:function(){return F.request&&"rejected"==F.request.state()},complete:function(){return F.request&&("resolved"==F.request.state()||"rejected"==F.request.state())}},add:{urlData:function(u,p){var s,r;return u&&(s=u.match(M.regExp.required),r=u.match(M.regExp.optional),p=p||M.urlData,s&&(F.debug("Looking for required URL variables",s),c.each(s,function(P,y){var Q=-1!==y.indexOf("$")?y.substr(2,y.length-3):y.substr(1,y.length-2),v=c.isPlainObject(p)&&p[Q]!==a?p[Q]:I.data(Q)!==a?I.data(Q):H.data(Q)!==a?H.data(Q):p[Q];if(v===a){return F.error(w.requiredParameter,Q,u),u=!1}F.verbose("Found required variable",Q,v),v=M.encodeParameters?F.get.urlEncodedValue(v):v,u=u.replace(y,v)})),r&&(F.debug("Looking for optional URL variables",s),c.each(r,function(P,y){var Q=-1!==y.indexOf("$")?y.substr(3,y.length-4):y.substr(2,y.length-3),v=c.isPlainObject(p)&&p[Q]!==a?p[Q]:I.data(Q)!==a?I.data(Q):H.data(Q)!==a?H.data(Q):p[Q];u=v!==a?(F.verbose("Optional variable Found",Q,v),u.replace(y,v)):(F.verbose("Optional variable not found",Q),-1!==u.indexOf("/"+y)?u.replace("/"+y,""):u.replace(y,""))}))),u},formData:function(r){var p=c.fn.serializeObject!==a,s=p?B.serializeObject():B.serialize();return r=r||M.data,r=c.isPlainObject(r)?p?(F.debug("Extending existing data with form data",r,s),c.extend(!0,{},r,s)):(F.error(w.missingSerialize),F.debug("Cant extend data. Replacing data with form data",r,s),s):(F.debug("Adding form data",s),s)}},send:{request:function(){F.set.loading(),F.request=F.create.request(),F.is.mocked()?F.mockedXHR=F.create.mockedXHR():F.xhr=F.create.xhr(),M.onRequest.call(N,F.request,F.xhr)}},event:{trigger:function(p){F.query(),"submit"!=p.type&&"click"!=p.type||p.preventDefault()},xhr:{always:function(){},done:function(y,u,Q){var s=this,P=(new Date).getTime()-z,p=M.loadingDuration-P,v=!!c.isFunction(M.onResponse)&&(F.is.expectingJSON()?M.onResponse.call(s,c.extend(!0,{},y)):M.onResponse.call(s,y));p=0<p?p:0,v&&(F.debug("Modified API response in onResponse callback",M.onResponse,v,y),y=v),0<p&&F.debug("Response completed early delaying state change by",p),setTimeout(function(){F.is.validResponse(y)?F.request.resolveWith(s,[y,Q]):F.request.rejectWith(s,[Q,"invalid"])},p)},fail:function(u,s,y){var r=this,v=(new Date).getTime()-z,p=M.loadingDuration-v;0<(p=0<p?p:0)&&F.debug("Response completed early delaying state change by",p),setTimeout(function(){F.is.abortedRequest(u)?F.request.rejectWith(r,[u,"aborted",y]):F.request.rejectWith(r,[u,"error",s,y])},p)}},request:{done:function(r,p){F.debug("Successful API Response",r),"local"===M.cache&&D&&(F.write.cachedResponse(D,r),F.debug("Saving server response locally",F.cache)),M.onSuccess.call(N,r,I,p)},complete:function(s,r){var u,p;F.was.succesful()?(p=s,u=r):(u=s,p=F.get.responseFromXHR(u)),F.remove.loading(),M.onComplete.call(N,p,I,u)},fail:function(s,r,v){var p=F.get.responseFromXHR(s),u=F.get.errorFromRequest(p,r,v);if("aborted"==r){return F.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",r,v),M.onAbort.call(N,r,I,s),!0}"invalid"==r?F.debug("JSON did not pass success test. A server-side error has most likely occurred",p):"error"==r&&s!==a&&(F.debug("XHR produced a server error",r,v),200!=s.status&&v!==a&&""!==v&&F.error(w.statusMessage+v,O.url),M.onError.call(N,u,I,s)),M.errorDuration&&"aborted"!==r&&(F.debug("Adding error state"),F.set.error(),F.should.removeError()&&setTimeout(F.remove.error,M.errorDuration)),F.debug("API Request failed",u,s),M.onFailure.call(N,p,I,s)}}},create:{request:function(){return c.Deferred().always(F.event.request.complete).done(F.event.request.done).fail(F.event.request.fail)},mockedXHR:function(){var s,r,v,p=M.mockResponse||M.response,u=M.mockResponseAsync||M.responseAsync;return v=c.Deferred().always(F.event.xhr.complete).done(F.event.xhr.done).fail(F.event.xhr.fail),p?(r=c.isFunction(p)?(F.debug("Using specified synchronous callback",p),p.call(N,A)):(F.debug("Using settings specified response",p),p),v.resolveWith(N,[r,!1,{responseText:r}])):c.isFunction(u)&&(s=function(t){F.debug("Async callback returned response",t),t?v.resolveWith(N,[t,!1,{responseText:t}]):v.rejectWith(N,[{responseText:t},!1,!1])},F.debug("Using specified async response callback",u),u.call(N,A,s)),v},xhr:function(){var p;return p=c.ajax(O).always(F.event.xhr.always).done(F.event.xhr.done).fail(F.event.xhr.fail),F.verbose("Created server request",p,O),p}},set:{error:function(){F.verbose("Adding error state to element",H),H.addClass(L.error)},loading:function(){F.verbose("Adding loading state to element",H),H.addClass(L.loading),z=(new Date).getTime()}},remove:{error:function(){F.verbose("Removing error state from element",H),H.removeClass(L.error)},loading:function(){F.verbose("Removing loading state from element",H),H.removeClass(L.loading)}},get:{responseFromXHR:function(p){return !!c.isPlainObject(p)&&(F.is.expectingJSON()?F.decode.json(p.responseText):p.responseText)},errorFromRequest:function(r,p,s){return c.isPlainObject(r)&&r.error!==a?r.error:M.error[p]!==a?M.error[p]:s},request:function(){return F.request||!1},xhr:function(){return F.xhr||!1},settings:function(){var p;return(p=M.beforeSend.call(N,M))&&(p.success!==a&&(F.debug("Legacy success callback detected",p),F.error(w.legacyParameters,p.success),p.onSuccess=p.success),p.failure!==a&&(F.debug("Legacy failure callback detected",p),F.error(w.legacyParameters,p.failure),p.onFailure=p.failure),p.complete!==a&&(F.debug("Legacy complete callback detected",p),F.error(w.legacyParameters,p.complete),p.onComplete=p.complete)),p===a&&F.error(w.noReturnedValue),!1===p?p:p!==a?c.extend(!0,{},p):c.extend(!0,{},M)},urlEncodedValue:function(r){var p=b.decodeURIComponent(r),s=b.encodeURIComponent(r);return p!==r?(F.debug("URL value is already encoded, avoiding double encoding",r),r):(F.verbose("Encoding value using encodeURIComponent",r,s),s)},defaultData:function(){var p={};return c.isWindow(q)||(F.is.input()?p.value=I.val():F.is.form()||(p.text=I.text())),p},event:function(){return c.isWindow(q)||"now"==M.on?(F.debug("API called without element, no events attached"),!1):"auto"==M.on?I.is("input")?q.oninput!==a?"input":q.onpropertychange!==a?"propertychange":"keyup":I.is("form")?"submit":"click":M.on},templatedURL:function(p){if(p=p||I.data(G.action)||M.action||!1,D=I.data(G.url)||M.url||!1){return F.debug("Using specified url",D),D}if(p){if(F.debug("Looking up url for action",p,M.api),M.api[p]===a&&!F.is.mocked()){return void F.error(w.missingAction,M.action,M.api)}D=M.api[p]}else{F.is.form()&&(D=I.attr("action")||H.attr("action")||!1,F.debug("No url or action specified, defaulting to form action",D))}return D}},abort:function(){var p=F.get.xhr();p&&"resolved"!==p.state()&&(F.debug("Cancelling API request"),p.abort())},reset:function(){F.remove.error(),F.remove.loading()},setting:function(r,p){if(F.debug("Changing setting",r,p),c.isPlainObject(r)){c.extend(!0,M,r)}else{if(p===a){return M[r]}c.isPlainObject(M[r])?c.extend(!0,M[r],p):M[r]=p}},internal:function(r,p){if(c.isPlainObject(r)){c.extend(!0,F,r)}else{if(p===a){return F[r]}F[r]=p}},debug:function(){!M.silent&&M.debug&&(M.performance?F.performance.log(arguments):(F.debug=Function.prototype.bind.call(console.info,console,M.name+":"),F.debug.apply(console,arguments)))},verbose:function(){!M.silent&&M.verbose&&M.debug&&(M.performance?F.performance.log(arguments):(F.verbose=Function.prototype.bind.call(console.info,console,M.name+":"),F.verbose.apply(console,arguments)))},error:function(){M.silent||(F.error=Function.prototype.bind.call(console.error,console,M.name+":"),F.error.apply(console,arguments))},performance:{log:function(r){var p,s;M.performance&&(s=(p=(new Date).getTime())-(j||p),j=p,i.push({Name:r[0],Arguments:[].slice.call(r,1)||"","Execution Time":s})),clearTimeout(F.performance.timer),F.performance.timer=setTimeout(F.performance.display,500)},display:function(){var p=M.name+":",r=0;j=!1,clearTimeout(F.performance.timer),c.each(i,function(u,s){r+=s["Execution Time"]}),p+=" "+r+"ms",o&&(p+=" '"+o+"'"),(console.group!==a||console.table!==a)&&0<i.length&&(console.groupCollapsed(p),console.table?console.table(i):c.each(i,function(u,s){console.log(s.Name+": "+s["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(u,y,s){var P,p,Q,v=k;return y=y||l,s=q||s,"string"==typeof u&&v!==a&&(u=u.split(/[\. ]/),P=u.length-1,c.each(u,function(R,r){var S=R!=P?r+u[R+1].charAt(0).toUpperCase()+u[R+1].slice(1):u;if(c.isPlainObject(v[S])&&R!=P){v=v[S]}else{if(v[S]!==a){return p=v[S],!1}if(!c.isPlainObject(v[r])||R==P){return v[r]!==a?p=v[r]:F.error(w.method,u),!1}v=v[r]}})),c.isFunction(p)?Q=p.apply(s,y):p!==a&&(Q=p),c.isArray(f)?f.push(Q):f!==a?f=[f,Q]:Q!==a&&(f=Q),p}},g?(k===a&&F.initialize(),F.invoke(h)):(k!==a&&k.invoke("destroy"),F.initialize())}),f!==a?f:this},c.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2000,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(f){return f},beforeXHR:function(f){},onRequest:function(g,f){},onResponse:!1,onSuccess:function(g,f){},onComplete:function(g,f){},onFailure:function(g,f){},onError:function(g,f){},onAbort:function(g,f){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(c,b,a,d){b=void 0!==b&&b.Math==Math?b:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),c.fn.visibility=function(o){var n,m=c(this),p=m.selector||"",f=(new Date).getTime(),q=[],j=o,i="string"==typeof j,h=[].slice.call(arguments,1),g=m.length,l=0;return m.each(function(){var J,x,C,y,B=c.isPlainObject(o)?c.extend(!0,{},c.fn.visibility.settings,o):c.extend({},c.fn.visibility.settings),F=B.className,M=B.namespace,E=B.error,z=B.metadata,L="."+M,w="module-"+M,K=c(b),I=c(this),D=c(B.context),H=(I.selector,I.data(w)),A=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(r){setTimeout(r,0)},G=this,k=!1;y={initialize:function(){y.debug("Initializing",B),y.setup.cache(),y.should.trackChanges()&&("image"==B.type&&y.setup.image(),"fixed"==B.type&&y.setup.fixed(),B.observeChanges&&y.observeChanges(),y.bind.events()),y.save.position(),y.is.visible()||y.error(E.visible,I),B.initialCheck&&y.checkVisibility(),y.instantiate()},instantiate:function(){y.debug("Storing instance",y),I.data(w,y),H=y},destroy:function(){y.verbose("Destroying previous module"),C&&C.disconnect(),x&&x.disconnect(),K.off("load"+L,y.event.load).off("resize"+L,y.event.resize),D.off("scroll"+L,y.event.scroll).off("scrollchange"+L,y.event.scrollchange),"fixed"==B.type&&(y.resetFixed(),y.remove.placeholder()),I.off(L).removeData(w)},observeChanges:function(){"MutationObserver" in b&&(x=new MutationObserver(y.event.contextChanged),C=new MutationObserver(y.event.changed),x.observe(a,{childList:!0,subtree:!0}),C.observe(G,{childList:!0,subtree:!0}),y.debug("Setting up mutation observer",C))},bind:{events:function(){y.verbose("Binding visibility events to scroll and resize"),B.refreshOnLoad&&K.on("load"+L,y.event.load),K.on("resize"+L,y.event.resize),D.off("scroll"+L).on("scroll"+L,y.event.scroll).on("scrollchange"+L,y.event.scrollchange)}},event:{changed:function(r){y.verbose("DOM tree modified, updating visibility calculations"),y.timer=setTimeout(function(){y.verbose("DOM tree modified, updating sticky menu"),y.refresh()},100)},contextChanged:function(r){[].forEach.call(r,function(s){s.removedNodes&&[].forEach.call(s.removedNodes,function(t){(t==G||0<c(t).find(G).length)&&(y.debug("Element removed from DOM, tearing down events"),y.destroy())})})},resize:function(){y.debug("Window resized"),B.refreshOnResize&&A(y.refresh)},load:function(){y.debug("Page finished loading"),A(y.refresh)},scroll:function(){B.throttle?(clearTimeout(y.timer),y.timer=setTimeout(function(){D.triggerHandler("scrollchange"+L,[D.scrollTop()])},B.throttle)):A(function(){D.triggerHandler("scrollchange"+L,[D.scrollTop()])})},scrollchange:function(s,r){y.checkVisibility(r)}},precache:function(O,v){O instanceof Array||(O=[O]);for(var Q=O.length,u=0,P=[],s=a.createElement("img"),N=function(){++u>=O.length&&c.isFunction(v)&&v()};Q--;){(s=a.createElement("img")).onload=N,s.onerror=N,s.src=O[Q],P.push(s)}},enableCallbacks:function(){y.debug("Allowing callbacks to occur"),k=!1},disableCallbacks:function(){y.debug("Disabling all callbacks temporarily"),k=!0},should:{trackChanges:function(){return i?(y.debug("One time query, no need to bind events"),!1):(y.debug("Callbacks being attached"),!0)}},setup:{cache:function(){y.cache={occurred:{},screen:{},element:{}}},image:function(){var r=I.data(z.src);r&&(y.verbose("Lazy loading image",r),B.once=!0,B.observeChanges=!1,B.onOnScreen=function(){y.debug("Image on screen",G),y.precache(r,function(){y.set.image(r,function(){++l==g&&B.onAllLoaded.call(this),B.onLoad.call(this)})})})},fixed:function(){y.debug("Setting up fixed"),B.once=!1,B.observeChanges=!1,B.initialCheck=!0,B.refreshOnLoad=!0,o.transition||(B.transition=!1),y.create.placeholder(),y.debug("Added placeholder",J),B.onTopPassed=function(){y.debug("Element passed, adding fixed position",I),y.show.placeholder(),y.set.fixed(),B.transition&&c.fn.transition!==d&&I.transition(B.transition,B.duration)},B.onTopPassedReverse=function(){y.debug("Element returned to position, removing fixed",I),y.hide.placeholder(),y.remove.fixed()}}},create:{placeholder:function(){y.verbose("Creating fixed position placeholder"),J=I.clone(!1).css("display","none").addClass(F.placeholder).insertAfter(I)}},show:{placeholder:function(){y.verbose("Showing placeholder"),J.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){y.verbose("Hiding placeholder"),J.css("display","none").css("visibility","")}},set:{fixed:function(){y.verbose("Setting element to fixed position"),I.addClass(F.fixed).css({position:"fixed",top:B.offset+"px",left:"auto",zIndex:B.zIndex}),B.onFixed.call(G)},image:function(s,r){if(I.attr("src",s),B.transition){if(c.fn.transition!==d){if(I.hasClass(F.visible)){return void y.debug("Transition already occurred on this image, skipping animation")}I.transition(B.transition,B.duration,r)}else{I.fadeIn(B.duration,r)}}else{I.show()}}},is:{onScreen:function(){return y.get.elementCalculations().onScreen},offScreen:function(){return y.get.elementCalculations().offScreen},visible:function(){return !(!y.cache||!y.cache.element)&&!(0===y.cache.element.width&&0===y.cache.element.offset.top)},verticallyScrollableContext:function(){var r=D.get(0)!==b&&D.css("overflow-y");return"auto"==r||"scroll"==r},horizontallyScrollableContext:function(){var r=D.get(0)!==b&&D.css("overflow-x");return"auto"==r||"scroll"==r}},refresh:function(){y.debug("Refreshing constants (width/height)"),"fixed"==B.type&&y.resetFixed(),y.reset(),y.save.position(),B.checkOnRefresh&&y.checkVisibility(),B.onRefresh.call(G)},resetFixed:function(){y.remove.fixed(),y.remove.occurred()},reset:function(){y.verbose("Resetting all cached values"),c.isPlainObject(y.cache)&&(y.cache.screen={},y.cache.element={})},checkVisibility:function(r){y.verbose("Checking visibility of element",y.cache.element),!k&&y.is.visible()&&(y.save.scroll(r),y.save.calculations(),y.passed(),y.passingReverse(),y.topVisibleReverse(),y.bottomVisibleReverse(),y.topPassedReverse(),y.bottomPassedReverse(),y.onScreen(),y.offScreen(),y.passing(),y.topVisible(),y.bottomVisible(),y.topPassed(),y.bottomPassed(),B.onUpdate&&B.onUpdate.call(G,y.get.elementCalculations()))},passed:function(s,r){var u=y.get.elementCalculations();if(s&&r){B.onPassed[s]=r}else{if(s!==d){return y.get.pixelsPassed(s)>u.pixelsPassed}u.passing&&c.each(B.onPassed,function(N,v){u.bottomVisible||u.pixelsPassed>y.get.pixelsPassed(N)?y.execute(v,N):B.once||y.remove.occurred(v)})}},onScreen:function(u){var s=y.get.elementCalculations(),v=u||B.onOnScreen,r="onScreen";if(u&&(y.debug("Adding callback for onScreen",u),B.onOnScreen=u),s.onScreen?y.execute(v,r):B.once||y.remove.occurred(r),u!==d){return s.onOnScreen}},offScreen:function(u){var s=y.get.elementCalculations(),v=u||B.onOffScreen,r="offScreen";if(u&&(y.debug("Adding callback for offScreen",u),B.onOffScreen=u),s.offScreen?y.execute(v,r):B.once||y.remove.occurred(r),u!==d){return s.onOffScreen}},passing:function(u){var s=y.get.elementCalculations(),v=u||B.onPassing,r="passing";if(u&&(y.debug("Adding callback for passing",u),B.onPassing=u),s.passing?y.execute(v,r):B.once||y.remove.occurred(r),u!==d){return s.passing}},topVisible:function(u){var s=y.get.elementCalculations(),v=u||B.onTopVisible,r="topVisible";if(u&&(y.debug("Adding callback for top visible",u),B.onTopVisible=u),s.topVisible?y.execute(v,r):B.once||y.remove.occurred(r),u===d){return s.topVisible}},bottomVisible:function(u){var s=y.get.elementCalculations(),v=u||B.onBottomVisible,r="bottomVisible";if(u&&(y.debug("Adding callback for bottom visible",u),B.onBottomVisible=u),s.bottomVisible?y.execute(v,r):B.once||y.remove.occurred(r),u===d){return s.bottomVisible}},topPassed:function(u){var s=y.get.elementCalculations(),v=u||B.onTopPassed,r="topPassed";if(u&&(y.debug("Adding callback for top passed",u),B.onTopPassed=u),s.topPassed?y.execute(v,r):B.once||y.remove.occurred(r),u===d){return s.topPassed}},bottomPassed:function(u){var s=y.get.elementCalculations(),v=u||B.onBottomPassed,r="bottomPassed";if(u&&(y.debug("Adding callback for bottom passed",u),B.onBottomPassed=u),s.bottomPassed?y.execute(v,r):B.once||y.remove.occurred(r),u===d){return s.bottomPassed}},passingReverse:function(u){var s=y.get.elementCalculations(),v=u||B.onPassingReverse,r="passingReverse";if(u&&(y.debug("Adding callback for passing reverse",u),B.onPassingReverse=u),s.passing?B.once||y.remove.occurred(r):y.get.occurred("passing")&&y.execute(v,r),u!==d){return !s.passing}},topVisibleReverse:function(u){var s=y.get.elementCalculations(),v=u||B.onTopVisibleReverse,r="topVisibleReverse";if(u&&(y.debug("Adding callback for top visible reverse",u),B.onTopVisibleReverse=u),s.topVisible?B.once||y.remove.occurred(r):y.get.occurred("topVisible")&&y.execute(v,r),u===d){return !s.topVisible}},bottomVisibleReverse:function(u){var s=y.get.elementCalculations(),v=u||B.onBottomVisibleReverse,r="bottomVisibleReverse";if(u&&(y.debug("Adding callback for bottom visible reverse",u),B.onBottomVisibleReverse=u),s.bottomVisible?B.once||y.remove.occurred(r):y.get.occurred("bottomVisible")&&y.execute(v,r),u===d){return !s.bottomVisible}},topPassedReverse:function(u){var s=y.get.elementCalculations(),v=u||B.onTopPassedReverse,r="topPassedReverse";if(u&&(y.debug("Adding callback for top passed reverse",u),B.onTopPassedReverse=u),s.topPassed?B.once||y.remove.occurred(r):y.get.occurred("topPassed")&&y.execute(v,r),u===d){return !s.onTopPassed}},bottomPassedReverse:function(u){var s=y.get.elementCalculations(),v=u||B.onBottomPassedReverse,r="bottomPassedReverse";if(u&&(y.debug("Adding callback for bottom passed reverse",u),B.onBottomPassedReverse=u),s.bottomPassed?B.once||y.remove.occurred(r):y.get.occurred("bottomPassed")&&y.execute(v,r),u===d){return !s.bottomPassed}},execute:function(u,s){var v=y.get.elementCalculations(),r=y.get.screenCalculations();(u=u||!1)&&(B.continuous?(y.debug("Callback being called continuously",s,v),u.call(G,v,r)):y.get.occurred(s)||(y.debug("Conditions met",s,v),u.call(G,v,r))),y.save.occurred(s)},remove:{fixed:function(){y.debug("Removing fixed position"),I.removeClass(F.fixed).css({position:"",top:"",left:"",zIndex:""}),B.onUnfixed.call(G)},placeholder:function(){y.debug("Removing placeholder content"),J&&J.remove()},occurred:function(s){if(s){var r=y.cache.occurred;r[s]!==d&&!0===r[s]&&(y.debug("Callback can now be called again",s),y.cache.occurred[s]=!1)}else{y.cache.occurred={}}}},save:{calculations:function(){y.verbose("Saving all calculations necessary to determine positioning"),y.save.direction(),y.save.screenCalculations(),y.save.elementCalculations()},occurred:function(r){r&&(y.cache.occurred[r]!==d&&!0===y.cache.occurred[r]||(y.verbose("Saving callback occurred",r),y.cache.occurred[r]=!0))},scroll:function(r){r=r+B.offset||D.scrollTop()+B.offset,y.cache.scroll=r},direction:function(){var s,r=y.get.scroll(),u=y.get.lastScroll();return s=u<r&&u?"down":r<u&&u?"up":"static",y.cache.direction=s,y.cache.direction},elementPosition:function(){var s=y.cache.element,r=y.get.screenSize();return y.verbose("Saving element position"),s.fits=s.height<r.height,s.offset=I.offset(),s.width=I.outerWidth(),s.height=I.outerHeight(),y.is.verticallyScrollableContext()&&(s.offset.top+=D.scrollTop()-D.offset().top),y.is.horizontallyScrollableContext()&&(s.offset.left+=D.scrollLeft-D.offset().left),y.cache.element=s},elementCalculations:function(){var s=y.get.screenCalculations(),r=y.get.elementPosition();return B.includeMargin?(r.margin={},r.margin.top=parseInt(I.css("margin-top"),10),r.margin.bottom=parseInt(I.css("margin-bottom"),10),r.top=r.offset.top-r.margin.top,r.bottom=r.offset.top+r.height+r.margin.bottom):(r.top=r.offset.top,r.bottom=r.offset.top+r.height),r.topPassed=s.top>=r.top,r.bottomPassed=s.top>=r.bottom,r.topVisible=s.bottom>=r.top&&!r.topPassed,r.bottomVisible=s.bottom>=r.bottom&&!r.bottomPassed,r.pixelsPassed=0,r.percentagePassed=0,r.onScreen=(r.topVisible||r.passing)&&!r.bottomPassed,r.passing=r.topPassed&&!r.bottomPassed,r.offScreen=!r.onScreen,r.passing&&(r.pixelsPassed=s.top-r.top,r.percentagePassed=(s.top-r.top)/r.height),y.cache.element=r,y.verbose("Updated element calculations",r),r},screenCalculations:function(){var r=y.get.scroll();return y.save.direction(),y.cache.screen.top=r,y.cache.screen.bottom=r+y.cache.screen.height,y.cache.screen},screenSize:function(){y.verbose("Saving window position"),y.cache.screen={height:D.height()}},position:function(){y.save.screenSize(),y.save.elementPosition()}},get:{pixelsPassed:function(s){var r=y.get.elementCalculations();return -1<s.search("%")?r.height*(parseInt(s,10)/100):parseInt(s,10)},occurred:function(r){return y.cache.occurred!==d&&y.cache.occurred[r]||!1},direction:function(){return y.cache.direction===d&&y.save.direction(),y.cache.direction},elementPosition:function(){return y.cache.element===d&&y.save.elementPosition(),y.cache.element},elementCalculations:function(){return y.cache.element===d&&y.save.elementCalculations(),y.cache.element},screenCalculations:function(){return y.cache.screen===d&&y.save.screenCalculations(),y.cache.screen},screenSize:function(){return y.cache.screen===d&&y.save.screenSize(),y.cache.screen},scroll:function(){return y.cache.scroll===d&&y.save.scroll(),y.cache.scroll},lastScroll:function(){return y.cache.screen===d?(y.debug("First scroll event, no last scroll could be found"),!1):y.cache.screen.top}},setting:function(s,r){if(c.isPlainObject(s)){c.extend(!0,B,s)}else{if(r===d){return B[s]}B[s]=r}},internal:function(s,r){if(c.isPlainObject(s)){c.extend(!0,y,s)}else{if(r===d){return y[s]}y[s]=r}},debug:function(){!B.silent&&B.debug&&(B.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,B.name+":"),y.debug.apply(console,arguments)))},verbose:function(){!B.silent&&B.verbose&&B.debug&&(B.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,B.name+":"),y.verbose.apply(console,arguments)))},error:function(){B.silent||(y.error=Function.prototype.bind.call(console.error,console,B.name+":"),y.error.apply(console,arguments))},performance:{log:function(s){var r,u;B.performance&&(u=(r=(new Date).getTime())-(f||r),f=r,q.push({Name:s[0],Arguments:[].slice.call(s,1)||"",Element:G,"Execution Time":u})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,500)},display:function(){var r=B.name+":",s=0;f=!1,clearTimeout(y.performance.timer),c.each(q,function(v,u){s+=u["Execution Time"]}),r+=" "+s+"ms",p&&(r+=" '"+p+"'"),(console.group!==d||console.table!==d)&&0<q.length&&(console.groupCollapsed(r),console.table?console.table(q):c.each(q,function(v,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),q=[]}},invoke:function(v,O,u){var P,s,Q,N=H;return O=O||h,u=G||u,"string"==typeof v&&N!==d&&(v=v.split(/[\. ]/),P=v.length-1,c.each(v,function(R,r){var S=R!=P?r+v[R+1].charAt(0).toUpperCase()+v[R+1].slice(1):v;if(c.isPlainObject(N[S])&&R!=P){N=N[S]}else{if(N[S]!==d){return s=N[S],!1}if(!c.isPlainObject(N[r])||R==P){return N[r]!==d?s=N[r]:y.error(E.method,v),!1}N=N[r]}})),c.isFunction(s)?Q=s.apply(u,O):s!==d&&(Q=s),c.isArray(n)?n.push(Q):n!==d?n=[n,Q]:Q!==d&&(n=Q),s}},i?(H===d&&y.initialize(),H.save.scroll(),H.save.calculations(),y.invoke(j)):(H!==d&&H.invoke("destroy"),y.initialize())}),n!==d?n:this},c.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:b,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1000,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder",visible:"visible"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);