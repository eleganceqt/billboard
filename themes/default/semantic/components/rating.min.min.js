/*!
 * # Semantic UI 2.4.1 - Rating
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){e=(typeof e!="undefined"&&e.Math==Math)?e:(typeof self!="undefined"&&self.Math==Math)?self:Function("return this")();h.fn.rating=function(a){var c=h(this),o=c.selector||"",q=new Date().getTime(),d=[],n=arguments[0],r=(typeof n=="string"),b=[].slice.call(arguments,1),p;c.each(function(){var l=(h.isPlainObject(a))?h.extend(true,{},h.fn.rating.settings,a):h.extend({},h.fn.rating.settings),k=l.namespace,H=l.className,E=l.metadata,j=l.selector,G=l.error,m="."+k,J="module-"+k,i=this,C=h(this).data(J),F=h(this),I=F.find(j.icon),D,B;B={initialize:function(){B.verbose("Initializing rating module",l);if(I.length===0){B.setup.layout()}if(l.interactive){B.enable()}else{B.disable()}B.set.initialLoad();B.set.rating(B.get.initialRating());B.remove.initialLoad();B.instantiate()},instantiate:function(){B.verbose("Instantiating module",l);C=B;F.data(J,B)},destroy:function(){B.verbose("Destroying previous instance",C);B.remove.events();F.removeData(J)},refresh:function(){I=F.find(j.icon)},setup:{layout:function(){var t=B.get.maxRating(),s=h.fn.rating.settings.templates.icon(t);B.debug("Generating icon html dynamically");F.html(s);B.refresh()}},event:{mouseenter:function(){var s=h(this);s.nextAll().removeClass(H.selected);F.addClass(H.selected);s.addClass(H.selected).prevAll().addClass(H.selected)},mouseleave:function(){F.removeClass(H.selected);I.removeClass(H.selected)},click:function(){var s=h(this),t=B.get.rating(),u=I.index(s)+1,v=(l.clearable=="auto")?(I.length===1):l.clearable;if(v&&t==u){B.clearRating()}else{B.set.rating(u)}}},clearRating:function(){B.debug("Clearing current rating");B.set.rating(0)},bind:{events:function(){B.verbose("Binding events");F.on("mouseenter"+m,j.icon,B.event.mouseenter).on("mouseleave"+m,j.icon,B.event.mouseleave).on("click"+m,j.icon,B.event.click)}},remove:{events:function(){B.verbose("Removing events");F.off(m)},initialLoad:function(){D=false}},enable:function(){B.debug("Setting rating to interactive mode");B.bind.events();F.removeClass(H.disabled)},disable:function(){B.debug("Setting rating to read-only mode");B.remove.events();F.addClass(H.disabled)},is:{initialLoad:function(){return D}},get:{initialRating:function(){if(F.data(E.rating)!==g){F.removeData(E.rating);return F.data(E.rating)}return l.initialRating},maxRating:function(){if(F.data(E.maxRating)!==g){F.removeData(E.maxRating);return F.data(E.maxRating)}return l.maxRating},rating:function(){var s=I.filter("."+H.active).length;B.verbose("Current rating retrieved",s);return s}},set:{rating:function(u){var s=(u-1>=0)?(u-1):0,t=I.eq(s);F.removeClass(H.selected);I.removeClass(H.selected).removeClass(H.active);if(u>0){B.verbose("Setting current rating to",u);t.prevAll().addBack().addClass(H.active)}if(!B.is.initialLoad()){l.onRate.call(i,u)}},initialLoad:function(){D=true}},setting:function(t,s){B.debug("Changing setting",t,s);if(h.isPlainObject(t)){h.extend(true,l,t)}else{if(s!==g){if(h.isPlainObject(l[t])){h.extend(true,l[t],s)}else{l[t]=s}}else{return l[t]}}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(true,B,t)}else{if(s!==g){B[t]=s}else{return B[t]}}},debug:function(){if(!l.silent&&l.debug){if(l.performance){B.performance.log(arguments)}else{B.debug=Function.prototype.bind.call(console.info,console,l.name+":");B.debug.apply(console,arguments)}}},verbose:function(){if(!l.silent&&l.verbose&&l.debug){if(l.performance){B.performance.log(arguments)}else{B.verbose=Function.prototype.bind.call(console.info,console,l.name+":");B.verbose.apply(console,arguments)}}},error:function(){if(!l.silent){B.error=Function.prototype.bind.call(console.error,console,l.name+":");B.error.apply(console,arguments)}},performance:{log:function(t){var u,s,v;if(l.performance){u=new Date().getTime();v=q||u;s=u-v;q=u;d.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:i,"Execution Time":s})}clearTimeout(B.performance.timer);B.performance.timer=setTimeout(B.performance.display,500)},display:function(){var s=l.name+":",t=0;q=false;clearTimeout(B.performance.timer);h.each(d,function(v,u){t+=u["Execution Time"]});s+=" "+t+"ms";if(o){s+=" '"+o+"'"}if(c.length>1){s+=" ("+c.length+")"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(s);if(console.table){console.table(d)}else{h.each(d,function(v,u){console.log(u.Name+": "+u["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(t,x,v){var w=C,s,u,y;x=x||b;v=i||v;if(typeof t=="string"&&w!==g){t=t.split(/[\. ]/);s=t.length-1;h.each(t,function(z,A){var L=(z!=s)?A+t[z+1].charAt(0).toUpperCase()+t[z+1].slice(1):t;if(h.isPlainObject(w[L])&&(z!=s)){w=w[L]}else{if(w[L]!==g){u=w[L];return false}else{if(h.isPlainObject(w[A])&&(z!=s)){w=w[A]}else{if(w[A]!==g){u=w[A];return false}else{return false}}}}})}if(h.isFunction(u)){y=u.apply(v,x)}else{if(u!==g){y=u}}if(h.isArray(p)){p.push(y)}else{if(p!==g){p=[p,y]}else{if(y!==g){p=y}}}return u}};if(r){if(C===g){B.initialize()}B.invoke(n)}else{if(C!==g){C.invoke("destroy")}B.initialize()}});return(p!==g)?p:this};h.fn.rating.settings={name:"Rating",namespace:"rating",slent:false,debug:false,verbose:false,performance:true,initialRating:0,interactive:true,maxRating:4,clearable:"auto",fireOnInit:false,onRate:function(a){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(c){var a=1,b="";while(a<=c){b+='<i class="icon"></i>';a++}return b}}}})(jQuery,window,document);