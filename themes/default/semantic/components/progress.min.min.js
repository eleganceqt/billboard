/*!
 * # Semantic UI 2.4.1 - Progress
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(i,j,g,h){j=(typeof j!="undefined"&&j.Math==Math)?j:(typeof self!="undefined"&&self.Math==Math)?self:Function("return this")();var f=(typeof j!="undefined"&&j.Math==Math)?j:(typeof self!="undefined"&&self.Math==Math)?self:Function("return this")();i.fn.progress=function(a){var c=i(this),o=c.selector||"",q=new Date().getTime(),d=[],e=arguments[0],r=(typeof e=="string"),b=[].slice.call(arguments,1),p;c.each(function(){var l=(i.isPlainObject(a))?i.extend(true,{},i.fn.progress.settings,a):i.extend({},i.fn.progress.settings),M=l.className,G=l.metadata,R=l.namespace,P=l.selector,K=l.error,k="."+R,N="module-"+R,I=i(this),n=i(this).find(P.bar),L=i(this).find(P.progress),J=i(this).find(P.label),O=this,m=I.data(N),Q=false,H,F;F={initialize:function(){F.debug("Initializing progress bar",l);F.set.duration();F.set.transitionEvent();F.read.metadata();F.read.settings();F.instantiate()},instantiate:function(){F.verbose("Storing instance of progress",F);m=F;I.data(N,F)},destroy:function(){F.verbose("Destroying previous progress for",I);clearInterval(m.interval);F.remove.state();I.removeData(N);m=h},reset:function(){F.remove.nextValue();F.update.progress(0)},complete:function(){if(F.percent===h||F.percent<100){F.remove.progressPoll();F.set.percent(100)}},read:{metadata:function(){var s={percent:I.data(G.percent),total:I.data(G.total),value:I.data(G.value)};if(s.percent){F.debug("Current percent value set from metadata",s.percent);F.set.percent(s.percent)}if(s.total){F.debug("Total value set from metadata",s.total);F.set.total(s.total)}if(s.value){F.debug("Current value set from metadata",s.value);F.set.value(s.value);F.set.progress(s.value)}},settings:function(){if(l.total!==false){F.debug("Current total set in settings",l.total);F.set.total(l.total)}if(l.value!==false){F.debug("Current value set in settings",l.value);F.set.value(l.value);F.set.progress(F.value)}if(l.percent!==false){F.debug("Current percent set in settings",l.percent);F.set.percent(l.percent)}}},bind:{transitionEnd:function(s){var t=F.get.transitionEnd();n.one(t+k,function(u){clearTimeout(F.failSafeTimer);s.call(this,u)});F.failSafeTimer=setTimeout(function(){n.triggerHandler(t)},l.duration+l.failSafeDelay);F.verbose("Adding fail safe timer",F.timer)}},increment:function(u){var s,v,t;if(F.has.total()){v=F.get.value();u=u||1;t=v+u}else{v=F.get.percent();u=u||F.get.randomValue();t=v+u;s=100;F.debug("Incrementing percentage by",v,t)}t=F.get.normalizedValue(t);F.set.progress(t)},decrement:function(u){var t=F.get.total(),v,s;if(t){v=F.get.value();u=u||1;s=v-u;F.debug("Decrementing value by",u,v)}else{v=F.get.percent();u=u||F.get.randomValue();s=v-u;F.debug("Decrementing percentage by",u,v)}s=F.get.normalizedValue(s);F.set.progress(s)},has:{progressPoll:function(){return F.progressPoll},total:function(){return(F.get.total()!==false)}},get:{text:function(t){var u=F.value||0,v=F.total||0,w=(Q)?F.get.displayPercent():F.percent||0,s=(F.total>0)?(v-u):(100-w);t=t||"";t=t.replace("{value}",u).replace("{total}",v).replace("{left}",s).replace("{percent}",w);F.verbose("Adding variables to progress bar text",t);return t},normalizedValue:function(s){if(s<0){F.debug("Value cannot decrement below 0");return 0}if(F.has.total()){if(s>F.total){F.debug("Value cannot increment above total",F.total);return F.total}}else{if(s>100){F.debug("Value cannot increment above 100 percent");return 100}}return s},updateInterval:function(){if(l.updateInterval=="auto"){return l.duration}return l.updateInterval},randomValue:function(){F.debug("Generating random increment percentage");return Math.floor((Math.random()*l.random.max)+l.random.min)},numericValue:function(s){return(typeof s==="string")?(s.replace(/[^\d.]/g,"")!=="")?+(s.replace(/[^\d.]/g,"")):false:s},transitionEnd:function(){var u=g.createElement("element"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},s;for(s in t){if(u.style[s]!==h){return t[s]}}},displayPercent:function(){var s=n.width(),v=I.width(),t=parseInt(n.css("min-width"),10),u=(s>t)?(s/v*100):F.percent;return(l.precision>0)?Math.round(u*(10*l.precision))/(10*l.precision):Math.round(u)},percent:function(){return F.percent||0},value:function(){return F.nextValue||F.value||0},total:function(){return F.total||false}},create:{progressPoll:function(){F.progressPoll=setTimeout(function(){F.update.toNextValue();F.remove.progressPoll()},F.get.updateInterval())}},is:{complete:function(){return F.is.success()||F.is.warning()||F.is.error()},success:function(){return I.hasClass(M.success)},warning:function(){return I.hasClass(M.warning)},error:function(){return I.hasClass(M.error)},active:function(){return I.hasClass(M.active)},visible:function(){return I.is(":visible")}},remove:{progressPoll:function(){F.verbose("Removing progress poll timer");if(F.progressPoll){clearTimeout(F.progressPoll);delete F.progressPoll}},nextValue:function(){F.verbose("Removing progress value stored for next update");delete F.nextValue},state:function(){F.verbose("Removing stored state");delete F.total;delete F.percent;delete F.value},active:function(){F.verbose("Removing active state");I.removeClass(M.active)},success:function(){F.verbose("Removing success state");I.removeClass(M.success)},warning:function(){F.verbose("Removing warning state");I.removeClass(M.warning)},error:function(){F.verbose("Removing error state");I.removeClass(M.error)}},set:{barWidth:function(s){if(s>100){F.error(K.tooHigh,s)}else{if(s<0){F.error(K.tooLow,s)}else{n.css("width",s+"%");I.attr("data-percent",parseInt(s,10))}}},duration:function(s){s=s||l.duration;s=(typeof s=="number")?s+"ms":s;F.verbose("Setting progress bar transition duration",s);n.css({"transition-duration":s})},percent:function(s){s=(typeof s=="string")?+(s.replace("%","")):s;s=(l.precision>0)?Math.round(s*(10*l.precision))/(10*l.precision):Math.round(s);F.percent=s;if(!F.has.total()){F.value=(l.precision>0)?Math.round((s/100)*F.total*(10*l.precision))/(10*l.precision):Math.round((s/100)*F.total*10)/10;if(l.limitValues){F.value=(F.value>100)?100:(F.value<0)?0:F.value}}F.set.barWidth(s);F.set.labelInterval();F.set.labels();l.onChange.call(O,s,F.value,F.total)},labelInterval:function(){var s=function(){F.verbose("Bar finished animating, removing continuous label updates");clearInterval(F.interval);Q=false;F.set.labels()};clearInterval(F.interval);F.bind.transitionEnd(s);Q=true;F.interval=setInterval(function(){var t=i.contains(g.documentElement,O);if(!t){clearInterval(F.interval);Q=false}F.set.labels()},l.framerate)},labels:function(){F.verbose("Setting both bar progress and outer label text");F.set.barLabel();F.set.state()},label:function(s){s=s||"";if(s){s=F.get.text(s);F.verbose("Setting label to text",s);J.text(s)}},state:function(s){s=(s!==h)?s:F.percent;if(s===100){if(l.autoSuccess&&!(F.is.warning()||F.is.error()||F.is.success())){F.set.success();F.debug("Automatically triggering success at 100%")}else{F.verbose("Reached 100% removing active state");F.remove.active();F.remove.progressPoll()}}else{if(s>0){F.verbose("Adjusting active progress bar label",s);F.set.active()}else{F.remove.active();F.set.label(l.text.active)}}},barLabel:function(s){if(s!==h){L.text(F.get.text(s))}else{if(l.label=="ratio"&&F.total){F.verbose("Adding ratio to bar label");L.text(F.get.text(l.text.ratio))}else{if(l.label=="percent"){F.verbose("Adding percentage to bar label");L.text(F.get.text(l.text.percent))}}}},active:function(s){s=s||l.text.active;F.debug("Setting active state");if(l.showActivity&&!F.is.active()){I.addClass(M.active)}F.remove.warning();F.remove.error();F.remove.success();s=l.onLabelUpdate("active",s,F.value,F.total);if(s){F.set.label(s)}F.bind.transitionEnd(function(){l.onActive.call(O,F.value,F.total)})},success:function(s){s=s||l.text.success||l.text.active;F.debug("Setting success state");I.addClass(M.success);F.remove.active();F.remove.warning();F.remove.error();F.complete();if(l.text.success){s=l.onLabelUpdate("success",s,F.value,F.total);F.set.label(s)}else{s=l.onLabelUpdate("active",s,F.value,F.total);F.set.label(s)}F.bind.transitionEnd(function(){l.onSuccess.call(O,F.total)})},warning:function(s){s=s||l.text.warning;F.debug("Setting warning state");I.addClass(M.warning);F.remove.active();F.remove.success();F.remove.error();F.complete();s=l.onLabelUpdate("warning",s,F.value,F.total);if(s){F.set.label(s)}F.bind.transitionEnd(function(){l.onWarning.call(O,F.value,F.total)})},error:function(s){s=s||l.text.error;F.debug("Setting error state");I.addClass(M.error);F.remove.active();F.remove.success();F.remove.warning();F.complete();s=l.onLabelUpdate("error",s,F.value,F.total);if(s){F.set.label(s)}F.bind.transitionEnd(function(){l.onError.call(O,F.value,F.total)})},transitionEvent:function(){H=F.get.transitionEnd()},total:function(s){F.total=s},value:function(s){F.value=s},progress:function(s){if(!F.has.progressPoll()){F.debug("First update in progress update interval, immediately updating",s);F.update.progress(s);F.create.progressPoll()}else{F.debug("Updated within interval, setting next update to use new value",s);F.set.nextValue(s)}},nextValue:function(s){F.nextValue=s}},update:{toNextValue:function(){var s=F.nextValue;if(s){F.debug("Update interval complete using last updated value",s);F.update.progress(s);F.remove.nextValue()}},progress:function(s){var t;s=F.get.numericValue(s);if(s===false){F.error(K.nonNumeric,s)}s=F.get.normalizedValue(s);if(F.has.total()){F.set.value(s);t=(s/F.total)*100;F.debug("Calculating percent complete from total",t);F.set.percent(t)}else{t=s;F.debug("Setting value to exact percentage value",t);F.set.percent(t)}}},setting:function(t,s){F.debug("Changing setting",t,s);if(i.isPlainObject(t)){i.extend(true,l,t)}else{if(s!==h){if(i.isPlainObject(l[t])){i.extend(true,l[t],s)}else{l[t]=s}}else{return l[t]}}},internal:function(t,s){if(i.isPlainObject(t)){i.extend(true,F,t)}else{if(s!==h){F[t]=s}else{return F[t]}}},debug:function(){if(!l.silent&&l.debug){if(l.performance){F.performance.log(arguments)}else{F.debug=Function.prototype.bind.call(console.info,console,l.name+":");F.debug.apply(console,arguments)}}},verbose:function(){if(!l.silent&&l.verbose&&l.debug){if(l.performance){F.performance.log(arguments)}else{F.verbose=Function.prototype.bind.call(console.info,console,l.name+":");F.verbose.apply(console,arguments)}}},error:function(){if(!l.silent){F.error=Function.prototype.bind.call(console.error,console,l.name+":");F.error.apply(console,arguments)}},performance:{log:function(t){var u,s,v;if(l.performance){u=new Date().getTime();v=q||u;s=u-v;q=u;d.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:O,"Execution Time":s})}clearTimeout(F.performance.timer);F.performance.timer=setTimeout(F.performance.display,500)},display:function(){var s=l.name+":",t=0;q=false;clearTimeout(F.performance.timer);i.each(d,function(v,u){t+=u["Execution Time"]});s+=" "+t+"ms";if(o){s+=" '"+o+"'"}if((console.group!==h||console.table!==h)&&d.length>0){console.groupCollapsed(s);if(console.table){console.table(d)}else{i.each(d,function(v,u){console.log(u.Name+": "+u["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(t,x,v){var w=m,s,u,y;x=x||b;v=O||v;if(typeof t=="string"&&w!==h){t=t.split(/[\. ]/);s=t.length-1;i.each(t,function(z,A){var B=(z!=s)?A+t[z+1].charAt(0).toUpperCase()+t[z+1].slice(1):t;if(i.isPlainObject(w[B])&&(z!=s)){w=w[B]}else{if(w[B]!==h){u=w[B];return false}else{if(i.isPlainObject(w[A])&&(z!=s)){w=w[A]}else{if(w[A]!==h){u=w[A];return false}else{F.error(K.method,t);return false}}}}})}if(i.isFunction(u)){y=u.apply(v,x)}else{if(u!==h){y=u}}if(i.isArray(p)){p.push(y)}else{if(p!==h){p=[p,y]}else{if(y!==h){p=y}}}return u}};if(r){if(m===h){F.initialize()}F.invoke(e)}else{if(m!==h){m.invoke("destroy")}F.initialize()}});return(p!==h)?p:this};i.fn.progress.settings={name:"Progress",namespace:"progress",silent:false,debug:false,verbose:false,performance:true,random:{min:2,max:5},duration:300,updateInterval:"auto",autoSuccess:true,showActivity:true,limitValues:true,label:"percent",precision:0,framerate:(1000/30),percent:false,total:false,value:false,failSafeDelay:100,onLabelUpdate:function(b,a,c,d){return a},onChange:function(b,a,c){},onSuccess:function(a){},onActive:function(a,b){},onError:function(a,b){},onWarning:function(a,b){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:false,error:false,success:false,warning:false,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}})(jQuery,window,document);