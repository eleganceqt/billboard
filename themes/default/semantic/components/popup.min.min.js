/*!
 * # Semantic UI 2.4.1 - Popup
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){e=(typeof e!="undefined"&&e.Math==Math)?e:(typeof self!="undefined"&&self.Math==Math)?self:Function("return this")();h.fn.popup=function(a){var c=h(this),v=h(f),y=h(e),u=h("body"),s=c.selector||"",t=(true),x=new Date().getTime(),d=[],r=arguments[0],z=(typeof r=="string"),b=[].slice.call(arguments,1),w;c.each(function(){var l=(h.isPlainObject(a))?h.extend(true,{},h.fn.popup.settings,a):h.extend({},h.fn.popup.settings),m=l.selector,X=l.className,o=l.error,n=l.metadata,ac=l.namespace,Q="."+l.namespace,ab="module-"+ac,R=h(this),W=h(l.context),P=h(l.scrollContext),U=h(l.boundary),V=(l.target)?h(l.target):R,T,j,ad=0,p=false,i=false,Z=this,k=R.data(ab),q,S,Y,aa;aa={initialize:function(){aa.debug("Initializing",R);aa.createID();aa.bind.events();if(!aa.exists()&&l.preserve){aa.create()}if(l.observeChanges){aa.observeChanges()}aa.instantiate()},instantiate:function(){aa.verbose("Storing instance",aa);k=aa;R.data(ab,k)},observeChanges:function(){if("MutationObserver" in e){q=new MutationObserver(aa.event.documentChanged);q.observe(f,{childList:true,subtree:true});aa.debug("Setting up mutation observer",q)}},refresh:function(){if(l.popup){T=h(l.popup).eq(0)}else{if(l.inline){T=V.nextAll(m.popup).eq(0);l.popup=T}}if(l.popup){T.addClass(X.loading);j=aa.get.offsetParent();T.removeClass(X.loading);if(l.movePopup&&aa.has.popup()&&aa.get.offsetParent(T)[0]!==j[0]){aa.debug("Moving popup to the same offset parent as target");T.detach().appendTo(j)}}else{j=(l.inline)?aa.get.offsetParent(V):aa.has.popup()?aa.get.offsetParent(T):u}if(j.is("html")&&j[0]!==u[0]){aa.debug("Setting page as offset parent");j=u}if(aa.get.variation()){aa.set.variation()}},reposition:function(){aa.refresh();aa.set.position()},destroy:function(){aa.debug("Destroying previous module");if(q){q.disconnect()}if(T&&!l.preserve){aa.removePopup()}clearTimeout(aa.hideTimer);clearTimeout(aa.showTimer);aa.unbind.close();aa.unbind.events();R.removeData(ab)},event:{start:function(A){var B=(h.isPlainObject(l.delay))?l.delay.show:l.delay;clearTimeout(aa.hideTimer);if(!i){aa.showTimer=setTimeout(aa.show,B)}},end:function(){var A=(h.isPlainObject(l.delay))?l.delay.hide:l.delay;clearTimeout(aa.showTimer);aa.hideTimer=setTimeout(aa.hide,A)},touchstart:function(A){i=true;aa.show()},resize:function(){if(aa.is.visible()){aa.set.position()}},documentChanged:function(A){[].forEach.call(A,function(B){if(B.removedNodes){[].forEach.call(B.removedNodes,function(C){if(C==Z||h(C).find(Z).length>0){aa.debug("Element removed from DOM, tearing down events");aa.destroy()}})}})},hideGracefully:function(B){var C=h(B.target),D=h.contains(f.documentElement,B.target),A=(C.closest(m.popup).length>0);if(B&&!A&&D){aa.debug("Click occurred outside popup hiding popup");aa.hide()}else{aa.debug("Click was inside popup, keeping popup open")}}},create:function(){var C=aa.get.html(),A=aa.get.title(),B=aa.get.content();if(C||B||A){aa.debug("Creating pop-up html");if(!C){C=l.templates.popup({title:A,content:B})}T=h("<div/>").addClass(X.popup).data(n.activator,R).html(C);if(l.inline){aa.verbose("Inserting popup element inline",T);T.insertAfter(R)}else{aa.verbose("Appending popup element to body",T);T.appendTo(W)}aa.refresh();aa.set.variation();if(l.hoverable){aa.bind.popup()}l.onCreate.call(T,Z)}else{if(V.next(m.popup).length!==0){aa.verbose("Pre-existing popup found");l.inline=true;l.popup=V.next(m.popup).data(n.activator,R);aa.refresh();if(l.hoverable){aa.bind.popup()}}else{if(l.popup){h(l.popup).data(n.activator,R);aa.verbose("Used popup specified in settings");aa.refresh();if(l.hoverable){aa.bind.popup()}}else{aa.debug("No content specified skipping display",Z)}}}},createID:function(){Y=(Math.random().toString(16)+"000000000").substr(2,8);S="."+Y;aa.verbose("Creating unique id for element",Y)},toggle:function(){aa.debug("Toggling pop-up");if(aa.is.hidden()){aa.debug("Popup is hidden, showing pop-up");aa.unbind.close();aa.show()}else{aa.debug("Popup is visible, hiding pop-up");aa.hide()}},show:function(A){A=A||function(){};aa.debug("Showing pop-up",l.transition);if(aa.is.hidden()&&!(aa.is.active()&&aa.is.dropdown())){if(!aa.exists()){aa.create()}if(l.onShow.call(T,Z)===false){aa.debug("onShow callback returned false, cancelling popup animation");return}else{if(!l.preserve&&!l.popup){aa.refresh()}}if(T&&aa.set.position()){aa.save.conditions();if(l.exclusive){aa.hideAll()}aa.animate.show(A)}}},hide:function(A){A=A||function(){};if(aa.is.visible()||aa.is.animating()){if(l.onHide.call(T,Z)===false){aa.debug("onHide callback returned false, cancelling popup animation");return}aa.remove.visible();aa.unbind.close();aa.restore.conditions();aa.animate.hide(A)}},hideAll:function(){h(m.popup).filter("."+X.popupVisible).each(function(){h(this).data(n.activator).popup("hide")})},exists:function(){if(!T){return false}if(l.inline||l.popup){return(aa.has.popup())}else{return(T.closest(W).length>=1)?true:false}},removePopup:function(){if(aa.has.popup()&&!l.popup){aa.debug("Removing popup",T);T.remove();T=g;l.onRemove.call(T,Z)}},save:{conditions:function(){aa.cache={title:R.attr("title")};if(aa.cache.title){R.removeAttr("title")}aa.verbose("Saving original attributes",aa.cache.title)}},restore:{conditions:function(){if(aa.cache&&aa.cache.title){R.attr("title",aa.cache.title);aa.verbose("Restoring original attributes",aa.cache.title)}return true}},supports:{svg:function(){return(typeof SVGGraphicsElement==="undefined")}},animate:{show:function(A){A=h.isFunction(A)?A:function(){};if(l.transition&&h.fn.transition!==g&&R.transition("is supported")){aa.set.visible();T.transition({animation:l.transition+" in",queue:false,debug:l.debug,verbose:l.verbose,duration:l.duration,onComplete:function(){aa.bind.close();A.call(T,Z);l.onVisible.call(T,Z)}})}else{aa.error(o.noTransition)}},hide:function(A){A=h.isFunction(A)?A:function(){};aa.debug("Hiding pop-up");if(l.onHide.call(T,Z)===false){aa.debug("onHide callback returned false, cancelling popup animation");return}if(l.transition&&h.fn.transition!==g&&R.transition("is supported")){T.transition({animation:l.transition+" out",queue:false,duration:l.duration,debug:l.debug,verbose:l.verbose,onComplete:function(){aa.reset();A.call(T,Z);l.onHidden.call(T,Z)}})}else{aa.error(o.noTransition)}}},change:{content:function(A){T.html(A)}},get:{html:function(){R.removeData(n.html);return R.data(n.html)||l.html},title:function(){R.removeData(n.title);return R.data(n.title)||l.title},content:function(){R.removeData(n.content);return R.data(n.content)||l.content||R.attr("title")},variation:function(){R.removeData(n.variation);return R.data(n.variation)||l.variation},popup:function(){return T},popupOffset:function(){return T.offset()},calculations:function(){var C=aa.get.offsetParent(T),D=V[0],G=(U[0]==e),F=(l.inline||(l.popup&&l.movePopup))?V.position():V.offset(),E=(G)?{top:0,left:0}:U.offset(),H={},B=(G)?{top:y.scrollTop(),left:y.scrollLeft()}:{top:0,left:0},A;H={target:{element:V[0],width:V.outerWidth(),height:V.outerHeight(),top:F.top,left:F.left,margin:{}},popup:{width:T.outerWidth(),height:T.outerHeight()},parent:{width:j.outerWidth(),height:j.outerHeight()},screen:{top:E.top,left:E.left,scroll:{top:B.top,left:B.left},width:U.width(),height:U.height()}};if(C.get(0)!==j.get(0)){var I=C.offset();H.target.top-=I.top;H.target.left-=I.left;H.parent.width=C.outerWidth();H.parent.height=C.outerHeight()}if(l.setFluidWidth&&aa.is.fluid()){H.container={width:T.parent().outerWidth()};H.popup.width=H.container.width}H.target.margin.top=(l.inline)?parseInt(e.getComputedStyle(D).getPropertyValue("margin-top"),10):0;H.target.margin.left=(l.inline)?aa.is.rtl()?parseInt(e.getComputedStyle(D).getPropertyValue("margin-right"),10):parseInt(e.getComputedStyle(D).getPropertyValue("margin-left"),10):0;A=H.screen;H.boundary={top:A.top+A.scroll.top,bottom:A.top+A.scroll.top+A.height,left:A.left+A.scroll.left,right:A.left+A.scroll.left+A.width};return H},id:function(){return Y},startEvent:function(){if(l.on=="hover"){return"mouseenter"}else{if(l.on=="focus"){return"focus"}}return false},scrollEvent:function(){return"scroll"},endEvent:function(){if(l.on=="hover"){return"mouseleave"}else{if(l.on=="focus"){return"blur"}}return false},distanceFromBoundary:function(B,D){var C={},E,A;D=D||aa.get.calculations();E=D.popup;A=D.boundary;if(B){C={top:(B.top-A.top),left:(B.left-A.left),right:(A.right-(B.left+E.width)),bottom:(A.bottom-(B.top+E.height))};aa.verbose("Distance from boundaries determined",B,C)}return C},offsetParent:function(D){var A=(D!==g)?D[0]:V[0],G=A.parentNode,C=h(G);if(G){var B=(C.css("transform")==="none"),E=(C.css("position")==="static"),F=C.is("body");while(G&&!F&&E&&B){G=G.parentNode;C=h(G);B=(C.css("transform")==="none");E=(C.css("position")==="static");F=C.is("body")}}return(C&&C.length>0)?C:h()},positions:function(){return{"top left":false,"top center":false,"top right":false,"bottom left":false,"bottom center":false,"bottom right":false,"left center":false,"right center":false}},nextPosition:function(H){var I=H.split(" "),D=I[0],J=I[1],F={top:"bottom",bottom:"top",left:"right",right:"left"},A={left:"center",center:"right",right:"left"},E={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},K=(D=="top"||D=="bottom"),C=false,B=false,G=false;if(!p){aa.verbose("All available positions available");p=aa.get.positions()}aa.debug("Recording last position tried",H);p[H]=true;if(l.prefer==="opposite"){G=[F[D],J];G=G.join(" ");C=(p[G]===true);aa.debug("Trying opposite strategy",G)}if((l.prefer==="adjacent")&&K){G=[D,A[J]];G=G.join(" ");B=(p[G]===true);aa.debug("Trying adjacent strategy",G)}if(B||C){aa.debug("Using backup position",G);G=E[H]}return G}},set:{position:function(D,H){if(V.length===0||T.length===0){aa.error(o.notFound);return}var F,G,C,J,B,A,I,E;H=H||aa.get.calculations();D=D||R.data(n.position)||l.position;F=R.data(n.offset)||l.offset;G=l.distanceAway;C=H.target;J=H.popup;B=H.parent;if(aa.should.centerArrow(H)){aa.verbose("Adjusting offset to center arrow on small target element");if(D=="top left"||D=="bottom left"){F+=(C.width/2);F-=l.arrowPixelsFromEdge}if(D=="top right"||D=="bottom right"){F-=(C.width/2);F+=l.arrowPixelsFromEdge}}if(C.width===0&&C.height===0&&!aa.is.svg(C.element)){aa.debug("Popup target is hidden, no action taken");return false}if(l.inline){aa.debug("Adding margin to calculation",C.margin);if(D=="left center"||D=="right center"){F+=C.margin.top;G+=-C.margin.left}else{if(D=="top left"||D=="top center"||D=="top right"){F+=C.margin.left;G-=C.margin.top}else{F+=C.margin.left;G+=C.margin.top}}}aa.debug("Determining popup position from calculations",D,H);if(aa.is.rtl()){D=D.replace(/left|right/g,function(K){return(K=="left")?"right":"left"});aa.debug("RTL: Popup position updated",D)}if(ad==l.maxSearchDepth&&typeof l.lastResort==="string"){D=l.lastResort}switch(D){case"top left":A={top:"auto",bottom:B.height-C.top+G,left:C.left+F,right:"auto"};break;case"top center":A={bottom:B.height-C.top+G,left:C.left+(C.width/2)-(J.width/2)+F,top:"auto",right:"auto"};break;case"top right":A={bottom:B.height-C.top+G,right:B.width-C.left-C.width-F,top:"auto",left:"auto"};break;case"left center":A={top:C.top+(C.height/2)-(J.height/2)+F,right:B.width-C.left+G,left:"auto",bottom:"auto"};break;case"right center":A={top:C.top+(C.height/2)-(J.height/2)+F,left:C.left+C.width+G,bottom:"auto",right:"auto"};break;case"bottom left":A={top:C.top+C.height+G,left:C.left+F,bottom:"auto",right:"auto"};break;case"bottom center":A={top:C.top+C.height+G,left:C.left+(C.width/2)-(J.width/2)+F,bottom:"auto",right:"auto"};break;case"bottom right":A={top:C.top+C.height+G,right:B.width-C.left-C.width-F,left:"auto",bottom:"auto"};break}if(A===g){aa.error(o.invalidPosition,D)}aa.debug("Calculated popup positioning values",A);T.css(A).removeClass(X.position).addClass(D).addClass(X.loading);I=aa.get.popupOffset();E=aa.get.distanceFromBoundary(I,H);if(aa.is.offstage(E,D)){aa.debug("Position is outside viewport",D);if(ad<l.maxSearchDepth){ad++;D=aa.get.nextPosition(D);aa.debug("Trying new position",D);return(T)?aa.set.position(D,H):false}else{if(l.lastResort){aa.debug("No position found, showing with last position")}else{aa.debug("Popup could not find a position to display",T);aa.error(o.cannotPlace,Z);aa.remove.attempts();aa.remove.loading();aa.reset();l.onUnplaceable.call(T,Z);return false}}}aa.debug("Position is on stage",D);aa.remove.attempts();aa.remove.loading();if(l.setFluidWidth&&aa.is.fluid()){aa.set.fluidWidth(H)}return true},fluidWidth:function(A){A=A||aa.get.calculations();aa.debug("Automatically setting element width to parent width",A.parent.width);T.css("width",A.container.width)},variation:function(A){A=A||aa.get.variation();if(A&&aa.has.popup()){aa.verbose("Adding variation to popup",A);T.addClass(A)}},visible:function(){R.addClass(X.visible)}},remove:{loading:function(){T.removeClass(X.loading)},variation:function(A){A=A||aa.get.variation();if(A){aa.verbose("Removing variation",A);T.removeClass(A)}},visible:function(){R.removeClass(X.visible)},attempts:function(){aa.verbose("Resetting all searched positions");ad=0;p=false}},bind:{events:function(){aa.debug("Binding popup events to module");if(l.on=="click"){R.on("click"+Q,aa.toggle)}if(l.on=="hover"&&t){R.on("touchstart"+Q,aa.event.touchstart)}if(aa.get.startEvent()){R.on(aa.get.startEvent()+Q,aa.event.start).on(aa.get.endEvent()+Q,aa.event.end)}if(l.target){aa.debug("Target set to element",V)}y.on("resize"+S,aa.event.resize)},popup:function(){aa.verbose("Allowing hover events on popup to prevent closing");if(T&&aa.has.popup()){T.on("mouseenter"+Q,aa.event.start).on("mouseleave"+Q,aa.event.end)}},close:function(){if(l.hideOnScroll===true||(l.hideOnScroll=="auto"&&l.on!="click")){aa.bind.closeOnScroll()}if(aa.is.closable()){aa.bind.clickaway()}else{if(l.on=="hover"&&i){aa.bind.touchClose()}}},closeOnScroll:function(){aa.verbose("Binding scroll close event to document");P.one(aa.get.scrollEvent()+S,aa.event.hideGracefully)},touchClose:function(){aa.verbose("Binding popup touchclose event to document");v.on("touchstart"+S,function(A){aa.verbose("Touched away from popup");aa.event.hideGracefully.call(Z,A)})},clickaway:function(){aa.verbose("Binding popup close event to document");v.on("click"+S,function(A){aa.verbose("Clicked away from popup");aa.event.hideGracefully.call(Z,A)})}},unbind:{events:function(){y.off(S);R.off(Q)},close:function(){v.off(S);P.off(S)}},has:{popup:function(){return(T&&T.length>0)}},should:{centerArrow:function(A){return !aa.is.basic()&&A.target.width<=(l.arrowPixelsFromEdge*2)}},is:{closable:function(){if(l.closable=="auto"){if(l.on=="hover"){return false}return true}return l.closable},offstage:function(A,C){var B=[];h.each(A,function(E,D){if(D<-l.jitter){aa.debug("Position exceeds allowable distance from edge",E,D,C);B.push(E)}});if(B.length>0){return true}else{return false}},svg:function(A){return aa.supports.svg()&&(A instanceof SVGGraphicsElement)},basic:function(){return R.hasClass(X.basic)},active:function(){return R.hasClass(X.active)},animating:function(){return(T!==g&&T.hasClass(X.animating))},fluid:function(){return(T!==g&&T.hasClass(X.fluid))},visible:function(){return(T!==g&&T.hasClass(X.popupVisible))},dropdown:function(){return R.hasClass(X.dropdown)},hidden:function(){return !aa.is.visible()},rtl:function(){return R.css("direction")=="rtl"}},reset:function(){aa.remove.visible();if(l.preserve){if(h.fn.transition!==g){T.transition("remove transition")}}else{aa.removePopup()}},setting:function(B,A){if(h.isPlainObject(B)){h.extend(true,l,B)}else{if(A!==g){l[B]=A}else{return l[B]}}},internal:function(B,A){if(h.isPlainObject(B)){h.extend(true,aa,B)}else{if(A!==g){aa[B]=A}else{return aa[B]}}},debug:function(){if(!l.silent&&l.debug){if(l.performance){aa.performance.log(arguments)}else{aa.debug=Function.prototype.bind.call(console.info,console,l.name+":");aa.debug.apply(console,arguments)}}},verbose:function(){if(!l.silent&&l.verbose&&l.debug){if(l.performance){aa.performance.log(arguments)}else{aa.verbose=Function.prototype.bind.call(console.info,console,l.name+":");aa.verbose.apply(console,arguments)}}},error:function(){if(!l.silent){aa.error=Function.prototype.bind.call(console.error,console,l.name+":");aa.error.apply(console,arguments)}},performance:{log:function(B){var C,A,D;if(l.performance){C=new Date().getTime();D=x||C;A=C-D;x=C;d.push({Name:B[0],Arguments:[].slice.call(B,1)||"",Element:Z,"Execution Time":A})}clearTimeout(aa.performance.timer);aa.performance.timer=setTimeout(aa.performance.display,500)},display:function(){var A=l.name+":",B=0;x=false;clearTimeout(aa.performance.timer);h.each(d,function(D,C){B+=C["Execution Time"]});A+=" "+B+"ms";if(s){A+=" '"+s+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(A);if(console.table){console.table(d)}else{h.each(d,function(D,C){console.log(C.Name+": "+C["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(B,F,D){var E=k,A,C,G;F=F||b;D=Z||D;if(typeof B=="string"&&E!==g){B=B.split(/[\. ]/);A=B.length-1;h.each(B,function(I,J){var H=(I!=A)?J+B[I+1].charAt(0).toUpperCase()+B[I+1].slice(1):B;if(h.isPlainObject(E[H])&&(I!=A)){E=E[H]}else{if(E[H]!==g){C=E[H];return false}else{if(h.isPlainObject(E[J])&&(I!=A)){E=E[J]}else{if(E[J]!==g){C=E[J];return false}else{return false}}}}})}if(h.isFunction(C)){G=C.apply(D,F)}else{if(C!==g){G=C}}if(h.isArray(w)){w.push(G)}else{if(w!==g){w=[w,G]}else{if(G!==g){w=G}}}return C}};if(z){if(k===g){aa.initialize()}aa.invoke(r)}else{if(k!==g){k.invoke("destroy")}aa.initialize()}});return(w!==g)?w:this};h.fn.popup.settings={name:"Popup",silent:false,debug:false,verbose:false,performance:true,namespace:"popup",observeChanges:true,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",boundary:e,addTouchEvents:true,position:"top left",variation:"",movePopup:true,target:false,popup:false,inline:false,preserve:false,hoverable:false,content:false,html:false,title:false,closable:true,hideOnScroll:"auto",exclusive:false,context:"body",scrollContext:e,prefer:"opposite",lastResort:false,arrowPixelsFromEdge:20,delay:{show:50,hide:70},setFluidWidth:true,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",basic:"basic",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible",popupVisible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(d){var b=/[&<>"'`]/g,a=/[&<>"'`]/,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=function(i){return c[i]};if(a.test(d)){return d.replace(b,j)}return d},popup:function(a){var c="",b=h.fn.popup.settings.templates.escape;if(typeof a!==g){if(typeof a.title!==g&&a.title){a.title=b(a.title);c+='<div class="header">'+a.title+"</div>"}if(typeof a.content!==g&&a.content){a.content=b(a.content);c+='<div class="content">'+a.content+"</div>"}}return c}}}})(jQuery,window,document);