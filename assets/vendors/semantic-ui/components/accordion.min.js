/*!
 * # Fomantic-UI - Accordion
 * http://github.com/fomantic/Fomantic-UI/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(c,b,a,d){c.isFunction=c.isFunction||function(e){return typeof e==="function"&&typeof e.nodeType!=="number"};b=(typeof b!="undefined"&&b.Math==Math)?b:(typeof self!="undefined"&&self.Math==Math)?self:Function("return this")();c.fn.accordion=function(f){var k=c(this),j=new Date().getTime(),l=[],h=arguments[0],e=(typeof h=="string"),g=[].slice.call(arguments,1),i;k.each(function(){var o=(c.isPlainObject(f))?c.extend(true,{},c.fn.accordion.settings,f):c.extend({},c.fn.accordion.settings),v=o.className,p=o.namespace,q=o.selector,w=o.error,A="."+p,s="module-"+p,u=k.selector||"",y=c(this),x=y.find(q.title),m=y.find(q.content),r=this,z=y.data(s),t,n;n={initialize:function(){n.debug("Initializing",y);n.bind.events();if(o.observeChanges){n.observeChanges()}n.instantiate()},instantiate:function(){z=n;y.data(s,n)},destroy:function(){n.debug("Destroying previous instance",y);y.off(A).removeData(s)},refresh:function(){x=y.find(q.title);m=y.find(q.content)},observeChanges:function(){if("MutationObserver" in b){t=new MutationObserver(function(B){n.debug("DOM tree modified, updating selector cache");n.refresh()});t.observe(r,{childList:true,subtree:true});n.debug("Setting up mutation observer",t)}},bind:{events:function(){n.debug("Binding delegated events");y.on(o.on+A,q.trigger,n.event.click)}},event:{click:function(){n.toggle.call(this)}},toggle:function(H){var B=(H!==d)?(typeof H==="number")?x.eq(H):c(H).closest(q.title):c(this).closest(q.title),C=B.next(m),G=C.hasClass(v.animating),F=C.hasClass(v.active),E=(F&&!G),D=(!F&&G);n.debug("Toggling visibility of content",B);if(E||D){if(o.collapsible){n.close.call(B)}else{n.debug("Cannot close accordion content collapsing is disabled")}}else{n.open.call(B)}},open:function(G){var B=(G!==d)?(typeof G==="number")?x.eq(G):c(G).closest(q.title):c(this).closest(q.title),C=B.next(m),F=C.hasClass(v.animating),E=C.hasClass(v.active),D=(E||F);if(D){n.debug("Accordion already open, skipping",C);return}n.debug("Opening accordion content",B);o.onOpening.call(C);o.onChanging.call(C);if(o.exclusive){n.closeOthers.call(B)}B.addClass(v.active);C.stop(true,true).addClass(v.animating);if(o.animateChildren){if(c.fn.transition!==d&&y.transition("is supported")){C.children().transition({animation:"fade in",queue:false,useFailSafe:true,debug:o.debug,verbose:o.verbose,duration:o.duration,skipInlineHidden:true,onComplete:function(){C.children().removeClass(v.transition)}})}else{C.children().stop(true,true).animate({opacity:1},o.duration,n.resetOpacity)}}C.slideDown(o.duration,o.easing,function(){C.removeClass(v.animating).addClass(v.active);n.reset.display.call(this);o.onOpen.call(this);o.onChange.call(this)})},close:function(G){var B=(G!==d)?(typeof G==="number")?x.eq(G):c(G).closest(q.title):c(this).closest(q.title),C=B.next(m),F=C.hasClass(v.animating),E=C.hasClass(v.active),D=(!E&&F),H=(E&&F);if((E||D)&&!H){n.debug("Closing accordion content",C);o.onClosing.call(C);o.onChanging.call(C);B.removeClass(v.active);C.stop(true,true).addClass(v.animating);if(o.animateChildren){if(c.fn.transition!==d&&y.transition("is supported")){C.children().transition({animation:"fade out",queue:false,useFailSafe:true,debug:o.debug,verbose:o.verbose,duration:o.duration,skipInlineHidden:true})}else{C.children().stop(true,true).animate({opacity:0},o.duration,n.resetOpacity)}}C.slideUp(o.duration,o.easing,function(){C.removeClass(v.animating).removeClass(v.active);n.reset.display.call(this);o.onClose.call(this);o.onChange.call(this)})}},closeOthers:function(F){var J=(F!==d)?x.eq(F):c(this).closest(q.title),B=J.parents(q.content).prev(q.title),G=J.closest(q.accordion),D=q.title+"."+v.active+":visible",E=q.content+"."+v.active+":visible",I,C,H;if(o.closeNested){I=G.find(D).not(B);H=I.next(m)}else{I=G.find(D).not(B);C=G.find(E).find(D).not(B);I=I.not(C);H=I.next(m)}if((I.length>0)){n.debug("Exclusive enabled, closing other content",I);I.removeClass(v.active);H.removeClass(v.animating).stop(true,true);if(o.animateChildren){if(c.fn.transition!==d&&y.transition("is supported")){H.children().transition({animation:"fade out",useFailSafe:true,debug:o.debug,verbose:o.verbose,duration:o.duration,skipInlineHidden:true})}else{H.children().stop(true,true).animate({opacity:0},o.duration,n.resetOpacity)}}H.slideUp(o.duration,o.easing,function(){c(this).removeClass(v.active);n.reset.display.call(this)})}},reset:{display:function(){n.verbose("Removing inline display from element",this);c(this).css("display","");if(c(this).attr("style")===""){c(this).attr("style","").removeAttr("style")}},opacity:function(){n.verbose("Removing inline opacity from element",this);c(this).css("opacity","");if(c(this).attr("style")===""){c(this).attr("style","").removeAttr("style")}}},setting:function(B,C){n.debug("Changing setting",B,C);if(c.isPlainObject(B)){c.extend(true,o,B)}else{if(C!==d){if(c.isPlainObject(o[B])){c.extend(true,o[B],C)}else{o[B]=C}}else{return o[B]}}},internal:function(B,C){n.debug("Changing internal",B,C);if(C!==d){if(c.isPlainObject(B)){c.extend(true,n,B)}else{n[B]=C}}else{return n[B]}},debug:function(){if(!o.silent&&o.debug){if(o.performance){n.performance.log(arguments)}else{n.debug=Function.prototype.bind.call(console.info,console,o.name+":");n.debug.apply(console,arguments)}}},verbose:function(){if(!o.silent&&o.verbose&&o.debug){if(o.performance){n.performance.log(arguments)}else{n.verbose=Function.prototype.bind.call(console.info,console,o.name+":");n.verbose.apply(console,arguments)}}},error:function(){if(!o.silent){n.error=Function.prototype.bind.call(console.error,console,o.name+":");n.error.apply(console,arguments)}},performance:{log:function(D){var C,E,B;if(o.performance){C=new Date().getTime();B=j||C;E=C-B;j=C;l.push({Name:D[0],Arguments:[].slice.call(D,1)||"",Element:r,"Execution Time":E})}clearTimeout(n.performance.timer);n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var C=o.name+":",B=0;j=false;clearTimeout(n.performance.timer);c.each(l,function(D,E){B+=E["Execution Time"]});C+=" "+B+"ms";if(u){C+=" '"+u+"'"}if((console.group!==d||console.table!==d)&&l.length>0){console.groupCollapsed(C);if(console.table){console.table(l)}else{c.each(l,function(D,E){console.log(E.Name+": "+E["Execution Time"]+"ms")})}console.groupEnd()}l=[]}},invoke:function(G,C,E){var D=z,H,F,B;C=C||g;E=r||E;if(typeof G=="string"&&D!==d){G=G.split(/[\. ]/);H=G.length-1;c.each(G,function(K,J){var I=(K!=H)?J+G[K+1].charAt(0).toUpperCase()+G[K+1].slice(1):G;if(c.isPlainObject(D[I])&&(K!=H)){D=D[I]}else{if(D[I]!==d){F=D[I];return false}else{if(c.isPlainObject(D[J])&&(K!=H)){D=D[J]}else{if(D[J]!==d){F=D[J];return false}else{n.error(w.method,G);return false}}}}})}if(c.isFunction(F)){B=F.apply(E,C)}else{if(F!==d){B=F}}if(Array.isArray(i)){i.push(B)}else{if(i!==d){i=[i,B]}else{if(B!==d){i=B}}}return F}};if(e){if(z===d){n.initialize()}n.invoke(h)}else{if(z!==d){z.invoke("destroy")}n.initialize()}});return(i!==d)?i:this};c.fn.accordion.settings={name:"Accordion",namespace:"accordion",silent:false,debug:false,verbose:false,performance:true,on:"click",observeChanges:true,exclusive:true,collapsible:true,closeNested:false,animateChildren:true,duration:350,easing:"easeOutQuad",onOpening:function(){},onClosing:function(){},onChanging:function(){},onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating",transition:"transition"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}};c.extend(c.easing,{easeOutQuad:function(f,g,e,i,h){return -i*(g/=h)*(g-2)+e}})})(jQuery,window,document);