/*!
 * # Fomantic-UI - Accordion
 * http://github.com/fomantic/Fomantic-UI/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.isFunction=h.isFunction||function(a){return typeof a==="function"&&typeof a.nodeType!=="number"};e=(typeof e!="undefined"&&e.Math==Math)?e:(typeof self!="undefined"&&self.Math==Math)?self:Function("return this")();h.fn.accordion=function(o){var b=h(this),c=new Date().getTime(),a=[],m=arguments[0],p=(typeof m=="string"),n=[].slice.call(arguments,1),d;b.each(function(){var l=(h.isPlainObject(o))?h.extend(true,{},h.fn.accordion.settings,o):h.extend({},h.fn.accordion.settings),I=l.className,k=l.namespace,j=l.selector,H=l.error,B="."+k,L="module-"+k,J=b.selector||"",F=h(this),G=F.find(j.title),D=F.find(j.content),i=this,E=F.data(L),K,C;C={initialize:function(){C.debug("Initializing",F);C.bind.events();if(l.observeChanges){C.observeChanges()}C.instantiate()},instantiate:function(){E=C;F.data(L,C)},destroy:function(){C.debug("Destroying previous instance",F);F.off(B).removeData(L)},refresh:function(){G=F.find(j.title);D=F.find(j.content)},observeChanges:function(){if("MutationObserver" in e){K=new MutationObserver(function(q){C.debug("DOM tree modified, updating selector cache");C.refresh()});K.observe(i,{childList:true,subtree:true});C.debug("Setting up mutation observer",K)}},bind:{events:function(){C.debug("Binding delegated events");F.on(l.on+B,j.trigger,C.event.click)}},event:{click:function(){C.toggle.call(this)}},toggle:function(q){var w=(q!==g)?(typeof q==="number")?G.eq(q):h(q).closest(j.title):h(this).closest(j.title),v=w.next(D),r=v.hasClass(I.animating),s=v.hasClass(I.active),t=(s&&!r),u=(!s&&r);C.debug("Toggling visibility of content",w);if(t||u){if(l.collapsible){C.close.call(w)}else{C.debug("Cannot close accordion content collapsing is disabled")}}else{C.open.call(w)}},open:function(q){var v=(q!==g)?(typeof q==="number")?G.eq(q):h(q).closest(j.title):h(this).closest(j.title),u=v.next(D),r=u.hasClass(I.animating),s=u.hasClass(I.active),t=(s||r);if(t){C.debug("Accordion already open, skipping",u);return}C.debug("Opening accordion content",v);l.onOpening.call(u);l.onChanging.call(u);if(l.exclusive){C.closeOthers.call(v)}v.addClass(I.active);u.stop(true,true).addClass(I.animating);if(l.animateChildren){if(h.fn.transition!==g&&F.transition("is supported")){u.children().transition({animation:"fade in",queue:false,useFailSafe:true,debug:l.debug,verbose:l.verbose,duration:l.duration,skipInlineHidden:true,onComplete:function(){u.children().removeClass(I.transition)}})}else{u.children().stop(true,true).animate({opacity:1},l.duration,C.resetOpacity)}}u.slideDown(l.duration,l.easing,function(){u.removeClass(I.animating).addClass(I.active);C.reset.display.call(this);l.onOpen.call(this);l.onChange.call(this)})},close:function(r){var w=(r!==g)?(typeof r==="number")?G.eq(r):h(r).closest(j.title):h(this).closest(j.title),v=w.next(D),s=v.hasClass(I.animating),t=v.hasClass(I.active),u=(!t&&s),q=(t&&s);if((t||u)&&!q){C.debug("Closing accordion content",v);l.onClosing.call(v);l.onChanging.call(v);w.removeClass(I.active);v.stop(true,true).addClass(I.animating);if(l.animateChildren){if(h.fn.transition!==g&&F.transition("is supported")){v.children().transition({animation:"fade out",queue:false,useFailSafe:true,debug:l.debug,verbose:l.verbose,duration:l.duration,skipInlineHidden:true})}else{v.children().stop(true,true).animate({opacity:0},l.duration,C.resetOpacity)}}v.slideUp(l.duration,l.easing,function(){v.removeClass(I.animating).removeClass(I.active);C.reset.display.call(this);l.onClose.call(this);l.onChange.call(this)})}},closeOthers:function(x){var t=(x!==g)?G.eq(x):h(this).closest(j.title),s=t.parents(j.content).prev(j.title),w=t.closest(j.accordion),q=j.title+"."+I.active+":visible",y=j.content+"."+I.active+":visible",u,r,v;if(l.closeNested){u=w.find(q).not(s);v=u.next(D)}else{u=w.find(q).not(s);r=w.find(y).find(q).not(s);u=u.not(r);v=u.next(D)}if((u.length>0)){C.debug("Exclusive enabled, closing other content",u);u.removeClass(I.active);v.removeClass(I.animating).stop(true,true);if(l.animateChildren){if(h.fn.transition!==g&&F.transition("is supported")){v.children().transition({animation:"fade out",useFailSafe:true,debug:l.debug,verbose:l.verbose,duration:l.duration,skipInlineHidden:true})}else{v.children().stop(true,true).animate({opacity:0},l.duration,C.resetOpacity)}}v.slideUp(l.duration,l.easing,function(){h(this).removeClass(I.active);C.reset.display.call(this)})}},reset:{display:function(){C.verbose("Removing inline display from element",this);h(this).css("display","");if(h(this).attr("style")===""){h(this).attr("style","").removeAttr("style")}},opacity:function(){C.verbose("Removing inline opacity from element",this);h(this).css("opacity","");if(h(this).attr("style")===""){h(this).attr("style","").removeAttr("style")}}},setting:function(r,q){C.debug("Changing setting",r,q);if(h.isPlainObject(r)){h.extend(true,l,r)}else{if(q!==g){if(h.isPlainObject(l[r])){h.extend(true,l[r],q)}else{l[r]=q}}else{return l[r]}}},internal:function(r,q){C.debug("Changing internal",r,q);if(q!==g){if(h.isPlainObject(r)){h.extend(true,C,r)}else{C[r]=q}}else{return C[r]}},debug:function(){if(!l.silent&&l.debug){if(l.performance){C.performance.log(arguments)}else{C.debug=Function.prototype.bind.call(console.info,console,l.name+":");C.debug.apply(console,arguments)}}},verbose:function(){if(!l.silent&&l.verbose&&l.debug){if(l.performance){C.performance.log(arguments)}else{C.verbose=Function.prototype.bind.call(console.info,console,l.name+":");C.verbose.apply(console,arguments)}}},error:function(){if(!l.silent){C.error=Function.prototype.bind.call(console.error,console,l.name+":");C.error.apply(console,arguments)}},performance:{log:function(r){var s,q,t;if(l.performance){s=new Date().getTime();t=c||s;q=s-t;c=s;a.push({Name:r[0],Arguments:[].slice.call(r,1)||"",Element:i,"Execution Time":q})}clearTimeout(C.performance.timer);C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var q=l.name+":",r=0;c=false;clearTimeout(C.performance.timer);h.each(a,function(t,s){r+=s["Execution Time"]});q+=" "+r+"ms";if(J){q+=" '"+J+"'"}if((console.group!==g||console.table!==g)&&a.length>0){console.groupCollapsed(q);if(console.table){console.table(a)}else{h.each(a,function(t,s){console.log(s.Name+": "+s["Execution Time"]+"ms")})}console.groupEnd()}a=[]}},invoke:function(r,v,t){var u=E,q,s,w;v=v||n;t=i||t;if(typeof r=="string"&&u!==g){r=r.split(/[\. ]/);q=r.length-1;h.each(r,function(x,y){var z=(x!=q)?y+r[x+1].charAt(0).toUpperCase()+r[x+1].slice(1):r;if(h.isPlainObject(u[z])&&(x!=q)){u=u[z]}else{if(u[z]!==g){s=u[z];return false}else{if(h.isPlainObject(u[y])&&(x!=q)){u=u[y]}else{if(u[y]!==g){s=u[y];return false}else{C.error(H.method,r);return false}}}}})}if(h.isFunction(s)){w=s.apply(t,v)}else{if(s!==g){w=s}}if(Array.isArray(d)){d.push(w)}else{if(d!==g){d=[d,w]}else{if(w!==g){d=w}}}return s}};if(p){if(E===g){C.initialize()}C.invoke(m)}else{if(E!==g){E.invoke("destroy")}C.initialize()}});return(d!==g)?d:this};h.fn.accordion.settings={name:"Accordion",namespace:"accordion",silent:false,debug:false,verbose:false,performance:true,on:"click",observeChanges:true,exclusive:true,collapsible:true,closeNested:false,animateChildren:true,duration:350,easing:"easeOutQuad",onOpening:function(){},onClosing:function(){},onChanging:function(){},onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating",transition:"transition"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}};h.extend(h.easing,{easeOutQuad:function(d,c,j,a,b){return -a*(c/=b)*(c-2)+j}})})(jQuery,window,document);