/*!
 * # Fomantic-UI - Shape
 * http://github.com/fomantic/Fomantic-UI/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.isFunction=h.isFunction||function(a){return typeof a==="function"&&typeof a.nodeType!=="number"};e=(typeof e!="undefined"&&e.Math==Math)?e:(typeof self!="undefined"&&self.Math==Math)?self:Function("return this")();h.fn.shape=function(a){var c=h(this),q=new Date().getTime(),d=[],n=arguments[0],r=(typeof n=="string"),b=[].slice.call(arguments,1),o=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(i){setTimeout(i,0)},p;c.each(function(){var R=c.selector||"",K=(h.isPlainObject(a))?h.extend(true,{},h.fn.shape.settings,a):h.extend({},h.fn.shape.settings),k=K.namespace,M=K.selector,O=K.error,N=K.className,i="."+k,j="module-"+k,I=h(this),l=I.find(">"+M.sides),H=l.find(">"+M.side),m=false,L,G,P=this,J=I.data(j),Q;Q={initialize:function(){Q.verbose("Initializing module for",P);Q.set.defaultSide();Q.instantiate()},instantiate:function(){Q.verbose("Storing instance of module",Q);J=Q;I.data(j,J)},destroy:function(){Q.verbose("Destroying previous module for",P);I.removeData(j).off(i)},refresh:function(){Q.verbose("Refreshing selector cache for",P);I=h(P);l=h(this).find(M.sides);H=h(this).find(M.side)},repaint:function(){Q.verbose("Forcing repaint event");var s=l[0]||f.createElement("div"),t=s.offsetWidth},animate:function(t,s){Q.verbose("Animating box with properties",t);s=s||function(u){Q.verbose("Executing animation callback");if(u!==g){u.stopPropagation()}Q.reset();Q.set.active()};K.beforeChange.call(G[0]);if(Q.get.transitionEvent()){Q.verbose("Starting CSS animation");I.addClass(N.animating);l.css(t).one(Q.get.transitionEvent(),s);Q.set.duration(K.duration);o(function(){I.addClass(N.animating);L.addClass(N.hidden)})}else{s()}},queue:function(s){Q.debug("Queueing animation of",s);l.one(Q.get.transitionEvent(),function(){Q.debug("Executing queued animation");setTimeout(function(){I.shape(s)},0)})},reset:function(){Q.verbose("Animating states reset");I.removeClass(N.animating).attr("style","").removeAttr("style");l.attr("style","").removeAttr("style");H.attr("style","").removeAttr("style").removeClass(N.hidden);G.removeClass(N.animating).attr("style","").removeAttr("style")},is:{complete:function(){return(H.filter("."+N.active)[0]==G[0])},animating:function(){return I.hasClass(N.animating)},hidden:function(){return I.closest(":hidden").length>0}},set:{defaultSide:function(){L=H.filter("."+K.className.active);G=(L.next(M.side).length>0)?L.next(M.side):H.first();m=false;Q.verbose("Active side set to",L);Q.verbose("Next side set to",G)},duration:function(s){s=s||K.duration;s=(typeof s=="number")?s+"ms":s;Q.verbose("Setting animation duration",s);if(K.duration||K.duration===0){l.add(H).css({"-webkit-transition-duration":s,"-moz-transition-duration":s,"-ms-transition-duration":s,"-o-transition-duration":s,"transition-duration":s})}},currentStageSize:function(){var s=H.filter("."+K.className.active),t=s.outerWidth(true),u=s.outerHeight(true);I.css({width:t,height:u})},stageSize:function(){var s=I.clone().addClass(N.loading),x=s.find(">"+M.sides+">"+M.side),u=x.filter("."+K.className.active),t=(m)?x.eq(m):(u.next(M.side).length>0)?u.next(M.side):x.first(),v=(K.width==="next")?t.outerWidth(true):(K.width==="initial")?I.width():K.width,w=(K.height==="next")?t.outerHeight(true):(K.height==="initial")?I.height():K.height;u.removeClass(N.active);t.addClass(N.active);s.insertAfter(I);s.remove();if(K.width!=="auto"){I.css("width",v+K.jitter);Q.verbose("Specifying width during animation",v)}if(K.height!=="auto"){I.css("height",w+K.jitter);Q.verbose("Specifying height during animation",w)}},nextSide:function(s){m=s;G=H.filter(s);m=H.index(G);if(G.length===0){Q.set.defaultSide();Q.error(O.side)}Q.verbose("Next side manually set to",G)},active:function(){Q.verbose("Setting new side to active",G);H.removeClass(N.active);G.addClass(N.active);K.onChange.call(G[0]);Q.set.defaultSide()}},flip:{to:function(s,t){if(Q.is.hidden()){Q.debug("Module not visible",G);return}if(Q.is.complete()&&!Q.is.animating()&&!K.allowRepeats){Q.debug("Side already visible",G);return}var u=Q.get.transform[s]();if(!Q.is.animating()){Q.debug("Flipping "+s,G);Q.set.stageSize();Q.stage[t]();Q.animate(u)}else{Q.queue("flip "+s)}},up:function(){Q.flip.to("up","above")},down:function(){Q.flip.to("down","below")},left:function(){Q.flip.to("left","left")},right:function(){Q.flip.to("right","right")},over:function(){Q.flip.to("over","behind")},back:function(){Q.flip.to("back","behind")}},get:{transform:{up:function(){var t=L.outerHeight(true)/2,s=G.outerHeight(true)-t;return{transform:"translateY("+s+"px) translateZ(-"+t+"px) rotateX(-90deg)"}},down:function(){var s={z:L.outerHeight(true)/2};return{transform:"translateY(-"+s.z+"px) translateZ(-"+s.z+"px) rotateX(90deg)"}},left:function(){var t=L.outerWidth(true)/2,s=G.outerWidth(true)-t;return{transform:"translateX("+s+"px) translateZ(-"+t+"px) rotateY(90deg)"}},right:function(){var s={z:L.outerWidth(true)/2};return{transform:"translateX(-"+s.z+"px) translateZ(-"+s.z+"px) rotateY(-90deg)"}},over:function(){var s={x:-((L.outerWidth(true)-G.outerWidth(true))/2)};return{transform:"translateX("+s.x+"px) rotateY(180deg)"}},back:function(){var s={x:-((L.outerWidth(true)-G.outerWidth(true))/2)};return{transform:"translateX("+s.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var u=f.createElement("element"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},s;for(s in t){if(u.style[s]!==g){return t[s]}}},nextSide:function(){return(L.next(M.side).length>0)?L.next(M.side):H.first()}},stage:{above:function(){var s={origin:((L.outerHeight(true)-G.outerHeight(true))/2),depth:{active:(G.outerHeight(true)/2),next:(L.outerHeight(true)/2)}};Q.verbose("Setting the initial animation position as above",G,s);L.css({transform:"rotateX(0deg)"});G.addClass(N.animating).css({top:s.origin+"px",transform:"rotateX(90deg) translateZ("+s.depth.next+"px) translateY(-"+s.depth.active+"px)"})},below:function(){var s={origin:((L.outerHeight(true)-G.outerHeight(true))/2),depth:{active:(G.outerHeight(true)/2),next:(L.outerHeight(true)/2)}};Q.verbose("Setting the initial animation position as below",G,s);L.css({transform:"rotateX(0deg)"});G.addClass(N.animating).css({top:s.origin+"px",transform:"rotateX(-90deg) translateZ("+s.depth.next+"px) translateY("+s.depth.active+"px)"})},left:function(){var t={active:L.outerWidth(true),next:G.outerWidth(true)},s={origin:((t.active-t.next)/2),depth:{active:(t.next/2),next:(t.active/2)}};Q.verbose("Setting the initial animation position as left",G,s);L.css({transform:"rotateY(0deg)"});G.addClass(N.animating).css({left:s.origin+"px",transform:"rotateY(-90deg) translateZ("+s.depth.next+"px) translateX(-"+s.depth.active+"px)"})},right:function(){var t={active:L.outerWidth(true),next:G.outerWidth(true)},s={origin:((t.active-t.next)/2),depth:{active:(t.next/2),next:(t.active/2)}};Q.verbose("Setting the initial animation position as right",G,s);L.css({transform:"rotateY(0deg)"});G.addClass(N.animating).css({left:s.origin+"px",transform:"rotateY(90deg) translateZ("+s.depth.next+"px) translateX("+s.depth.active+"px)"})},behind:function(){var t={active:L.outerWidth(true),next:G.outerWidth(true)},s={origin:((t.active-t.next)/2),depth:{active:(t.next/2),next:(t.active/2)}};Q.verbose("Setting the initial animation position as behind",G,s);L.css({transform:"rotateY(0deg)"});G.addClass(N.animating).css({left:s.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,s){Q.debug("Changing setting",t,s);if(h.isPlainObject(t)){h.extend(true,K,t)}else{if(s!==g){if(h.isPlainObject(K[t])){h.extend(true,K[t],s)}else{K[t]=s}}else{return K[t]}}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(true,Q,t)}else{if(s!==g){Q[t]=s}else{return Q[t]}}},debug:function(){if(!K.silent&&K.debug){if(K.performance){Q.performance.log(arguments)}else{Q.debug=Function.prototype.bind.call(console.info,console,K.name+":");Q.debug.apply(console,arguments)}}},verbose:function(){if(!K.silent&&K.verbose&&K.debug){if(K.performance){Q.performance.log(arguments)}else{Q.verbose=Function.prototype.bind.call(console.info,console,K.name+":");Q.verbose.apply(console,arguments)}}},error:function(){if(!K.silent){Q.error=Function.prototype.bind.call(console.error,console,K.name+":");Q.error.apply(console,arguments)}},performance:{log:function(t){var u,s,v;if(K.performance){u=new Date().getTime();v=q||u;s=u-v;q=u;d.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:P,"Execution Time":s})}clearTimeout(Q.performance.timer);Q.performance.timer=setTimeout(Q.performance.display,500)},display:function(){var s=K.name+":",t=0;q=false;clearTimeout(Q.performance.timer);h.each(d,function(v,u){t+=u["Execution Time"]});s+=" "+t+"ms";if(R){s+=" '"+R+"'"}if(c.length>1){s+=" ("+c.length+")"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(s);if(console.table){console.table(d)}else{h.each(d,function(v,u){console.log(u.Name+": "+u["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(t,x,v){var w=J,s,u,y;x=x||b;v=P||v;if(typeof t=="string"&&w!==g){t=t.split(/[\. ]/);s=t.length-1;h.each(t,function(z,A){var B=(z!=s)?A+t[z+1].charAt(0).toUpperCase()+t[z+1].slice(1):t;if(h.isPlainObject(w[B])&&(z!=s)){w=w[B]}else{if(w[B]!==g){u=w[B];return false}else{if(h.isPlainObject(w[A])&&(z!=s)){w=w[A]}else{if(w[A]!==g){u=w[A];return false}else{return false}}}}})}if(h.isFunction(u)){y=u.apply(v,x)}else{if(u!==g){y=u}}if(Array.isArray(p)){p.push(y)}else{if(p!==g){p=[p,y]}else{if(y!==g){p=y}}}return u}};if(r){if(J===g){Q.initialize()}var F=I.find("input");if(F.length>0){F.blur();setTimeout(function(){Q.invoke(n)},150)}else{Q.invoke(n)}}else{if(J!==g){J.invoke("destroy")}Q.initialize()}});return(p!==g)?p:this};h.fn.shape.settings={name:"Shape",silent:false,debug:false,verbose:false,jitter:0,performance:true,namespace:"shape",width:"initial",height:"initial",beforeChange:function(){},onChange:function(){},allowRepeats:false,duration:false,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}})(jQuery,window,document);