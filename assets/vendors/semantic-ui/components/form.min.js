/*!
 * # Fomantic-UI - Form Validation
 * http://github.com/fomantic/Fomantic-UI/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(c,b,a,d){c.isFunction=c.isFunction||function(e){return typeof e==="function"&&typeof e.nodeType!=="number"};b=(typeof b!="undefined"&&b.Math==Math)?b:(typeof self!="undefined"&&self.Math==Math)?self:Function("return this")();c.fn.form=function(n){var l=c(this),i=l.selector||"",f=new Date().getTime(),k=[],j=arguments[0],h=arguments[1],e=(typeof j=="string"),m=[].slice.call(arguments,1),g;l.each(function(){var t=c(this),p=this,L=[],r=false,E,N,M,H,D,s,A,J,w,z,I,q,u,F,y,B,C,G=false,v=false,x=["clean","clean"],K,o;o={initialize:function(){o.get.settings();if(e){if(K===d){o.instantiate()}o.invoke(j)}else{if(K!==d){K.invoke("destroy")}o.verbose("Initializing form validation",t,J);o.bindEvents();o.set.defaults();o.instantiate()}},instantiate:function(){o.verbose("Storing instance of module",o);K=o;t.data(B,o)},destroy:function(){o.verbose("Destroying previous module",K);o.removeEvents();t.removeData(B)},refresh:function(){o.verbose("Refreshing selector cache");E=t.find(I.field);N=t.find(I.group);M=t.find(I.message);H=t.find(I.prompt);D=t.find(I.submit);s=t.find(I.clear);A=t.find(I.reset)},submit:function(){o.verbose("Submitting form",t);G=true;t.submit()},attachEvents:function(O,P){P=P||"submit";c(O).on("click"+C,function(Q){o[P]();Q.preventDefault()})},bindEvents:function(){o.verbose("Attaching form events");t.on("submit"+C,o.validate.form).on("blur"+C,I.field,o.event.field.blur).on("click"+C,I.submit,o.submit).on("click"+C,I.reset,o.reset).on("click"+C,I.clear,o.clear);if(J.keyboardShortcuts){t.on("keydown"+C,I.field,o.event.field.keydown)}E.each(function(O,Q){var S=c(Q),P=S.prop("type"),R=o.get.changeEvent(P,S);S.on(R+C,o.event.field.change)});if(J.preventLeaving){c(b).on("beforeunload"+C,o.event.beforeUnload)}E.on("change click keyup keydown blur",function(O){c(this).trigger(O.type+".dirty")});E.on("change.dirty click.dirty keyup.dirty keydown.dirty blur.dirty",o.determine.isDirty);t.on("dirty"+C,function(O){J.onDirty.call()});t.on("clean"+C,function(O){J.onClean.call()})},clear:function(){E.each(function(S,Q){var W=c(Q),Z=W.parent(),Y=W.closest(N),X=Y.find(I.prompt),O=W.closest(I.uiCalendar),T=W.data(z.defaultValue)||"",R=Z.is(I.uiCheckbox),V=Z.is(I.uiDropdown),P=(O.length>0),U=Y.hasClass(q.error);if(U){o.verbose("Resetting error on field",Y);Y.removeClass(q.error);X.remove()}if(V){o.verbose("Resetting dropdown value",Z,T);Z.dropdown("clear")}else{if(R){W.prop("checked",false)}else{if(P){O.calendar("clear")}else{o.verbose("Resetting field value",W,T);W.val("")}}}})},reset:function(){E.each(function(S,Q){var W=c(Q),Z=W.parent(),Y=W.closest(N),O=W.closest(I.uiCalendar),X=Y.find(I.prompt),T=W.data(z.defaultValue),R=Z.is(I.uiCheckbox),V=Z.is(I.uiDropdown),P=(O.length>0),U=Y.hasClass(q.error);if(T===d){return}if(U){o.verbose("Resetting error on field",Y);Y.removeClass(q.error);X.remove()}if(V){o.verbose("Resetting dropdown value",Z,T);Z.dropdown("restore defaults")}else{if(R){o.verbose("Resetting checkbox value",Z,T);W.prop("checked",T)}else{if(P){O.calendar("set date",T)}else{o.verbose("Resetting field value",W,T);W.val(T)}}}});o.determine.isDirty()},determine:{isValid:function(){var O=true;c.each(w,function(Q,P){if(!(o.validate.field(P,Q,true))){O=false}});return O},isDirty:function(P){var O=false;E.each(function(Q,T){var R=c(T),S=(R.filter(I.checkbox).length>0),U;if(S){U=o.is.checkboxDirty(R)}else{U=o.is.fieldDirty(R)}R.data(J.metadata.isDirty,U);O|=U});if(O){o.set.dirty()}else{o.set.clean()}if(P&&P.namespace==="dirty"){P.stopImmediatePropagation();P.preventDefault()}}},is:{bracketedRule:function(O){return(O.type&&O.type.match(J.regExp.bracket))},shorthandFields:function(O){var P=Object.keys(O),Q=O[P[0]];return o.is.shorthandRules(Q)},shorthandRules:function(O){return(typeof O=="string"||Array.isArray(O))},empty:function(O){if(!O||O.length===0){return true}else{if(O.is(I.checkbox)){return !O.is(":checked")}else{return o.is.blank(O)}}},blank:function(O){return c.trim(O.val())===""},valid:function(O){var P=true;if(O){o.verbose("Checking if field is valid",O);return o.validate.field(w[O],O,false)}else{o.verbose("Checking if form is valid");c.each(w,function(R,Q){if(!o.is.valid(R)){P=false}});return P}},dirty:function(){return v},clean:function(){return !v},fieldDirty:function(Q){var P=Q.data(z.defaultValue);if(P==null){P=""}var S=Q.val();if(S==null){S=""}var O=/^(true|false)$/i;var R=O.test(P)&&O.test(S);if(R){var T=new RegExp("^"+P+"$","i");return !T.test(S)}return S!==P},checkboxDirty:function(P){var O=P.data(z.defaultValue);var Q=P.is(":checked");return O!==Q},justDirty:function(){return(x[0]==="dirty")},justClean:function(){return(x[0]==="clean")}},removeEvents:function(){t.off(C);E.off(C);D.off(C);E.off(C)},event:{field:{keydown:function(S){var R=c(this),P=S.which,O=R.is(I.input),Q=R.is(I.checkbox),U=(R.closest(I.uiDropdown).length>0),T={enter:13,escape:27};if(P==T.escape){o.verbose("Escape key pressed blurring field");R.blur()}if(!S.ctrlKey&&P==T.enter&&O&&!U&&!Q){if(!r){R.one("keyup"+C,o.event.field.keyup);o.submit();o.debug("Enter pressed on input submitting form")}r=true}},keyup:function(){r=false},blur:function(Q){var P=c(this),R=P.closest(N),O=o.get.validation(P);if(R.hasClass(q.error)){o.debug("Revalidating field",P,O);if(O){o.validate.field(O)}}else{if(J.on=="blur"){if(O){o.validate.field(O)}}}},change:function(Q){var P=c(this),R=P.closest(N),O=o.get.validation(P);if(O&&(J.on=="change"||(R.hasClass(q.error)&&J.revalidate))){clearTimeout(o.timer);o.timer=setTimeout(function(){o.debug("Revalidating field",P,o.get.validation(P));o.validate.field(O)},J.delay)}}},beforeUnload:function(O){if(o.is.dirty()&&!G){var O=O||b.event;if(O){O.returnValue=J.text.leavingMessage}return J.text.leavingMessage}}},get:{ancillaryValue:function(O){if(!O.type||(!O.value&&!o.is.bracketedRule(O))){return false}return(O.value!==d)?O.value:O.type.match(J.regExp.bracket)[1]+""},ruleName:function(O){if(o.is.bracketedRule(O)){return O.type.replace(O.type.match(J.regExp.bracket)[0],"")}return O.type},changeEvent:function(O,P){if(O=="checkbox"||O=="radio"||O=="hidden"||P.is("select")){return"change"}else{return o.get.inputEvent()}},inputEvent:function(){return(a.createElement("input").oninput!==d)?"input":(a.createElement("input").onpropertychange!==d)?"propertychange":"keyup"},fieldsFromShorthand:function(O){var P={};c.each(O,function(Q,R){if(typeof R=="string"){R=[R]}P[Q]={rules:[]};c.each(R,function(S,T){P[Q].rules.push({type:T})})});return P},prompt:function(S,U){var V=o.get.ruleName(S),Q=o.get.ancillaryValue(S),T=o.get.field(U.identifier),W=T.val(),P=c.isFunction(S.prompt)?S.prompt(W):S.prompt||J.prompt[V]||J.text.unspecifiedRule,X=(P.search("{value}")!==-1),Y=(P.search("{name}")!==-1),R,O;if(X){P=P.replace("{value}",T.val())}if(Y){R=T.closest(I.group).find("label").eq(0);O=(R.length==1)?R.text():T.prop("placeholder")||J.text.unspecifiedField;P=P.replace("{name}",O)}P=P.replace("{identifier}",U.identifier);P=P.replace("{ruleValue}",Q);if(!S.prompt){o.verbose("Using default validation prompt for type",P,V)}return P},settings:function(){if(c.isPlainObject(n)){var P=Object.keys(n),O=(P.length>0)?(n[P[0]].identifier!==d&&n[P[0]].rules!==d):false;if(O){J=c.extend(true,{},c.fn.form.settings,h);w=c.extend({},c.fn.form.settings.defaults,n);o.error(J.error.oldSyntax,p);o.verbose("Extending settings from legacy parameters",w,J)}else{if(n.fields&&o.is.shorthandFields(n.fields)){n.fields=o.get.fieldsFromShorthand(n.fields)}J=c.extend(true,{},c.fn.form.settings,n);w=c.extend({},c.fn.form.settings.defaults,J.fields);o.verbose("Extending settings",w,J)}}else{J=c.fn.form.settings;w=c.fn.form.settings.defaults;o.verbose("Using default form validation",w,J)}y=J.namespace;z=J.metadata;I=J.selector;q=J.className;u=J.regExp;F=J.error;B="module-"+y;C="."+y;K=t.data(B);o.refresh()},field:function(O){o.verbose("Finding field with identifier",O);O=o.escape.string(O);var P;if((P=E.filter("#"+O)).length>0){return P}if((P=E.filter('[name="'+O+'"]')).length>0){return P}if((P=E.filter('[name="'+O+'[]"]')).length>0){return P}if((P=E.filter("[data-"+z.validate+'="'+O+'"]')).length>0){return P}return c("<input/>")},fields:function(O){var P=c();c.each(O,function(R,Q){P=P.add(o.get.field(Q))});return P},validation:function(Q){var P,O;if(!w){return false}c.each(w,function(S,R){O=R.identifier||S;c.each(o.get.field(O),function(U,T){if(T==Q[0]){R.identifier=O;P=R;return false}})});return P||false},value:function(Q){var O=[],P;O.push(Q);P=o.get.values.call(p,O);return P[Q]},values:function(O){var Q=Array.isArray(O)?o.get.fields(O):E,P={};Q.each(function(Z,ac){var ab=c(ac),R=ab.closest(I.uiCalendar),T=ab.prop("name"),ad=ab.val(),W=ab.is(I.checkbox),S=ab.is(I.radio),Y=(T.indexOf("[]")!==-1),U=(R.length>0),X=(W)?ab.is(":checked"):false;if(T){if(Y){T=T.replace("[]","");if(!P[T]){P[T]=[]}if(W){if(X){P[T].push(ad||true)}else{P[T].push(false)}}else{P[T].push(ad)}}else{if(S){if(P[T]===d||P[T]==false){P[T]=(X)?ad||true:false}}else{if(W){if(X){P[T]=ad||true}else{P[T]=false}}else{if(U){var V=R.calendar("get date");if(V!==null){if(J.dateHandling=="date"){P[T]=V}else{if(J.dateHandling=="input"){P[T]=R.calendar("get input date")}else{if(J.dateHandling=="formatter"){var aa=R.calendar("setting","type");switch(aa){case"date":P[T]=J.formatter.date(V);break;case"datetime":P[T]=J.formatter.datetime(V);break;case"time":P[T]=J.formatter.time(V);break;case"month":P[T]=J.formatter.month(V);break;case"year":P[T]=J.formatter.year(V);break;default:o.debug("Wrong calendar mode",R,aa);P[T]=""}}}}}else{P[T]=""}}else{P[T]=ad}}}}}});return P},dirtyFields:function(){return E.filter(function(O,P){return c(P).data(z.isDirty)})}},has:{field:function(O){o.verbose("Checking for existence of a field with identifier",O);O=o.escape.string(O);if(typeof O!=="string"){o.error(F.identifier,O)}if(E.filter("#"+O).length>0){return true}else{if(E.filter('[name="'+O+'"]').length>0){return true}else{if(E.filter("[data-"+z.validate+'="'+O+'"]').length>0){return true}}}return false}},escape:{string:function(O){O=String(O);return O.replace(u.escape,"\\$&")}},add:{rule:function(O,P){o.add.field(O,P)},field:function(P,Q){var O={};if(o.is.shorthandRules(Q)){Q=Array.isArray(Q)?Q:[Q];O[P]={rules:[]};c.each(Q,function(R,S){O[P].rules.push({type:S})})}else{O[P]=Q}w=c.extend({},w,O);o.debug("Adding rules",O,w)},fields:function(P){var O;if(P&&o.is.shorthandFields(P)){O=o.get.fieldsFromShorthand(P)}else{O=P}w=c.extend({},w,O)},prompt:function(R,U,O){var S=o.get.field(R),T=S.closest(N),Q=T.children(I.prompt),P=(Q.length!==0);U=(typeof U=="string")?[U]:U;o.verbose("Adding field error state",R);if(!O){T.addClass(q.error)}if(J.inline){if(!P){Q=J.templates.prompt(U,q.label);Q.appendTo(T)}Q.html(U[0]);if(!P){if(J.transition&&c.fn.transition!==d&&t.transition("is supported")){o.verbose("Displaying error with css transition",J.transition);Q.transition(J.transition+" in",J.duration)}else{o.verbose("Displaying error with fallback javascript animation");Q.fadeIn(J.duration)}}else{o.verbose("Inline errors are disabled, no inline error added",R)}}},errors:function(O){o.debug("Adding form error messages",O);o.set.error();M.html(J.templates.error(O))}},remove:{rule:function(P,O){var Q=Array.isArray(O)?O:[O];if(w[P]===d||!Array.isArray(w[P].rules)){return}if(O===d){o.debug("Removed all rules");w[P].rules=[];return}c.each(w[P].rules,function(R,S){if(S&&Q.indexOf(S.type)!==-1){o.debug("Removed rule",S.type);w[P].rules.splice(R,1)}})},field:function(P){var O=Array.isArray(P)?P:[P];c.each(O,function(Q,R){o.remove.rule(R)})},rules:function(O,P){if(Array.isArray(O)){c.each(O,function(Q,R){o.remove.rule(R,P)})}else{o.remove.rule(O,P)}},fields:function(O){o.remove.field(O)},prompt:function(P){var Q=o.get.field(P),R=Q.closest(N),O=R.children(I.prompt);R.removeClass(q.error);if(J.inline&&O.is(":visible")){o.verbose("Removing prompt for field",P);if(J.transition&&c.fn.transition!==d&&t.transition("is supported")){O.transition(J.transition+" out",J.duration,function(){O.remove()})}else{O.fadeOut(J.duration,function(){O.remove()})}}}},set:{success:function(){t.removeClass(q.error).addClass(q.success)},defaults:function(){E.each(function(O,R){var P=c(R),U=P.parent(),Q=(P.filter(I.checkbox).length>0),T=U.is(I.uiDropdown),S=(Q)?P.is(":checked"):P.val();if(T){U.dropdown("save defaults")}P.data(z.defaultValue,S);P.data(z.isDirty,false)})},error:function(){t.removeClass(q.success).addClass(q.error)},value:function(Q,P){var O={};O[Q]=P;return o.set.values.call(p,O)},values:function(O){if(c.isEmptyObject(O)){return}c.each(O,function(X,W){var U=o.get.field(X),Y=U.parent(),R=Array.isArray(W),Q=Y.is(I.uiCheckbox),T=Y.is(I.uiDropdown),P=(U.is(I.radio)&&Q),V=(U.length>0),S;if(V){if(R&&Q){o.verbose("Selecting multiple",W,U);Y.checkbox("uncheck");c.each(W,function(Z,aa){S=U.filter('[value="'+aa+'"]');Y=S.parent();if(S.length>0){Y.checkbox("check")}})}else{if(P){o.verbose("Selecting radio value",W,U);U.filter('[value="'+W+'"]').parent(I.uiCheckbox).checkbox("check")}else{if(Q){o.verbose("Setting checkbox value",W,Y);if(W===true){Y.checkbox("check")}else{Y.checkbox("uncheck")}}else{if(T){o.verbose("Setting dropdown value",W,Y);Y.dropdown("set selected",W)}else{o.verbose("Setting field value",W,U);U.val(W)}}}}}})},dirty:function(){o.verbose("Setting state dirty");v=true;x[0]=x[1];x[1]="dirty";if(o.is.justClean()){t.trigger("dirty")}},clean:function(){o.verbose("Setting state clean");v=false;x[0]=x[1];x[1]="clean";if(o.is.justDirty()){t.trigger("clean")}},asClean:function(){o.set.defaults();o.set.clean()},asDirty:function(){o.set.defaults();o.set.dirty()}},validate:{form:function(Q,P){var O=o.get.values();if(r){return false}L=[];if(o.determine.isValid()){o.debug("Form has no validation errors, submitting");o.set.success();if(P!==true){return J.onSuccess.call(p,Q,O)}}else{o.debug("Form has errors");o.set.error();if(!J.inline){o.add.errors(L)}if(Q&&t.data("moduleApi")!==d){Q.stopImmediatePropagation()}if(P!==true){return J.onFailure.call(p,L,O)}}},field:function(S,V,W){W=(W!==d)?W:true;if(typeof S=="string"){o.verbose("Validating field",S);V=S;S=w[S]}var Q=S.identifier||V,R=o.get.field(Q),O=(S.depends)?o.get.field(S.depends):false,P=true,T=[];if(!S.identifier){o.debug("Using field name as identifier",Q);S.identifier=Q}var U=true;c.each(R,function(){if(!c(this).prop("disabled")){U=false;return false}});if(U){o.debug("Field is disabled. Skipping",Q)}else{if(S.optional&&o.is.blank(R)){o.debug("Field is optional and blank. Skipping",Q)}else{if(S.depends&&o.is.empty(O)){o.debug("Field depends on another value that is not present or empty. Skipping",O)}else{if(S.rules!==d){R.closest(N).removeClass(q.error);c.each(S.rules,function(X,Z){if(o.has.field(Q)){var Y=o.validate.rule(S,Z,true)||[];if(Y.length>0){o.debug("Field is invalid",Q,Z.type);T.push(o.get.prompt(Z,S));P=false;if(W){c(Y).closest(N).addClass(q.error)}}}})}}}}if(P){if(W){o.remove.prompt(Q,T);J.onValid.call(R)}}else{if(W){L=L.concat(T);o.add.prompt(Q,T,true);J.onInvalid.call(R,T)}return false}return true},rule:function(V,T,P){var U=o.get.field(V.identifier),R=o.get.ancillaryValue(T),W=o.get.ruleName(T),Q=J.rules[W],S=[],O=U.is(I.checkbox),X=function(Z){var Y=(O?c(Z).filter(":checked").val():c(Z).val());Y=(Y===d||Y===""||Y===null)?"":(J.shouldTrim)?c.trim(Y+""):String(Y+"");return Q.call(Z,Y,R,t)};if(!c.isFunction(Q)){o.error(F.noRule,W);return}if(O){if(!X(U)){S=U}}else{c.each(U,function(Y,Z){if(!X(Z)){S.push(Z)}})}return P?S:!(S.length>0)}},setting:function(O,P){if(c.isPlainObject(O)){c.extend(true,J,O)}else{if(P!==d){J[O]=P}else{return J[O]}}},internal:function(O,P){if(c.isPlainObject(O)){c.extend(true,o,O)}else{if(P!==d){o[O]=P}else{return o[O]}}},debug:function(){if(!J.silent&&J.debug){if(J.performance){o.performance.log(arguments)}else{o.debug=Function.prototype.bind.call(console.info,console,J.name+":");o.debug.apply(console,arguments)}}},verbose:function(){if(!J.silent&&J.verbose&&J.debug){if(J.performance){o.performance.log(arguments)}else{o.verbose=Function.prototype.bind.call(console.info,console,J.name+":");o.verbose.apply(console,arguments)}}},error:function(){if(!J.silent){o.error=Function.prototype.bind.call(console.error,console,J.name+":");o.error.apply(console,arguments)}},performance:{log:function(Q){var P,R,O;if(J.performance){P=new Date().getTime();O=f||P;R=P-O;f=P;k.push({Name:Q[0],Arguments:[].slice.call(Q,1)||"",Element:p,"Execution Time":R})}clearTimeout(o.performance.timer);o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var P=J.name+":",O=0;f=false;clearTimeout(o.performance.timer);c.each(k,function(Q,R){O+=R["Execution Time"]});P+=" "+O+"ms";if(i){P+=" '"+i+"'"}if(l.length>1){P+=" ("+l.length+")"}if((console.group!==d||console.table!==d)&&k.length>0){console.groupCollapsed(P);if(console.table){console.table(k)}else{c.each(k,function(Q,R){console.log(R.Name+": "+R["Execution Time"]+"ms")})}console.groupEnd()}k=[]}},invoke:function(T,P,R){var Q=K,U,S,O;P=P||m;R=p||R;if(typeof T=="string"&&Q!==d){T=T.split(/[\. ]/);U=T.length-1;c.each(T,function(X,W){var V=(X!=U)?W+T[X+1].charAt(0).toUpperCase()+T[X+1].slice(1):T;if(c.isPlainObject(Q[V])&&(X!=U)){Q=Q[V]}else{if(Q[V]!==d){S=Q[V];return false}else{if(c.isPlainObject(Q[W])&&(X!=U)){Q=Q[W]}else{if(Q[W]!==d){S=Q[W];return false}else{return false}}}}})}if(c.isFunction(S)){O=S.apply(R,P)}else{if(S!==d){O=S}}if(Array.isArray(g)){g.push(O)}else{if(g!==d){g=[g,O]}else{if(O!==d){g=O}}}return S}};o.initialize()});return(g!==d)?g:this};c.fn.form.settings={name:"Form",namespace:"form",debug:false,verbose:false,performance:true,fields:false,keyboardShortcuts:true,on:"submit",inline:false,delay:200,revalidate:true,shouldTrim:true,transition:"scale",duration:200,preventLeaving:false,dateHandling:"date",onValid:function(){},onInvalid:function(){},onSuccess:function(){return true},onFailure:function(){return false},onDirty:function(){},onClean:function(){},metadata:{defaultValue:"default",validate:"validate",isDirty:"isDirty"},regExp:{htmlID:/^[a-zA-Z][\w:.-]*$/g,bracket:/\[(.*)\]/i,decimal:/^\d+\.?\d*$/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|:,=@]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field",leavingMessage:"There are unsaved changes on this page which will be discarded if you continue."},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} must contain "{ruleValue}"',containExactly:'{name} must contain exactly "{ruleValue}"',doesntContain:'{name} cannot contain  "{ruleValue}"',doesntContainExactly:'{name} cannot contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown",uiCalendar:".ui.calendar"},className:{error:"error",label:"ui basic red pointing prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(f){var e='<ul class="list">';c.each(f,function(g,h){e+="<li>"+h+"</li>"});e+="</ul>";return c(e)},prompt:function(f,e){return c("<div/>").addClass(e).html(f[0])}},formatter:{date:function(e){return Intl.DateTimeFormat("en-GB").format(e)},datetime:function(e){return Intl.DateTimeFormat("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e)},time:function(e){return Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e)},month:function(e){return Intl.DateTimeFormat("en-GB",{month:"2-digit",year:"numeric"}).format(e)},year:function(e){return Intl.DateTimeFormat("en-GB",{year:"numeric"}).format(e)}},rules:{empty:function(e){return !(e===d||""===e||Array.isArray(e)&&e.length===0)},checked:function(){return(c(this).filter(":checked").length>0)},email:function(e){return c.fn.form.settings.regExp.email.test(e)},url:function(e){return c.fn.form.settings.regExp.url.test(e)},regExp:function(h,g){if(g instanceof RegExp){return h.match(g)}var f=g.match(c.fn.form.settings.regExp.flags),e;if(f){g=(f.length>=2)?f[1]:g;e=(f.length>=3)?f[2]:""}return h.match(new RegExp(g,e))},integer:function(i,f){var h=c.fn.form.settings.regExp.integer,g,e,j;if(!f||["",".."].indexOf(f)!==-1){}else{if(f.indexOf("..")==-1){if(h.test(f)){g=e=f-0}}else{j=f.split("..",2);if(h.test(j[0])){g=j[0]-0}if(h.test(j[1])){e=j[1]-0}}}return(h.test(i)&&(g===d||i>=g)&&(e===d||i<=e))},decimal:function(e){return c.fn.form.settings.regExp.decimal.test(e)},number:function(e){return c.fn.form.settings.regExp.number.test(e)},is:function(e,f){f=(typeof f=="string")?f.toLowerCase():f;e=(typeof e=="string")?e.toLowerCase():e;return(e==f)},isExactly:function(e,f){return(e==f)},not:function(f,e){f=(typeof f=="string")?f.toLowerCase():f;e=(typeof e=="string")?e.toLowerCase():e;return(f!=e)},notExactly:function(f,e){return(f!=e)},contains:function(e,f){f=f.replace(c.fn.form.settings.regExp.escape,"\\$&");return(e.search(new RegExp(f,"i"))!==-1)},containsExactly:function(e,f){f=f.replace(c.fn.form.settings.regExp.escape,"\\$&");return(e.search(new RegExp(f))!==-1)},doesntContain:function(e,f){f=f.replace(c.fn.form.settings.regExp.escape,"\\$&");return(e.search(new RegExp(f,"i"))===-1)},doesntContainExactly:function(e,f){f=f.replace(c.fn.form.settings.regExp.escape,"\\$&");return(e.search(new RegExp(f))===-1)},minLength:function(f,e){return(f!==d)?(f.length>=e):false},length:function(f,e){return(f!==d)?(f.length>=e):false},exactLength:function(f,e){return(f!==d)?(f.length==e):false},maxLength:function(f,e){return(f!==d)?(f.length<=e):false},match:function(i,f,h){var g,e;if((e=h.find('[data-validate="'+f+'"]')).length>0){g=e.val()}else{if((e=h.find("#"+f)).length>0){g=e.val()}else{if((e=h.find('[name="'+f+'"]')).length>0){g=e.val()}else{if((e=h.find('[name="'+f+'[]"]')).length>0){g=e}}}}return(g!==d)?(i.toString()==g.toString()):false},different:function(i,f,h){var g,e;if((e=h.find('[data-validate="'+f+'"]')).length>0){g=e.val()}else{if((e=h.find("#"+f)).length>0){g=e.val()}else{if((e=h.find('[name="'+f+'"]')).length>0){g=e.val()}else{if((e=h.find('[name="'+f+'[]"]')).length>0){g=e}}}}return(g!==d)?(i.toString()!==g.toString()):false},creditCard:function(p,i){var f={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},e={},k=false,g=(typeof i=="string")?i.split(","):false,n,j;if(typeof p!=="string"||p.length===0){return}p=p.replace(/[\-]/g,"");if(g){c.each(g,function(q,r){j=f[r];if(j){e={length:(c.inArray(p.length,j.length)!==-1),pattern:(p.search(j.pattern)!==-1)};if(e.length&&e.pattern){k=true}}});if(!k){return false}}n={number:(c.inArray(p.length,f.unionPay.length)!==-1),pattern:(p.search(f.unionPay.pattern)!==-1)};if(n.number&&n.pattern){return true}var h=p.length,o=0,l=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],m=0;while(h--){m+=l[o][parseInt(p.charAt(h),10)];o^=1}return(m%10===0&&m>0)},minCount:function(f,e){if(e==0){return true}if(e==1){return(f!=="")}return(f.split(",").length>=e)},exactCount:function(e,f){if(f==0){return(e==="")}if(f==1){return(e!==""&&e.search(",")===-1)}return(e.split(",").length==f)},maxCount:function(f,e){if(e==0){return false}if(e==1){return(f.search(",")===-1)}return(f.split(",").length<=e)}}}})(jQuery,window,document);